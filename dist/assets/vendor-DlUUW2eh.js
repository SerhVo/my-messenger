var Lk=Object.defineProperty;var Nk=(n,e,t)=>e in n?Lk(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var dt=(n,e,t)=>Nk(n,typeof e!="symbol"?e+"":e,t);var Cp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function gg(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function Ok(n){if(n.__esModule)return n;var e=n.default;if(typeof e=="function"){var t=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}),t}var kp={exports:{}},lu={},bp={exports:{}},$e={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yv;function Mk(){if(yv)return $e;yv=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),_=Symbol.iterator;function y(M){return M===null||typeof M!="object"?null:(M=_&&M[_]||M["@@iterator"],typeof M=="function"?M:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,k={};function A(M,j,G){this.props=M,this.context=j,this.refs=k,this.updater=G||E}A.prototype.isReactComponent={},A.prototype.setState=function(M,j){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,j,"setState")},A.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function L(){}L.prototype=A.prototype;function b(M,j,G){this.props=M,this.context=j,this.refs=k,this.updater=G||E}var S=b.prototype=new L;S.constructor=b,w(S,A.prototype),S.isPureReactComponent=!0;var B=Array.isArray,U=Object.prototype.hasOwnProperty,z={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function C(M,j,G){var Z,fe={},ve=null,Be=null;if(j!=null)for(Z in j.ref!==void 0&&(Be=j.ref),j.key!==void 0&&(ve=""+j.key),j)U.call(j,Z)&&!I.hasOwnProperty(Z)&&(fe[Z]=j[Z]);var me=arguments.length-2;if(me===1)fe.children=G;else if(1<me){for(var He=Array(me),ot=0;ot<me;ot++)He[ot]=arguments[ot+2];fe.children=He}if(M&&M.defaultProps)for(Z in me=M.defaultProps,me)fe[Z]===void 0&&(fe[Z]=me[Z]);return{$$typeof:n,type:M,key:ve,ref:Be,props:fe,_owner:z.current}}function N(M,j){return{$$typeof:n,type:M.type,key:j,ref:M.ref,props:M.props,_owner:M._owner}}function P(M){return typeof M=="object"&&M!==null&&M.$$typeof===n}function D(M){var j={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(G){return j[G]})}var V=/\/+/g;function F(M,j){return typeof M=="object"&&M!==null&&M.key!=null?D(""+M.key):j.toString(36)}function ce(M,j,G,Z,fe){var ve=typeof M;(ve==="undefined"||ve==="boolean")&&(M=null);var Be=!1;if(M===null)Be=!0;else switch(ve){case"string":case"number":Be=!0;break;case"object":switch(M.$$typeof){case n:case e:Be=!0}}if(Be)return Be=M,fe=fe(Be),M=Z===""?"."+F(Be,0):Z,B(fe)?(G="",M!=null&&(G=M.replace(V,"$&/")+"/"),ce(fe,j,G,"",function(ot){return ot})):fe!=null&&(P(fe)&&(fe=N(fe,G+(!fe.key||Be&&Be.key===fe.key?"":(""+fe.key).replace(V,"$&/")+"/")+M)),j.push(fe)),1;if(Be=0,Z=Z===""?".":Z+":",B(M))for(var me=0;me<M.length;me++){ve=M[me];var He=Z+F(ve,me);Be+=ce(ve,j,G,He,fe)}else if(He=y(M),typeof He=="function")for(M=He.call(M),me=0;!(ve=M.next()).done;)ve=ve.value,He=Z+F(ve,me++),Be+=ce(ve,j,G,He,fe);else if(ve==="object")throw j=String(M),Error("Objects are not valid as a React child (found: "+(j==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":j)+"). If you meant to render a collection of children, use an array instead.");return Be}function ge(M,j,G){if(M==null)return M;var Z=[],fe=0;return ce(M,Z,"","",function(ve){return j.call(G,ve,fe++)}),Z}function Ce(M){if(M._status===-1){var j=M._result;j=j(),j.then(function(G){(M._status===0||M._status===-1)&&(M._status=1,M._result=G)},function(G){(M._status===0||M._status===-1)&&(M._status=2,M._result=G)}),M._status===-1&&(M._status=0,M._result=j)}if(M._status===1)return M._result.default;throw M._result}var pe={current:null},ee={transition:null},he={ReactCurrentDispatcher:pe,ReactCurrentBatchConfig:ee,ReactCurrentOwner:z};function ie(){throw Error("act(...) is not supported in production builds of React.")}return $e.Children={map:ge,forEach:function(M,j,G){ge(M,function(){j.apply(this,arguments)},G)},count:function(M){var j=0;return ge(M,function(){j++}),j},toArray:function(M){return ge(M,function(j){return j})||[]},only:function(M){if(!P(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},$e.Component=A,$e.Fragment=t,$e.Profiler=i,$e.PureComponent=b,$e.StrictMode=r,$e.Suspense=h,$e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=he,$e.act=ie,$e.cloneElement=function(M,j,G){if(M==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+M+".");var Z=w({},M.props),fe=M.key,ve=M.ref,Be=M._owner;if(j!=null){if(j.ref!==void 0&&(ve=j.ref,Be=z.current),j.key!==void 0&&(fe=""+j.key),M.type&&M.type.defaultProps)var me=M.type.defaultProps;for(He in j)U.call(j,He)&&!I.hasOwnProperty(He)&&(Z[He]=j[He]===void 0&&me!==void 0?me[He]:j[He])}var He=arguments.length-2;if(He===1)Z.children=G;else if(1<He){me=Array(He);for(var ot=0;ot<He;ot++)me[ot]=arguments[ot+2];Z.children=me}return{$$typeof:n,type:M.type,key:fe,ref:ve,props:Z,_owner:Be}},$e.createContext=function(M){return M={$$typeof:l,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},M.Provider={$$typeof:a,_context:M},M.Consumer=M},$e.createElement=C,$e.createFactory=function(M){var j=C.bind(null,M);return j.type=M,j},$e.createRef=function(){return{current:null}},$e.forwardRef=function(M){return{$$typeof:c,render:M}},$e.isValidElement=P,$e.lazy=function(M){return{$$typeof:p,_payload:{_status:-1,_result:M},_init:Ce}},$e.memo=function(M,j){return{$$typeof:f,type:M,compare:j===void 0?null:j}},$e.startTransition=function(M){var j=ee.transition;ee.transition={};try{M()}finally{ee.transition=j}},$e.unstable_act=ie,$e.useCallback=function(M,j){return pe.current.useCallback(M,j)},$e.useContext=function(M){return pe.current.useContext(M)},$e.useDebugValue=function(){},$e.useDeferredValue=function(M){return pe.current.useDeferredValue(M)},$e.useEffect=function(M,j){return pe.current.useEffect(M,j)},$e.useId=function(){return pe.current.useId()},$e.useImperativeHandle=function(M,j,G){return pe.current.useImperativeHandle(M,j,G)},$e.useInsertionEffect=function(M,j){return pe.current.useInsertionEffect(M,j)},$e.useLayoutEffect=function(M,j){return pe.current.useLayoutEffect(M,j)},$e.useMemo=function(M,j){return pe.current.useMemo(M,j)},$e.useReducer=function(M,j,G){return pe.current.useReducer(M,j,G)},$e.useRef=function(M){return pe.current.useRef(M)},$e.useState=function(M){return pe.current.useState(M)},$e.useSyncExternalStore=function(M,j,G){return pe.current.useSyncExternalStore(M,j,G)},$e.useTransition=function(){return pe.current.useTransition()},$e.version="18.3.1",$e}var _v;function yg(){return _v||(_v=1,bp.exports=Mk()),bp.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vv;function Vk(){if(vv)return lu;vv=1;var n=yg(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(c,h,f){var p,_={},y=null,E=null;f!==void 0&&(y=""+f),h.key!==void 0&&(y=""+h.key),h.ref!==void 0&&(E=h.ref);for(p in h)r.call(h,p)&&!a.hasOwnProperty(p)&&(_[p]=h[p]);if(c&&c.defaultProps)for(p in h=c.defaultProps,h)_[p]===void 0&&(_[p]=h[p]);return{$$typeof:e,type:c,key:y,ref:E,props:_,_owner:i.current}}return lu.Fragment=t,lu.jsx=l,lu.jsxs=l,lu}var xv;function Uk(){return xv||(xv=1,kp.exports=Vk()),kp.exports}var pm=Uk(),xe=yg();const _t=gg(xe);var bh={},Sp={exports:{}},_r={},Ip={exports:{}},Rp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ev;function $k(){return Ev||(Ev=1,function(n){function e(ee,he){var ie=ee.length;ee.push(he);e:for(;0<ie;){var M=ie-1>>>1,j=ee[M];if(0<i(j,he))ee[M]=he,ee[ie]=j,ie=M;else break e}}function t(ee){return ee.length===0?null:ee[0]}function r(ee){if(ee.length===0)return null;var he=ee[0],ie=ee.pop();if(ie!==he){ee[0]=ie;e:for(var M=0,j=ee.length,G=j>>>1;M<G;){var Z=2*(M+1)-1,fe=ee[Z],ve=Z+1,Be=ee[ve];if(0>i(fe,ie))ve<j&&0>i(Be,fe)?(ee[M]=Be,ee[ve]=ie,M=ve):(ee[M]=fe,ee[Z]=ie,M=Z);else if(ve<j&&0>i(Be,ie))ee[M]=Be,ee[ve]=ie,M=ve;else break e}}return he}function i(ee,he){var ie=ee.sortIndex-he.sortIndex;return ie!==0?ie:ee.id-he.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();n.unstable_now=function(){return l.now()-c}}var h=[],f=[],p=1,_=null,y=3,E=!1,w=!1,k=!1,A=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(ee){for(var he=t(f);he!==null;){if(he.callback===null)r(f);else if(he.startTime<=ee)r(f),he.sortIndex=he.expirationTime,e(h,he);else break;he=t(f)}}function B(ee){if(k=!1,S(ee),!w)if(t(h)!==null)w=!0,Ce(U);else{var he=t(f);he!==null&&pe(B,he.startTime-ee)}}function U(ee,he){w=!1,k&&(k=!1,L(C),C=-1),E=!0;var ie=y;try{for(S(he),_=t(h);_!==null&&(!(_.expirationTime>he)||ee&&!D());){var M=_.callback;if(typeof M=="function"){_.callback=null,y=_.priorityLevel;var j=M(_.expirationTime<=he);he=n.unstable_now(),typeof j=="function"?_.callback=j:_===t(h)&&r(h),S(he)}else r(h);_=t(h)}if(_!==null)var G=!0;else{var Z=t(f);Z!==null&&pe(B,Z.startTime-he),G=!1}return G}finally{_=null,y=ie,E=!1}}var z=!1,I=null,C=-1,N=5,P=-1;function D(){return!(n.unstable_now()-P<N)}function V(){if(I!==null){var ee=n.unstable_now();P=ee;var he=!0;try{he=I(!0,ee)}finally{he?F():(z=!1,I=null)}}else z=!1}var F;if(typeof b=="function")F=function(){b(V)};else if(typeof MessageChannel<"u"){var ce=new MessageChannel,ge=ce.port2;ce.port1.onmessage=V,F=function(){ge.postMessage(null)}}else F=function(){A(V,0)};function Ce(ee){I=ee,z||(z=!0,F())}function pe(ee,he){C=A(function(){ee(n.unstable_now())},he)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ee){ee.callback=null},n.unstable_continueExecution=function(){w||E||(w=!0,Ce(U))},n.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<ee?Math.floor(1e3/ee):5},n.unstable_getCurrentPriorityLevel=function(){return y},n.unstable_getFirstCallbackNode=function(){return t(h)},n.unstable_next=function(ee){switch(y){case 1:case 2:case 3:var he=3;break;default:he=y}var ie=y;y=he;try{return ee()}finally{y=ie}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ee,he){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var ie=y;y=ee;try{return he()}finally{y=ie}},n.unstable_scheduleCallback=function(ee,he,ie){var M=n.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?M+ie:M):ie=M,ee){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=ie+j,ee={id:p++,callback:he,priorityLevel:ee,startTime:ie,expirationTime:j,sortIndex:-1},ie>M?(ee.sortIndex=ie,e(f,ee),t(h)===null&&ee===t(f)&&(k?(L(C),C=-1):k=!0,pe(B,ie-M))):(ee.sortIndex=j,e(h,ee),w||E||(w=!0,Ce(U))),ee},n.unstable_shouldYield=D,n.unstable_wrapCallback=function(ee){var he=y;return function(){var ie=y;y=he;try{return ee.apply(this,arguments)}finally{y=ie}}}}(Rp)),Rp}var wv;function zk(){return wv||(wv=1,Ip.exports=$k()),Ip.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tv;function jk(){if(Tv)return _r;Tv=1;var n=yg(),e=zk();function t(s){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+s,u=1;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function a(s,o){l(s,o),l(s+"Capture",o)}function l(s,o){for(i[s]=o,s=0;s<o.length;s++)r.add(o[s])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},_={};function y(s){return h.call(_,s)?!0:h.call(p,s)?!1:f.test(s)?_[s]=!0:(p[s]=!0,!1)}function E(s,o,u,m){if(u!==null&&u.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return m?!1:u!==null?!u.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function w(s,o,u,m){if(o===null||typeof o>"u"||E(s,o,u,m))return!0;if(m)return!1;if(u!==null)switch(u.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function k(s,o,u,m,g,x,R){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=m,this.attributeNamespace=g,this.mustUseProperty=u,this.propertyName=s,this.type=o,this.sanitizeURL=x,this.removeEmptyString=R}var A={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){A[s]=new k(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var o=s[0];A[o]=new k(o,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){A[s]=new k(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){A[s]=new k(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){A[s]=new k(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){A[s]=new k(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){A[s]=new k(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){A[s]=new k(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){A[s]=new k(s,5,!1,s.toLowerCase(),null,!1,!1)});var L=/[\-:]([a-z])/g;function b(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var o=s.replace(L,b);A[o]=new k(o,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var o=s.replace(L,b);A[o]=new k(o,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var o=s.replace(L,b);A[o]=new k(o,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){A[s]=new k(s,1,!1,s.toLowerCase(),null,!1,!1)}),A.xlinkHref=new k("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){A[s]=new k(s,1,!1,s.toLowerCase(),null,!0,!0)});function S(s,o,u,m){var g=A.hasOwnProperty(o)?A[o]:null;(g!==null?g.type!==0:m||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(w(o,u,g,m)&&(u=null),m||g===null?y(o)&&(u===null?s.removeAttribute(o):s.setAttribute(o,""+u)):g.mustUseProperty?s[g.propertyName]=u===null?g.type===3?!1:"":u:(o=g.attributeName,m=g.attributeNamespace,u===null?s.removeAttribute(o):(g=g.type,u=g===3||g===4&&u===!0?"":""+u,m?s.setAttributeNS(m,o,u):s.setAttribute(o,u))))}var B=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,U=Symbol.for("react.element"),z=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),P=Symbol.for("react.provider"),D=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),ce=Symbol.for("react.suspense_list"),ge=Symbol.for("react.memo"),Ce=Symbol.for("react.lazy"),pe=Symbol.for("react.offscreen"),ee=Symbol.iterator;function he(s){return s===null||typeof s!="object"?null:(s=ee&&s[ee]||s["@@iterator"],typeof s=="function"?s:null)}var ie=Object.assign,M;function j(s){if(M===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);M=o&&o[1]||""}return`
`+M+s}var G=!1;function Z(s,o){if(!s||G)return"";G=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(Y){var m=Y}Reflect.construct(s,[],o)}else{try{o.call()}catch(Y){m=Y}s.call(o.prototype)}else{try{throw Error()}catch(Y){m=Y}s()}}catch(Y){if(Y&&m&&typeof Y.stack=="string"){for(var g=Y.stack.split(`
`),x=m.stack.split(`
`),R=g.length-1,$=x.length-1;1<=R&&0<=$&&g[R]!==x[$];)$--;for(;1<=R&&0<=$;R--,$--)if(g[R]!==x[$]){if(R!==1||$!==1)do if(R--,$--,0>$||g[R]!==x[$]){var H=`
`+g[R].replace(" at new "," at ");return s.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",s.displayName)),H}while(1<=R&&0<=$);break}}}finally{G=!1,Error.prepareStackTrace=u}return(s=s?s.displayName||s.name:"")?j(s):""}function fe(s){switch(s.tag){case 5:return j(s.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return s=Z(s.type,!1),s;case 11:return s=Z(s.type.render,!1),s;case 1:return s=Z(s.type,!0),s;default:return""}}function ve(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case I:return"Fragment";case z:return"Portal";case N:return"Profiler";case C:return"StrictMode";case F:return"Suspense";case ce:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case D:return(s.displayName||"Context")+".Consumer";case P:return(s._context.displayName||"Context")+".Provider";case V:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case ge:return o=s.displayName||null,o!==null?o:ve(s.type)||"Memo";case Ce:o=s._payload,s=s._init;try{return ve(s(o))}catch{}}return null}function Be(s){var o=s.type;switch(s.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=o.render,s=s.displayName||s.name||"",o.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ve(o);case 8:return o===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function me(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function He(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function ot(s){var o=He(s)?"checked":"value",u=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),m=""+s[o];if(!s.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var g=u.get,x=u.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return g.call(this)},set:function(R){m=""+R,x.call(this,R)}}),Object.defineProperty(s,o,{enumerable:u.enumerable}),{getValue:function(){return m},setValue:function(R){m=""+R},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function An(s){s._valueTracker||(s._valueTracker=ot(s))}function qt(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var u=o.getValue(),m="";return s&&(m=He(s)?s.checked?"true":"false":s.value),s=m,s!==u?(o.setValue(s),!0):!1}function Tt(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function nt(s,o){var u=o.checked;return ie({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??s._wrapperState.initialChecked})}function Mn(s,o){var u=o.defaultValue==null?"":o.defaultValue,m=o.checked!=null?o.checked:o.defaultChecked;u=me(o.value!=null?o.value:u),s._wrapperState={initialChecked:m,initialValue:u,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function Vn(s,o){o=o.checked,o!=null&&S(s,"checked",o,!1)}function hn(s,o){Vn(s,o);var u=me(o.value),m=o.type;if(u!=null)m==="number"?(u===0&&s.value===""||s.value!=u)&&(s.value=""+u):s.value!==""+u&&(s.value=""+u);else if(m==="submit"||m==="reset"){s.removeAttribute("value");return}o.hasOwnProperty("value")?$n(s,o.type,u):o.hasOwnProperty("defaultValue")&&$n(s,o.type,me(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(s.defaultChecked=!!o.defaultChecked)}function Un(s,o,u){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var m=o.type;if(!(m!=="submit"&&m!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+s._wrapperState.initialValue,u||o===s.value||(s.value=o),s.defaultValue=o}u=s.name,u!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,u!==""&&(s.name=u)}function $n(s,o,u){(o!=="number"||Tt(s.ownerDocument)!==s)&&(u==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+u&&(s.defaultValue=""+u))}var en=Array.isArray;function At(s,o,u,m){if(s=s.options,o){o={};for(var g=0;g<u.length;g++)o["$"+u[g]]=!0;for(u=0;u<s.length;u++)g=o.hasOwnProperty("$"+s[u].value),s[u].selected!==g&&(s[u].selected=g),g&&m&&(s[u].defaultSelected=!0)}else{for(u=""+me(u),o=null,g=0;g<s.length;g++){if(s[g].value===u){s[g].selected=!0,m&&(s[g].defaultSelected=!0);return}o!==null||s[g].disabled||(o=s[g])}o!==null&&(o.selected=!0)}}function Vt(s,o){if(o.dangerouslySetInnerHTML!=null)throw Error(t(91));return ie({},o,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Wt(s,o){var u=o.value;if(u==null){if(u=o.children,o=o.defaultValue,u!=null){if(o!=null)throw Error(t(92));if(en(u)){if(1<u.length)throw Error(t(93));u=u[0]}o=u}o==null&&(o=""),u=o}s._wrapperState={initialValue:me(u)}}function fn(s,o){var u=me(o.value),m=me(o.defaultValue);u!=null&&(u=""+u,u!==s.value&&(s.value=u),o.defaultValue==null&&s.defaultValue!==u&&(s.defaultValue=u)),m!=null&&(s.defaultValue=""+m)}function zn(s){var o=s.textContent;o===s._wrapperState.initialValue&&o!==""&&o!==null&&(s.value=o)}function Ze(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function at(s,o){return s==null||s==="http://www.w3.org/1999/xhtml"?Ze(o):s==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var rr,Jr=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,u,m,g){MSApp.execUnsafeLocalFunction(function(){return s(o,u,m,g)})}:s}(function(s,o){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=o;else{for(rr=rr||document.createElement("div"),rr.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=rr.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;o.firstChild;)s.appendChild(o.firstChild)}});function jn(s,o){if(o){var u=s.firstChild;if(u&&u===s.lastChild&&u.nodeType===3){u.nodeValue=o;return}}s.textContent=o}var dn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},tn=["Webkit","ms","Moz","O"];Object.keys(dn).forEach(function(s){tn.forEach(function(o){o=o+s.charAt(0).toUpperCase()+s.substring(1),dn[o]=dn[s]})});function Br(s,o,u){return o==null||typeof o=="boolean"||o===""?"":u||typeof o!="number"||o===0||dn.hasOwnProperty(s)&&dn[s]?(""+o).trim():o+"px"}function nn(s,o){s=s.style;for(var u in o)if(o.hasOwnProperty(u)){var m=u.indexOf("--")===0,g=Br(u,o[u],m);u==="float"&&(u="cssFloat"),m?s.setProperty(u,g):s[u]=g}}var Hn=ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ei(s,o){if(o){if(Hn[s]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(t(137,s));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(t(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(t(61))}if(o.style!=null&&typeof o.style!="object")throw Error(t(62))}}function ti(s,o){if(s.indexOf("-")===-1)return typeof o.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fr=null;function wr(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var ir=null,Cn=null,Gt=null;function vi(s){if(s=Gl(s)){if(typeof ir!="function")throw Error(t(280));var o=s.stateNode;o&&(o=zc(o),ir(s.stateNode,s.type,o))}}function sr(s){Cn?Gt?Gt.push(s):Gt=[s]:Cn=s}function mt(){if(Cn){var s=Cn,o=Gt;if(Gt=Cn=null,vi(s),o)for(s=0;s<o.length;s++)vi(o[s])}}function pn(s,o){return s(o)}function ji(){}var or=!1;function Lr(s,o,u){if(or)return s(o,u);or=!0;try{return pn(s,o,u)}finally{or=!1,(Cn!==null||Gt!==null)&&(ji(),mt())}}function gt(s,o){var u=s.stateNode;if(u===null)return null;var m=zc(u);if(m===null)return null;u=m[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(s=s.type,m=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!m;break e;default:s=!1}if(s)return null;if(u&&typeof u!="function")throw Error(t(231,o,typeof u));return u}var Nr=!1;if(c)try{var ct={};Object.defineProperty(ct,"passive",{get:function(){Nr=!0}}),window.addEventListener("test",ct,ct),window.removeEventListener("test",ct,ct)}catch{Nr=!1}function ht(s,o,u,m,g,x,R,$,H){var Y=Array.prototype.slice.call(arguments,3);try{o.apply(u,Y)}catch(oe){this.onError(oe)}}var qn=!1,ni=null,ar=!1,Hi=null,fa={onError:function(s){qn=!0,ni=s}};function kn(s,o,u,m,g,x,R,$,H){qn=!1,ni=null,ht.apply(fa,arguments)}function vo(s,o,u,m,g,x,R,$,H){if(kn.apply(this,arguments),qn){if(qn){var Y=ni;qn=!1,ni=null}else throw Error(t(198));ar||(ar=!0,Hi=Y)}}function lr(s){var o=s,u=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,o.flags&4098&&(u=o.return),s=o.return;while(s)}return o.tag===3?u:null}function xi(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function ur(s){if(lr(s)!==s)throw Error(t(188))}function da(s){var o=s.alternate;if(!o){if(o=lr(s),o===null)throw Error(t(188));return o!==s?null:s}for(var u=s,m=o;;){var g=u.return;if(g===null)break;var x=g.alternate;if(x===null){if(m=g.return,m!==null){u=m;continue}break}if(g.child===x.child){for(x=g.child;x;){if(x===u)return ur(g),s;if(x===m)return ur(g),o;x=x.sibling}throw Error(t(188))}if(u.return!==m.return)u=g,m=x;else{for(var R=!1,$=g.child;$;){if($===u){R=!0,u=g,m=x;break}if($===m){R=!0,m=g,u=x;break}$=$.sibling}if(!R){for($=x.child;$;){if($===u){R=!0,u=x,m=g;break}if($===m){R=!0,m=x,u=g;break}$=$.sibling}if(!R)throw Error(t(189))}}if(u.alternate!==m)throw Error(t(190))}if(u.tag!==3)throw Error(t(188));return u.stateNode.current===u?s:o}function be(s){return s=da(s),s!==null?q(s):null}function q(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var o=q(s);if(o!==null)return o;s=s.sibling}return null}var ae=e.unstable_scheduleCallback,Ee=e.unstable_cancelCallback,rt=e.unstable_shouldYield,Ut=e.unstable_requestPaint,Ve=e.unstable_now,Kt=e.unstable_getCurrentPriorityLevel,rn=e.unstable_ImmediatePriority,cr=e.unstable_UserBlockingPriority,lt=e.unstable_NormalPriority,vs=e.unstable_LowPriority,xo=e.unstable_IdlePriority,Eo=null,Tr=null;function _c(s){if(Tr&&typeof Tr.onCommitFiberRoot=="function")try{Tr.onCommitFiberRoot(Eo,s,void 0,(s.current.flags&128)===128)}catch{}}var Wn=Math.clz32?Math.clz32:xc,Pl=Math.log,vc=Math.LN2;function xc(s){return s>>>=0,s===0?32:31-(Pl(s)/vc|0)|0}var pa=64,ma=4194304;function xs(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function wo(s,o){var u=s.pendingLanes;if(u===0)return 0;var m=0,g=s.suspendedLanes,x=s.pingedLanes,R=u&268435455;if(R!==0){var $=R&~g;$!==0?m=xs($):(x&=R,x!==0&&(m=xs(x)))}else R=u&~g,R!==0?m=xs(R):x!==0&&(m=xs(x));if(m===0)return 0;if(o!==0&&o!==m&&!(o&g)&&(g=m&-m,x=o&-o,g>=x||g===16&&(x&4194240)!==0))return o;if(m&4&&(m|=u&16),o=s.entangledLanes,o!==0)for(s=s.entanglements,o&=m;0<o;)u=31-Wn(o),g=1<<u,m|=s[u],o&=~g;return m}function t0(s,o){switch(s){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qi(s,o){for(var u=s.suspendedLanes,m=s.pingedLanes,g=s.expirationTimes,x=s.pendingLanes;0<x;){var R=31-Wn(x),$=1<<R,H=g[R];H===-1?(!($&u)||$&m)&&(g[R]=t0($,o)):H<=o&&(s.expiredLanes|=$),x&=~$}}function Ar(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function To(){var s=pa;return pa<<=1,!(pa&4194240)&&(pa=64),s}function Es(s){for(var o=[],u=0;31>u;u++)o.push(s);return o}function ws(s,o,u){s.pendingLanes|=o,o!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,o=31-Wn(o),s[o]=u}function ft(s,o){var u=s.pendingLanes&~o;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=o,s.mutableReadLanes&=o,s.entangledLanes&=o,o=s.entanglements;var m=s.eventTimes;for(s=s.expirationTimes;0<u;){var g=31-Wn(u),x=1<<g;o[g]=0,m[g]=-1,s[g]=-1,u&=~x}}function Ts(s,o){var u=s.entangledLanes|=o;for(s=s.entanglements;u;){var m=31-Wn(u),g=1<<m;g&o|s[m]&o&&(s[m]|=o),u&=~g}}var Ge=0;function As(s){return s&=-s,1<s?4<s?s&268435455?16:536870912:4:1}var Ec,ga,wc,Tc,Ac,Dl=!1,Ei=[],mn=null,ri=null,ii=null,Cs=new Map,Or=new Map,wi=[],n0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Cc(s,o){switch(s){case"focusin":case"focusout":mn=null;break;case"dragenter":case"dragleave":ri=null;break;case"mouseover":case"mouseout":ii=null;break;case"pointerover":case"pointerout":Cs.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Or.delete(o.pointerId)}}function hr(s,o,u,m,g,x){return s===null||s.nativeEvent!==x?(s={blockedOn:o,domEventName:u,eventSystemFlags:m,nativeEvent:x,targetContainers:[g]},o!==null&&(o=Gl(o),o!==null&&ga(o)),s):(s.eventSystemFlags|=m,o=s.targetContainers,g!==null&&o.indexOf(g)===-1&&o.push(g),s)}function r0(s,o,u,m,g){switch(o){case"focusin":return mn=hr(mn,s,o,u,m,g),!0;case"dragenter":return ri=hr(ri,s,o,u,m,g),!0;case"mouseover":return ii=hr(ii,s,o,u,m,g),!0;case"pointerover":var x=g.pointerId;return Cs.set(x,hr(Cs.get(x)||null,s,o,u,m,g)),!0;case"gotpointercapture":return x=g.pointerId,Or.set(x,hr(Or.get(x)||null,s,o,u,m,g)),!0}return!1}function kc(s){var o=So(s.target);if(o!==null){var u=lr(o);if(u!==null){if(o=u.tag,o===13){if(o=xi(u),o!==null){s.blockedOn=o,Ac(s.priority,function(){wc(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){s.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Wi(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var u=ya(s.domEventName,s.eventSystemFlags,o[0],s.nativeEvent);if(u===null){u=s.nativeEvent;var m=new u.constructor(u.type,u);Fr=m,u.target.dispatchEvent(m),Fr=null}else return o=Gl(u),o!==null&&ga(o),s.blockedOn=u,!1;o.shift()}return!0}function Ao(s,o,u){Wi(s)&&u.delete(o)}function bc(){Dl=!1,mn!==null&&Wi(mn)&&(mn=null),ri!==null&&Wi(ri)&&(ri=null),ii!==null&&Wi(ii)&&(ii=null),Cs.forEach(Ao),Or.forEach(Ao)}function si(s,o){s.blockedOn===o&&(s.blockedOn=null,Dl||(Dl=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,bc)))}function oi(s){function o(g){return si(g,s)}if(0<Ei.length){si(Ei[0],s);for(var u=1;u<Ei.length;u++){var m=Ei[u];m.blockedOn===s&&(m.blockedOn=null)}}for(mn!==null&&si(mn,s),ri!==null&&si(ri,s),ii!==null&&si(ii,s),Cs.forEach(o),Or.forEach(o),u=0;u<wi.length;u++)m=wi[u],m.blockedOn===s&&(m.blockedOn=null);for(;0<wi.length&&(u=wi[0],u.blockedOn===null);)kc(u),u.blockedOn===null&&wi.shift()}var Gi=B.ReactCurrentBatchConfig,ks=!0;function Ct(s,o,u,m){var g=Ge,x=Gi.transition;Gi.transition=null;try{Ge=1,Bl(s,o,u,m)}finally{Ge=g,Gi.transition=x}}function i0(s,o,u,m){var g=Ge,x=Gi.transition;Gi.transition=null;try{Ge=4,Bl(s,o,u,m)}finally{Ge=g,Gi.transition=x}}function Bl(s,o,u,m){if(ks){var g=ya(s,o,u,m);if(g===null)m0(s,o,m,Co,u),Cc(s,m);else if(r0(g,s,o,u,m))m.stopPropagation();else if(Cc(s,m),o&4&&-1<n0.indexOf(s)){for(;g!==null;){var x=Gl(g);if(x!==null&&Ec(x),x=ya(s,o,u,m),x===null&&m0(s,o,m,Co,u),x===g)break;g=x}g!==null&&m.stopPropagation()}else m0(s,o,m,null,u)}}var Co=null;function ya(s,o,u,m){if(Co=null,s=wr(m),s=So(s),s!==null)if(o=lr(s),o===null)s=null;else if(u=o.tag,u===13){if(s=xi(o),s!==null)return s;s=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null);return Co=s,null}function Fl(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Kt()){case rn:return 1;case cr:return 4;case lt:case vs:return 16;case xo:return 536870912;default:return 16}default:return 16}}var Cr=null,_a=null,fr=null;function Ll(){if(fr)return fr;var s,o=_a,u=o.length,m,g="value"in Cr?Cr.value:Cr.textContent,x=g.length;for(s=0;s<u&&o[s]===g[s];s++);var R=u-s;for(m=1;m<=R&&o[u-m]===g[x-m];m++);return fr=g.slice(s,1<m?1-m:void 0)}function va(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function Ti(){return!0}function Nl(){return!1}function gn(s){function o(u,m,g,x,R){this._reactName=u,this._targetInst=g,this.type=m,this.nativeEvent=x,this.target=R,this.currentTarget=null;for(var $ in s)s.hasOwnProperty($)&&(u=s[$],this[$]=u?u(x):x[$]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?Ti:Nl,this.isPropagationStopped=Nl,this}return ie(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Ti)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Ti)},persist:function(){},isPersistent:Ti}),o}var ai={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xa=gn(ai),Ai=ie({},ai,{view:0,detail:0}),s0=gn(Ai),Ea,Ki,bs,ko=ie({},Ai,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ci,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==bs&&(bs&&s.type==="mousemove"?(Ea=s.screenX-bs.screenX,Ki=s.screenY-bs.screenY):Ki=Ea=0,bs=s),Ea)},movementY:function(s){return"movementY"in s?s.movementY:Ki}}),wa=gn(ko),Ol=ie({},ko,{dataTransfer:0}),Sc=gn(Ol),Ta=ie({},Ai,{relatedTarget:0}),Aa=gn(Ta),Ic=ie({},ai,{animationName:0,elapsedTime:0,pseudoElement:0}),Qi=gn(Ic),Rc=ie({},ai,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Pc=gn(Rc),Dc=ie({},ai,{data:0}),Ml=gn(Dc),Ca={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Bc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fc(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=Bc[s])?!!o[s]:!1}function Ci(){return Fc}var d=ie({},Ai,{key:function(s){if(s.key){var o=Ca[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=va(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Gn[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ci,charCode:function(s){return s.type==="keypress"?va(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?va(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),v=gn(d),T=ie({},ko,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),O=gn(T),K=ie({},Ai,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ci}),J=gn(K),de=ie({},ai,{propertyName:0,elapsedTime:0,pseudoElement:0}),it=gn(de),Qt=ie({},ko,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Xe=gn(Qt),sn=[9,13,27,32],$t=c&&"CompositionEvent"in window,Mr=null;c&&"documentMode"in document&&(Mr=document.documentMode);var kr=c&&"TextEvent"in window&&!Mr,bo=c&&(!$t||Mr&&8<Mr&&11>=Mr),ka=" ",hy=!1;function fy(s,o){switch(s){case"keyup":return sn.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function dy(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var ba=!1;function B3(s,o){switch(s){case"compositionend":return dy(o);case"keypress":return o.which!==32?null:(hy=!0,ka);case"textInput":return s=o.data,s===ka&&hy?null:s;default:return null}}function F3(s,o){if(ba)return s==="compositionend"||!$t&&fy(s,o)?(s=Ll(),fr=_a=Cr=null,ba=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return bo&&o.locale!=="ko"?null:o.data;default:return null}}var L3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function py(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!L3[s.type]:o==="textarea"}function my(s,o,u,m){sr(m),o=Vc(o,"onChange"),0<o.length&&(u=new xa("onChange","change",null,u,m),s.push({event:u,listeners:o}))}var Vl=null,Ul=null;function N3(s){By(s,0)}function Lc(s){var o=Da(s);if(qt(o))return s}function O3(s,o){if(s==="change")return o}var gy=!1;if(c){var o0;if(c){var a0="oninput"in document;if(!a0){var yy=document.createElement("div");yy.setAttribute("oninput","return;"),a0=typeof yy.oninput=="function"}o0=a0}else o0=!1;gy=o0&&(!document.documentMode||9<document.documentMode)}function _y(){Vl&&(Vl.detachEvent("onpropertychange",vy),Ul=Vl=null)}function vy(s){if(s.propertyName==="value"&&Lc(Ul)){var o=[];my(o,Ul,s,wr(s)),Lr(N3,o)}}function M3(s,o,u){s==="focusin"?(_y(),Vl=o,Ul=u,Vl.attachEvent("onpropertychange",vy)):s==="focusout"&&_y()}function V3(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Lc(Ul)}function U3(s,o){if(s==="click")return Lc(o)}function $3(s,o){if(s==="input"||s==="change")return Lc(o)}function z3(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var li=typeof Object.is=="function"?Object.is:z3;function $l(s,o){if(li(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var u=Object.keys(s),m=Object.keys(o);if(u.length!==m.length)return!1;for(m=0;m<u.length;m++){var g=u[m];if(!h.call(o,g)||!li(s[g],o[g]))return!1}return!0}function xy(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Ey(s,o){var u=xy(s);s=0;for(var m;u;){if(u.nodeType===3){if(m=s+u.textContent.length,s<=o&&m>=o)return{node:u,offset:o-s};s=m}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=xy(u)}}function wy(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?wy(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function Ty(){for(var s=window,o=Tt();o instanceof s.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)s=o.contentWindow;else break;o=Tt(s.document)}return o}function l0(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}function j3(s){var o=Ty(),u=s.focusedElem,m=s.selectionRange;if(o!==u&&u&&u.ownerDocument&&wy(u.ownerDocument.documentElement,u)){if(m!==null&&l0(u)){if(o=m.start,s=m.end,s===void 0&&(s=o),"selectionStart"in u)u.selectionStart=o,u.selectionEnd=Math.min(s,u.value.length);else if(s=(o=u.ownerDocument||document)&&o.defaultView||window,s.getSelection){s=s.getSelection();var g=u.textContent.length,x=Math.min(m.start,g);m=m.end===void 0?x:Math.min(m.end,g),!s.extend&&x>m&&(g=m,m=x,x=g),g=Ey(u,x);var R=Ey(u,m);g&&R&&(s.rangeCount!==1||s.anchorNode!==g.node||s.anchorOffset!==g.offset||s.focusNode!==R.node||s.focusOffset!==R.offset)&&(o=o.createRange(),o.setStart(g.node,g.offset),s.removeAllRanges(),x>m?(s.addRange(o),s.extend(R.node,R.offset)):(o.setEnd(R.node,R.offset),s.addRange(o)))}}for(o=[],s=u;s=s.parentNode;)s.nodeType===1&&o.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<o.length;u++)s=o[u],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var H3=c&&"documentMode"in document&&11>=document.documentMode,Sa=null,u0=null,zl=null,c0=!1;function Ay(s,o,u){var m=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;c0||Sa==null||Sa!==Tt(m)||(m=Sa,"selectionStart"in m&&l0(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),zl&&$l(zl,m)||(zl=m,m=Vc(u0,"onSelect"),0<m.length&&(o=new xa("onSelect","select",null,o,u),s.push({event:o,listeners:m}),o.target=Sa)))}function Nc(s,o){var u={};return u[s.toLowerCase()]=o.toLowerCase(),u["Webkit"+s]="webkit"+o,u["Moz"+s]="moz"+o,u}var Ia={animationend:Nc("Animation","AnimationEnd"),animationiteration:Nc("Animation","AnimationIteration"),animationstart:Nc("Animation","AnimationStart"),transitionend:Nc("Transition","TransitionEnd")},h0={},Cy={};c&&(Cy=document.createElement("div").style,"AnimationEvent"in window||(delete Ia.animationend.animation,delete Ia.animationiteration.animation,delete Ia.animationstart.animation),"TransitionEvent"in window||delete Ia.transitionend.transition);function Oc(s){if(h0[s])return h0[s];if(!Ia[s])return s;var o=Ia[s],u;for(u in o)if(o.hasOwnProperty(u)&&u in Cy)return h0[s]=o[u];return s}var ky=Oc("animationend"),by=Oc("animationiteration"),Sy=Oc("animationstart"),Iy=Oc("transitionend"),Ry=new Map,Py="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ss(s,o){Ry.set(s,o),a(o,[s])}for(var f0=0;f0<Py.length;f0++){var d0=Py[f0],q3=d0.toLowerCase(),W3=d0[0].toUpperCase()+d0.slice(1);Ss(q3,"on"+W3)}Ss(ky,"onAnimationEnd"),Ss(by,"onAnimationIteration"),Ss(Sy,"onAnimationStart"),Ss("dblclick","onDoubleClick"),Ss("focusin","onFocus"),Ss("focusout","onBlur"),Ss(Iy,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),G3=new Set("cancel close invalid load scroll toggle".split(" ").concat(jl));function Dy(s,o,u){var m=s.type||"unknown-event";s.currentTarget=u,vo(m,o,void 0,s),s.currentTarget=null}function By(s,o){o=(o&4)!==0;for(var u=0;u<s.length;u++){var m=s[u],g=m.event;m=m.listeners;e:{var x=void 0;if(o)for(var R=m.length-1;0<=R;R--){var $=m[R],H=$.instance,Y=$.currentTarget;if($=$.listener,H!==x&&g.isPropagationStopped())break e;Dy(g,$,Y),x=H}else for(R=0;R<m.length;R++){if($=m[R],H=$.instance,Y=$.currentTarget,$=$.listener,H!==x&&g.isPropagationStopped())break e;Dy(g,$,Y),x=H}}}if(ar)throw s=Hi,ar=!1,Hi=null,s}function vt(s,o){var u=o[E0];u===void 0&&(u=o[E0]=new Set);var m=s+"__bubble";u.has(m)||(Fy(o,s,2,!1),u.add(m))}function p0(s,o,u){var m=0;o&&(m|=4),Fy(u,s,m,o)}var Mc="_reactListening"+Math.random().toString(36).slice(2);function Hl(s){if(!s[Mc]){s[Mc]=!0,r.forEach(function(u){u!=="selectionchange"&&(G3.has(u)||p0(u,!1,s),p0(u,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[Mc]||(o[Mc]=!0,p0("selectionchange",!1,o))}}function Fy(s,o,u,m){switch(Fl(o)){case 1:var g=Ct;break;case 4:g=i0;break;default:g=Bl}u=g.bind(null,o,u,s),g=void 0,!Nr||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(g=!0),m?g!==void 0?s.addEventListener(o,u,{capture:!0,passive:g}):s.addEventListener(o,u,!0):g!==void 0?s.addEventListener(o,u,{passive:g}):s.addEventListener(o,u,!1)}function m0(s,o,u,m,g){var x=m;if(!(o&1)&&!(o&2)&&m!==null)e:for(;;){if(m===null)return;var R=m.tag;if(R===3||R===4){var $=m.stateNode.containerInfo;if($===g||$.nodeType===8&&$.parentNode===g)break;if(R===4)for(R=m.return;R!==null;){var H=R.tag;if((H===3||H===4)&&(H=R.stateNode.containerInfo,H===g||H.nodeType===8&&H.parentNode===g))return;R=R.return}for(;$!==null;){if(R=So($),R===null)return;if(H=R.tag,H===5||H===6){m=x=R;continue e}$=$.parentNode}}m=m.return}Lr(function(){var Y=x,oe=wr(u),le=[];e:{var se=Ry.get(s);if(se!==void 0){var ye=xa,Ae=s;switch(s){case"keypress":if(va(u)===0)break e;case"keydown":case"keyup":ye=v;break;case"focusin":Ae="focus",ye=Aa;break;case"focusout":Ae="blur",ye=Aa;break;case"beforeblur":case"afterblur":ye=Aa;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ye=wa;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ye=Sc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ye=J;break;case ky:case by:case Sy:ye=Qi;break;case Iy:ye=it;break;case"scroll":ye=s0;break;case"wheel":ye=Xe;break;case"copy":case"cut":case"paste":ye=Pc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ye=O}var ke=(o&4)!==0,Nt=!ke&&s==="scroll",Q=ke?se!==null?se+"Capture":null:se;ke=[];for(var W=Y,X;W!==null;){X=W;var ue=X.stateNode;if(X.tag===5&&ue!==null&&(X=ue,Q!==null&&(ue=gt(W,Q),ue!=null&&ke.push(ql(W,ue,X)))),Nt)break;W=W.return}0<ke.length&&(se=new ye(se,Ae,null,u,oe),le.push({event:se,listeners:ke}))}}if(!(o&7)){e:{if(se=s==="mouseover"||s==="pointerover",ye=s==="mouseout"||s==="pointerout",se&&u!==Fr&&(Ae=u.relatedTarget||u.fromElement)&&(So(Ae)||Ae[Xi]))break e;if((ye||se)&&(se=oe.window===oe?oe:(se=oe.ownerDocument)?se.defaultView||se.parentWindow:window,ye?(Ae=u.relatedTarget||u.toElement,ye=Y,Ae=Ae?So(Ae):null,Ae!==null&&(Nt=lr(Ae),Ae!==Nt||Ae.tag!==5&&Ae.tag!==6)&&(Ae=null)):(ye=null,Ae=Y),ye!==Ae)){if(ke=wa,ue="onMouseLeave",Q="onMouseEnter",W="mouse",(s==="pointerout"||s==="pointerover")&&(ke=O,ue="onPointerLeave",Q="onPointerEnter",W="pointer"),Nt=ye==null?se:Da(ye),X=Ae==null?se:Da(Ae),se=new ke(ue,W+"leave",ye,u,oe),se.target=Nt,se.relatedTarget=X,ue=null,So(oe)===Y&&(ke=new ke(Q,W+"enter",Ae,u,oe),ke.target=X,ke.relatedTarget=Nt,ue=ke),Nt=ue,ye&&Ae)t:{for(ke=ye,Q=Ae,W=0,X=ke;X;X=Ra(X))W++;for(X=0,ue=Q;ue;ue=Ra(ue))X++;for(;0<W-X;)ke=Ra(ke),W--;for(;0<X-W;)Q=Ra(Q),X--;for(;W--;){if(ke===Q||Q!==null&&ke===Q.alternate)break t;ke=Ra(ke),Q=Ra(Q)}ke=null}else ke=null;ye!==null&&Ly(le,se,ye,ke,!1),Ae!==null&&Nt!==null&&Ly(le,Nt,Ae,ke,!0)}}e:{if(se=Y?Da(Y):window,ye=se.nodeName&&se.nodeName.toLowerCase(),ye==="select"||ye==="input"&&se.type==="file")var Se=O3;else if(py(se))if(gy)Se=$3;else{Se=V3;var Re=M3}else(ye=se.nodeName)&&ye.toLowerCase()==="input"&&(se.type==="checkbox"||se.type==="radio")&&(Se=U3);if(Se&&(Se=Se(s,Y))){my(le,Se,u,oe);break e}Re&&Re(s,se,Y),s==="focusout"&&(Re=se._wrapperState)&&Re.controlled&&se.type==="number"&&$n(se,"number",se.value)}switch(Re=Y?Da(Y):window,s){case"focusin":(py(Re)||Re.contentEditable==="true")&&(Sa=Re,u0=Y,zl=null);break;case"focusout":zl=u0=Sa=null;break;case"mousedown":c0=!0;break;case"contextmenu":case"mouseup":case"dragend":c0=!1,Ay(le,u,oe);break;case"selectionchange":if(H3)break;case"keydown":case"keyup":Ay(le,u,oe)}var Pe;if($t)e:{switch(s){case"compositionstart":var Ne="onCompositionStart";break e;case"compositionend":Ne="onCompositionEnd";break e;case"compositionupdate":Ne="onCompositionUpdate";break e}Ne=void 0}else ba?fy(s,u)&&(Ne="onCompositionEnd"):s==="keydown"&&u.keyCode===229&&(Ne="onCompositionStart");Ne&&(bo&&u.locale!=="ko"&&(ba||Ne!=="onCompositionStart"?Ne==="onCompositionEnd"&&ba&&(Pe=Ll()):(Cr=oe,_a="value"in Cr?Cr.value:Cr.textContent,ba=!0)),Re=Vc(Y,Ne),0<Re.length&&(Ne=new Ml(Ne,s,null,u,oe),le.push({event:Ne,listeners:Re}),Pe?Ne.data=Pe:(Pe=dy(u),Pe!==null&&(Ne.data=Pe)))),(Pe=kr?B3(s,u):F3(s,u))&&(Y=Vc(Y,"onBeforeInput"),0<Y.length&&(oe=new Ml("onBeforeInput","beforeinput",null,u,oe),le.push({event:oe,listeners:Y}),oe.data=Pe))}By(le,o)})}function ql(s,o,u){return{instance:s,listener:o,currentTarget:u}}function Vc(s,o){for(var u=o+"Capture",m=[];s!==null;){var g=s,x=g.stateNode;g.tag===5&&x!==null&&(g=x,x=gt(s,u),x!=null&&m.unshift(ql(s,x,g)),x=gt(s,o),x!=null&&m.push(ql(s,x,g))),s=s.return}return m}function Ra(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function Ly(s,o,u,m,g){for(var x=o._reactName,R=[];u!==null&&u!==m;){var $=u,H=$.alternate,Y=$.stateNode;if(H!==null&&H===m)break;$.tag===5&&Y!==null&&($=Y,g?(H=gt(u,x),H!=null&&R.unshift(ql(u,H,$))):g||(H=gt(u,x),H!=null&&R.push(ql(u,H,$)))),u=u.return}R.length!==0&&s.push({event:o,listeners:R})}var K3=/\r\n?/g,Q3=/\u0000|\uFFFD/g;function Ny(s){return(typeof s=="string"?s:""+s).replace(K3,`
`).replace(Q3,"")}function Uc(s,o,u){if(o=Ny(o),Ny(s)!==o&&u)throw Error(t(425))}function $c(){}var g0=null,y0=null;function _0(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var v0=typeof setTimeout=="function"?setTimeout:void 0,X3=typeof clearTimeout=="function"?clearTimeout:void 0,Oy=typeof Promise=="function"?Promise:void 0,Y3=typeof queueMicrotask=="function"?queueMicrotask:typeof Oy<"u"?function(s){return Oy.resolve(null).then(s).catch(Z3)}:v0;function Z3(s){setTimeout(function(){throw s})}function x0(s,o){var u=o,m=0;do{var g=u.nextSibling;if(s.removeChild(u),g&&g.nodeType===8)if(u=g.data,u==="/$"){if(m===0){s.removeChild(g),oi(o);return}m--}else u!=="$"&&u!=="$?"&&u!=="$!"||m++;u=g}while(u);oi(o)}function Is(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return s}function My(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var u=s.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return s;o--}else u==="/$"&&o++}s=s.previousSibling}return null}var Pa=Math.random().toString(36).slice(2),ki="__reactFiber$"+Pa,Wl="__reactProps$"+Pa,Xi="__reactContainer$"+Pa,E0="__reactEvents$"+Pa,J3="__reactListeners$"+Pa,ek="__reactHandles$"+Pa;function So(s){var o=s[ki];if(o)return o;for(var u=s.parentNode;u;){if(o=u[Xi]||u[ki]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(s=My(s);s!==null;){if(u=s[ki])return u;s=My(s)}return o}s=u,u=s.parentNode}return null}function Gl(s){return s=s[ki]||s[Xi],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Da(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(t(33))}function zc(s){return s[Wl]||null}var w0=[],Ba=-1;function Rs(s){return{current:s}}function xt(s){0>Ba||(s.current=w0[Ba],w0[Ba]=null,Ba--)}function yt(s,o){Ba++,w0[Ba]=s.current,s.current=o}var Ps={},bn=Rs(Ps),dr=Rs(!1),Io=Ps;function Fa(s,o){var u=s.type.contextTypes;if(!u)return Ps;var m=s.stateNode;if(m&&m.__reactInternalMemoizedUnmaskedChildContext===o)return m.__reactInternalMemoizedMaskedChildContext;var g={},x;for(x in u)g[x]=o[x];return m&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=o,s.__reactInternalMemoizedMaskedChildContext=g),g}function pr(s){return s=s.childContextTypes,s!=null}function jc(){xt(dr),xt(bn)}function Vy(s,o,u){if(bn.current!==Ps)throw Error(t(168));yt(bn,o),yt(dr,u)}function Uy(s,o,u){var m=s.stateNode;if(o=o.childContextTypes,typeof m.getChildContext!="function")return u;m=m.getChildContext();for(var g in m)if(!(g in o))throw Error(t(108,Be(s)||"Unknown",g));return ie({},u,m)}function Hc(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Ps,Io=bn.current,yt(bn,s),yt(dr,dr.current),!0}function $y(s,o,u){var m=s.stateNode;if(!m)throw Error(t(169));u?(s=Uy(s,o,Io),m.__reactInternalMemoizedMergedChildContext=s,xt(dr),xt(bn),yt(bn,s)):xt(dr),yt(dr,u)}var Yi=null,qc=!1,T0=!1;function zy(s){Yi===null?Yi=[s]:Yi.push(s)}function tk(s){qc=!0,zy(s)}function Ds(){if(!T0&&Yi!==null){T0=!0;var s=0,o=Ge;try{var u=Yi;for(Ge=1;s<u.length;s++){var m=u[s];do m=m(!0);while(m!==null)}Yi=null,qc=!1}catch(g){throw Yi!==null&&(Yi=Yi.slice(s+1)),ae(rn,Ds),g}finally{Ge=o,T0=!1}}return null}var La=[],Na=0,Wc=null,Gc=0,Vr=[],Ur=0,Ro=null,Zi=1,Ji="";function Po(s,o){La[Na++]=Gc,La[Na++]=Wc,Wc=s,Gc=o}function jy(s,o,u){Vr[Ur++]=Zi,Vr[Ur++]=Ji,Vr[Ur++]=Ro,Ro=s;var m=Zi;s=Ji;var g=32-Wn(m)-1;m&=~(1<<g),u+=1;var x=32-Wn(o)+g;if(30<x){var R=g-g%5;x=(m&(1<<R)-1).toString(32),m>>=R,g-=R,Zi=1<<32-Wn(o)+g|u<<g|m,Ji=x+s}else Zi=1<<x|u<<g|m,Ji=s}function A0(s){s.return!==null&&(Po(s,1),jy(s,1,0))}function C0(s){for(;s===Wc;)Wc=La[--Na],La[Na]=null,Gc=La[--Na],La[Na]=null;for(;s===Ro;)Ro=Vr[--Ur],Vr[Ur]=null,Ji=Vr[--Ur],Vr[Ur]=null,Zi=Vr[--Ur],Vr[Ur]=null}var br=null,Sr=null,kt=!1,ui=null;function Hy(s,o){var u=Hr(5,null,null,0);u.elementType="DELETED",u.stateNode=o,u.return=s,o=s.deletions,o===null?(s.deletions=[u],s.flags|=16):o.push(u)}function qy(s,o){switch(s.tag){case 5:var u=s.type;return o=o.nodeType!==1||u.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(s.stateNode=o,br=s,Sr=Is(o.firstChild),!0):!1;case 6:return o=s.pendingProps===""||o.nodeType!==3?null:o,o!==null?(s.stateNode=o,br=s,Sr=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(u=Ro!==null?{id:Zi,overflow:Ji}:null,s.memoizedState={dehydrated:o,treeContext:u,retryLane:1073741824},u=Hr(18,null,null,0),u.stateNode=o,u.return=s,s.child=u,br=s,Sr=null,!0):!1;default:return!1}}function k0(s){return(s.mode&1)!==0&&(s.flags&128)===0}function b0(s){if(kt){var o=Sr;if(o){var u=o;if(!qy(s,o)){if(k0(s))throw Error(t(418));o=Is(u.nextSibling);var m=br;o&&qy(s,o)?Hy(m,u):(s.flags=s.flags&-4097|2,kt=!1,br=s)}}else{if(k0(s))throw Error(t(418));s.flags=s.flags&-4097|2,kt=!1,br=s}}}function Wy(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;br=s}function Kc(s){if(s!==br)return!1;if(!kt)return Wy(s),kt=!0,!1;var o;if((o=s.tag!==3)&&!(o=s.tag!==5)&&(o=s.type,o=o!=="head"&&o!=="body"&&!_0(s.type,s.memoizedProps)),o&&(o=Sr)){if(k0(s))throw Gy(),Error(t(418));for(;o;)Hy(s,o),o=Is(o.nextSibling)}if(Wy(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(t(317));e:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8){var u=s.data;if(u==="/$"){if(o===0){Sr=Is(s.nextSibling);break e}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++}s=s.nextSibling}Sr=null}}else Sr=br?Is(s.stateNode.nextSibling):null;return!0}function Gy(){for(var s=Sr;s;)s=Is(s.nextSibling)}function Oa(){Sr=br=null,kt=!1}function S0(s){ui===null?ui=[s]:ui.push(s)}var nk=B.ReactCurrentBatchConfig;function Kl(s,o,u){if(s=u.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(t(309));var m=u.stateNode}if(!m)throw Error(t(147,s));var g=m,x=""+s;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===x?o.ref:(o=function(R){var $=g.refs;R===null?delete $[x]:$[x]=R},o._stringRef=x,o)}if(typeof s!="string")throw Error(t(284));if(!u._owner)throw Error(t(290,s))}return s}function Qc(s,o){throw s=Object.prototype.toString.call(o),Error(t(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s))}function Ky(s){var o=s._init;return o(s._payload)}function Qy(s){function o(Q,W){if(s){var X=Q.deletions;X===null?(Q.deletions=[W],Q.flags|=16):X.push(W)}}function u(Q,W){if(!s)return null;for(;W!==null;)o(Q,W),W=W.sibling;return null}function m(Q,W){for(Q=new Map;W!==null;)W.key!==null?Q.set(W.key,W):Q.set(W.index,W),W=W.sibling;return Q}function g(Q,W){return Q=Us(Q,W),Q.index=0,Q.sibling=null,Q}function x(Q,W,X){return Q.index=X,s?(X=Q.alternate,X!==null?(X=X.index,X<W?(Q.flags|=2,W):X):(Q.flags|=2,W)):(Q.flags|=1048576,W)}function R(Q){return s&&Q.alternate===null&&(Q.flags|=2),Q}function $(Q,W,X,ue){return W===null||W.tag!==6?(W=vp(X,Q.mode,ue),W.return=Q,W):(W=g(W,X),W.return=Q,W)}function H(Q,W,X,ue){var Se=X.type;return Se===I?oe(Q,W,X.props.children,ue,X.key):W!==null&&(W.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===Ce&&Ky(Se)===W.type)?(ue=g(W,X.props),ue.ref=Kl(Q,W,X),ue.return=Q,ue):(ue=vh(X.type,X.key,X.props,null,Q.mode,ue),ue.ref=Kl(Q,W,X),ue.return=Q,ue)}function Y(Q,W,X,ue){return W===null||W.tag!==4||W.stateNode.containerInfo!==X.containerInfo||W.stateNode.implementation!==X.implementation?(W=xp(X,Q.mode,ue),W.return=Q,W):(W=g(W,X.children||[]),W.return=Q,W)}function oe(Q,W,X,ue,Se){return W===null||W.tag!==7?(W=Vo(X,Q.mode,ue,Se),W.return=Q,W):(W=g(W,X),W.return=Q,W)}function le(Q,W,X){if(typeof W=="string"&&W!==""||typeof W=="number")return W=vp(""+W,Q.mode,X),W.return=Q,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case U:return X=vh(W.type,W.key,W.props,null,Q.mode,X),X.ref=Kl(Q,null,W),X.return=Q,X;case z:return W=xp(W,Q.mode,X),W.return=Q,W;case Ce:var ue=W._init;return le(Q,ue(W._payload),X)}if(en(W)||he(W))return W=Vo(W,Q.mode,X,null),W.return=Q,W;Qc(Q,W)}return null}function se(Q,W,X,ue){var Se=W!==null?W.key:null;if(typeof X=="string"&&X!==""||typeof X=="number")return Se!==null?null:$(Q,W,""+X,ue);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case U:return X.key===Se?H(Q,W,X,ue):null;case z:return X.key===Se?Y(Q,W,X,ue):null;case Ce:return Se=X._init,se(Q,W,Se(X._payload),ue)}if(en(X)||he(X))return Se!==null?null:oe(Q,W,X,ue,null);Qc(Q,X)}return null}function ye(Q,W,X,ue,Se){if(typeof ue=="string"&&ue!==""||typeof ue=="number")return Q=Q.get(X)||null,$(W,Q,""+ue,Se);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case U:return Q=Q.get(ue.key===null?X:ue.key)||null,H(W,Q,ue,Se);case z:return Q=Q.get(ue.key===null?X:ue.key)||null,Y(W,Q,ue,Se);case Ce:var Re=ue._init;return ye(Q,W,X,Re(ue._payload),Se)}if(en(ue)||he(ue))return Q=Q.get(X)||null,oe(W,Q,ue,Se,null);Qc(W,ue)}return null}function Ae(Q,W,X,ue){for(var Se=null,Re=null,Pe=W,Ne=W=0,ln=null;Pe!==null&&Ne<X.length;Ne++){Pe.index>Ne?(ln=Pe,Pe=null):ln=Pe.sibling;var et=se(Q,Pe,X[Ne],ue);if(et===null){Pe===null&&(Pe=ln);break}s&&Pe&&et.alternate===null&&o(Q,Pe),W=x(et,W,Ne),Re===null?Se=et:Re.sibling=et,Re=et,Pe=ln}if(Ne===X.length)return u(Q,Pe),kt&&Po(Q,Ne),Se;if(Pe===null){for(;Ne<X.length;Ne++)Pe=le(Q,X[Ne],ue),Pe!==null&&(W=x(Pe,W,Ne),Re===null?Se=Pe:Re.sibling=Pe,Re=Pe);return kt&&Po(Q,Ne),Se}for(Pe=m(Q,Pe);Ne<X.length;Ne++)ln=ye(Pe,Q,Ne,X[Ne],ue),ln!==null&&(s&&ln.alternate!==null&&Pe.delete(ln.key===null?Ne:ln.key),W=x(ln,W,Ne),Re===null?Se=ln:Re.sibling=ln,Re=ln);return s&&Pe.forEach(function($s){return o(Q,$s)}),kt&&Po(Q,Ne),Se}function ke(Q,W,X,ue){var Se=he(X);if(typeof Se!="function")throw Error(t(150));if(X=Se.call(X),X==null)throw Error(t(151));for(var Re=Se=null,Pe=W,Ne=W=0,ln=null,et=X.next();Pe!==null&&!et.done;Ne++,et=X.next()){Pe.index>Ne?(ln=Pe,Pe=null):ln=Pe.sibling;var $s=se(Q,Pe,et.value,ue);if($s===null){Pe===null&&(Pe=ln);break}s&&Pe&&$s.alternate===null&&o(Q,Pe),W=x($s,W,Ne),Re===null?Se=$s:Re.sibling=$s,Re=$s,Pe=ln}if(et.done)return u(Q,Pe),kt&&Po(Q,Ne),Se;if(Pe===null){for(;!et.done;Ne++,et=X.next())et=le(Q,et.value,ue),et!==null&&(W=x(et,W,Ne),Re===null?Se=et:Re.sibling=et,Re=et);return kt&&Po(Q,Ne),Se}for(Pe=m(Q,Pe);!et.done;Ne++,et=X.next())et=ye(Pe,Q,Ne,et.value,ue),et!==null&&(s&&et.alternate!==null&&Pe.delete(et.key===null?Ne:et.key),W=x(et,W,Ne),Re===null?Se=et:Re.sibling=et,Re=et);return s&&Pe.forEach(function(Fk){return o(Q,Fk)}),kt&&Po(Q,Ne),Se}function Nt(Q,W,X,ue){if(typeof X=="object"&&X!==null&&X.type===I&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case U:e:{for(var Se=X.key,Re=W;Re!==null;){if(Re.key===Se){if(Se=X.type,Se===I){if(Re.tag===7){u(Q,Re.sibling),W=g(Re,X.props.children),W.return=Q,Q=W;break e}}else if(Re.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===Ce&&Ky(Se)===Re.type){u(Q,Re.sibling),W=g(Re,X.props),W.ref=Kl(Q,Re,X),W.return=Q,Q=W;break e}u(Q,Re);break}else o(Q,Re);Re=Re.sibling}X.type===I?(W=Vo(X.props.children,Q.mode,ue,X.key),W.return=Q,Q=W):(ue=vh(X.type,X.key,X.props,null,Q.mode,ue),ue.ref=Kl(Q,W,X),ue.return=Q,Q=ue)}return R(Q);case z:e:{for(Re=X.key;W!==null;){if(W.key===Re)if(W.tag===4&&W.stateNode.containerInfo===X.containerInfo&&W.stateNode.implementation===X.implementation){u(Q,W.sibling),W=g(W,X.children||[]),W.return=Q,Q=W;break e}else{u(Q,W);break}else o(Q,W);W=W.sibling}W=xp(X,Q.mode,ue),W.return=Q,Q=W}return R(Q);case Ce:return Re=X._init,Nt(Q,W,Re(X._payload),ue)}if(en(X))return Ae(Q,W,X,ue);if(he(X))return ke(Q,W,X,ue);Qc(Q,X)}return typeof X=="string"&&X!==""||typeof X=="number"?(X=""+X,W!==null&&W.tag===6?(u(Q,W.sibling),W=g(W,X),W.return=Q,Q=W):(u(Q,W),W=vp(X,Q.mode,ue),W.return=Q,Q=W),R(Q)):u(Q,W)}return Nt}var Ma=Qy(!0),Xy=Qy(!1),Xc=Rs(null),Yc=null,Va=null,I0=null;function R0(){I0=Va=Yc=null}function P0(s){var o=Xc.current;xt(Xc),s._currentValue=o}function D0(s,o,u){for(;s!==null;){var m=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,m!==null&&(m.childLanes|=o)):m!==null&&(m.childLanes&o)!==o&&(m.childLanes|=o),s===u)break;s=s.return}}function Ua(s,o){Yc=s,I0=Va=null,s=s.dependencies,s!==null&&s.firstContext!==null&&(s.lanes&o&&(mr=!0),s.firstContext=null)}function $r(s){var o=s._currentValue;if(I0!==s)if(s={context:s,memoizedValue:o,next:null},Va===null){if(Yc===null)throw Error(t(308));Va=s,Yc.dependencies={lanes:0,firstContext:s}}else Va=Va.next=s;return o}var Do=null;function B0(s){Do===null?Do=[s]:Do.push(s)}function Yy(s,o,u,m){var g=o.interleaved;return g===null?(u.next=u,B0(o)):(u.next=g.next,g.next=u),o.interleaved=u,es(s,m)}function es(s,o){s.lanes|=o;var u=s.alternate;for(u!==null&&(u.lanes|=o),u=s,s=s.return;s!==null;)s.childLanes|=o,u=s.alternate,u!==null&&(u.childLanes|=o),u=s,s=s.return;return u.tag===3?u.stateNode:null}var Bs=!1;function F0(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Zy(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function ts(s,o){return{eventTime:s,lane:o,tag:0,payload:null,callback:null,next:null}}function Fs(s,o,u){var m=s.updateQueue;if(m===null)return null;if(m=m.shared,Je&2){var g=m.pending;return g===null?o.next=o:(o.next=g.next,g.next=o),m.pending=o,es(s,u)}return g=m.interleaved,g===null?(o.next=o,B0(m)):(o.next=g.next,g.next=o),m.interleaved=o,es(s,u)}function Zc(s,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194240)!==0)){var m=o.lanes;m&=s.pendingLanes,u|=m,o.lanes=u,Ts(s,u)}}function Jy(s,o){var u=s.updateQueue,m=s.alternate;if(m!==null&&(m=m.updateQueue,u===m)){var g=null,x=null;if(u=u.firstBaseUpdate,u!==null){do{var R={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};x===null?g=x=R:x=x.next=R,u=u.next}while(u!==null);x===null?g=x=o:x=x.next=o}else g=x=o;u={baseState:m.baseState,firstBaseUpdate:g,lastBaseUpdate:x,shared:m.shared,effects:m.effects},s.updateQueue=u;return}s=u.lastBaseUpdate,s===null?u.firstBaseUpdate=o:s.next=o,u.lastBaseUpdate=o}function Jc(s,o,u,m){var g=s.updateQueue;Bs=!1;var x=g.firstBaseUpdate,R=g.lastBaseUpdate,$=g.shared.pending;if($!==null){g.shared.pending=null;var H=$,Y=H.next;H.next=null,R===null?x=Y:R.next=Y,R=H;var oe=s.alternate;oe!==null&&(oe=oe.updateQueue,$=oe.lastBaseUpdate,$!==R&&($===null?oe.firstBaseUpdate=Y:$.next=Y,oe.lastBaseUpdate=H))}if(x!==null){var le=g.baseState;R=0,oe=Y=H=null,$=x;do{var se=$.lane,ye=$.eventTime;if((m&se)===se){oe!==null&&(oe=oe.next={eventTime:ye,lane:0,tag:$.tag,payload:$.payload,callback:$.callback,next:null});e:{var Ae=s,ke=$;switch(se=o,ye=u,ke.tag){case 1:if(Ae=ke.payload,typeof Ae=="function"){le=Ae.call(ye,le,se);break e}le=Ae;break e;case 3:Ae.flags=Ae.flags&-65537|128;case 0:if(Ae=ke.payload,se=typeof Ae=="function"?Ae.call(ye,le,se):Ae,se==null)break e;le=ie({},le,se);break e;case 2:Bs=!0}}$.callback!==null&&$.lane!==0&&(s.flags|=64,se=g.effects,se===null?g.effects=[$]:se.push($))}else ye={eventTime:ye,lane:se,tag:$.tag,payload:$.payload,callback:$.callback,next:null},oe===null?(Y=oe=ye,H=le):oe=oe.next=ye,R|=se;if($=$.next,$===null){if($=g.shared.pending,$===null)break;se=$,$=se.next,se.next=null,g.lastBaseUpdate=se,g.shared.pending=null}}while(!0);if(oe===null&&(H=le),g.baseState=H,g.firstBaseUpdate=Y,g.lastBaseUpdate=oe,o=g.shared.interleaved,o!==null){g=o;do R|=g.lane,g=g.next;while(g!==o)}else x===null&&(g.shared.lanes=0);Lo|=R,s.lanes=R,s.memoizedState=le}}function e_(s,o,u){if(s=o.effects,o.effects=null,s!==null)for(o=0;o<s.length;o++){var m=s[o],g=m.callback;if(g!==null){if(m.callback=null,m=u,typeof g!="function")throw Error(t(191,g));g.call(m)}}}var Ql={},bi=Rs(Ql),Xl=Rs(Ql),Yl=Rs(Ql);function Bo(s){if(s===Ql)throw Error(t(174));return s}function L0(s,o){switch(yt(Yl,o),yt(Xl,s),yt(bi,Ql),s=o.nodeType,s){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:at(null,"");break;default:s=s===8?o.parentNode:o,o=s.namespaceURI||null,s=s.tagName,o=at(o,s)}xt(bi),yt(bi,o)}function $a(){xt(bi),xt(Xl),xt(Yl)}function t_(s){Bo(Yl.current);var o=Bo(bi.current),u=at(o,s.type);o!==u&&(yt(Xl,s),yt(bi,u))}function N0(s){Xl.current===s&&(xt(bi),xt(Xl))}var bt=Rs(0);function eh(s){for(var o=s;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if(o.flags&128)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var O0=[];function M0(){for(var s=0;s<O0.length;s++)O0[s]._workInProgressVersionPrimary=null;O0.length=0}var th=B.ReactCurrentDispatcher,V0=B.ReactCurrentBatchConfig,Fo=0,St=null,Xt=null,on=null,nh=!1,Zl=!1,Jl=0,rk=0;function Sn(){throw Error(t(321))}function U0(s,o){if(o===null)return!1;for(var u=0;u<o.length&&u<s.length;u++)if(!li(s[u],o[u]))return!1;return!0}function $0(s,o,u,m,g,x){if(Fo=x,St=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,th.current=s===null||s.memoizedState===null?ak:lk,s=u(m,g),Zl){x=0;do{if(Zl=!1,Jl=0,25<=x)throw Error(t(301));x+=1,on=Xt=null,o.updateQueue=null,th.current=uk,s=u(m,g)}while(Zl)}if(th.current=sh,o=Xt!==null&&Xt.next!==null,Fo=0,on=Xt=St=null,nh=!1,o)throw Error(t(300));return s}function z0(){var s=Jl!==0;return Jl=0,s}function Si(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return on===null?St.memoizedState=on=s:on=on.next=s,on}function zr(){if(Xt===null){var s=St.alternate;s=s!==null?s.memoizedState:null}else s=Xt.next;var o=on===null?St.memoizedState:on.next;if(o!==null)on=o,Xt=s;else{if(s===null)throw Error(t(310));Xt=s,s={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},on===null?St.memoizedState=on=s:on=on.next=s}return on}function eu(s,o){return typeof o=="function"?o(s):o}function j0(s){var o=zr(),u=o.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=s;var m=Xt,g=m.baseQueue,x=u.pending;if(x!==null){if(g!==null){var R=g.next;g.next=x.next,x.next=R}m.baseQueue=g=x,u.pending=null}if(g!==null){x=g.next,m=m.baseState;var $=R=null,H=null,Y=x;do{var oe=Y.lane;if((Fo&oe)===oe)H!==null&&(H=H.next={lane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),m=Y.hasEagerState?Y.eagerState:s(m,Y.action);else{var le={lane:oe,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null};H===null?($=H=le,R=m):H=H.next=le,St.lanes|=oe,Lo|=oe}Y=Y.next}while(Y!==null&&Y!==x);H===null?R=m:H.next=$,li(m,o.memoizedState)||(mr=!0),o.memoizedState=m,o.baseState=R,o.baseQueue=H,u.lastRenderedState=m}if(s=u.interleaved,s!==null){g=s;do x=g.lane,St.lanes|=x,Lo|=x,g=g.next;while(g!==s)}else g===null&&(u.lanes=0);return[o.memoizedState,u.dispatch]}function H0(s){var o=zr(),u=o.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=s;var m=u.dispatch,g=u.pending,x=o.memoizedState;if(g!==null){u.pending=null;var R=g=g.next;do x=s(x,R.action),R=R.next;while(R!==g);li(x,o.memoizedState)||(mr=!0),o.memoizedState=x,o.baseQueue===null&&(o.baseState=x),u.lastRenderedState=x}return[x,m]}function n_(){}function r_(s,o){var u=St,m=zr(),g=o(),x=!li(m.memoizedState,g);if(x&&(m.memoizedState=g,mr=!0),m=m.queue,q0(o_.bind(null,u,m,s),[s]),m.getSnapshot!==o||x||on!==null&&on.memoizedState.tag&1){if(u.flags|=2048,tu(9,s_.bind(null,u,m,g,o),void 0,null),an===null)throw Error(t(349));Fo&30||i_(u,o,g)}return g}function i_(s,o,u){s.flags|=16384,s={getSnapshot:o,value:u},o=St.updateQueue,o===null?(o={lastEffect:null,stores:null},St.updateQueue=o,o.stores=[s]):(u=o.stores,u===null?o.stores=[s]:u.push(s))}function s_(s,o,u,m){o.value=u,o.getSnapshot=m,a_(o)&&l_(s)}function o_(s,o,u){return u(function(){a_(o)&&l_(s)})}function a_(s){var o=s.getSnapshot;s=s.value;try{var u=o();return!li(s,u)}catch{return!0}}function l_(s){var o=es(s,1);o!==null&&di(o,s,1,-1)}function u_(s){var o=Si();return typeof s=="function"&&(s=s()),o.memoizedState=o.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:eu,lastRenderedState:s},o.queue=s,s=s.dispatch=ok.bind(null,St,s),[o.memoizedState,s]}function tu(s,o,u,m){return s={tag:s,create:o,destroy:u,deps:m,next:null},o=St.updateQueue,o===null?(o={lastEffect:null,stores:null},St.updateQueue=o,o.lastEffect=s.next=s):(u=o.lastEffect,u===null?o.lastEffect=s.next=s:(m=u.next,u.next=s,s.next=m,o.lastEffect=s)),s}function c_(){return zr().memoizedState}function rh(s,o,u,m){var g=Si();St.flags|=s,g.memoizedState=tu(1|o,u,void 0,m===void 0?null:m)}function ih(s,o,u,m){var g=zr();m=m===void 0?null:m;var x=void 0;if(Xt!==null){var R=Xt.memoizedState;if(x=R.destroy,m!==null&&U0(m,R.deps)){g.memoizedState=tu(o,u,x,m);return}}St.flags|=s,g.memoizedState=tu(1|o,u,x,m)}function h_(s,o){return rh(8390656,8,s,o)}function q0(s,o){return ih(2048,8,s,o)}function f_(s,o){return ih(4,2,s,o)}function d_(s,o){return ih(4,4,s,o)}function p_(s,o){if(typeof o=="function")return s=s(),o(s),function(){o(null)};if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function m_(s,o,u){return u=u!=null?u.concat([s]):null,ih(4,4,p_.bind(null,o,s),u)}function W0(){}function g_(s,o){var u=zr();o=o===void 0?null:o;var m=u.memoizedState;return m!==null&&o!==null&&U0(o,m[1])?m[0]:(u.memoizedState=[s,o],s)}function y_(s,o){var u=zr();o=o===void 0?null:o;var m=u.memoizedState;return m!==null&&o!==null&&U0(o,m[1])?m[0]:(s=s(),u.memoizedState=[s,o],s)}function __(s,o,u){return Fo&21?(li(u,o)||(u=To(),St.lanes|=u,Lo|=u,s.baseState=!0),o):(s.baseState&&(s.baseState=!1,mr=!0),s.memoizedState=u)}function ik(s,o){var u=Ge;Ge=u!==0&&4>u?u:4,s(!0);var m=V0.transition;V0.transition={};try{s(!1),o()}finally{Ge=u,V0.transition=m}}function v_(){return zr().memoizedState}function sk(s,o,u){var m=Ms(s);if(u={lane:m,action:u,hasEagerState:!1,eagerState:null,next:null},x_(s))E_(o,u);else if(u=Yy(s,o,u,m),u!==null){var g=Qn();di(u,s,m,g),w_(u,o,m)}}function ok(s,o,u){var m=Ms(s),g={lane:m,action:u,hasEagerState:!1,eagerState:null,next:null};if(x_(s))E_(o,g);else{var x=s.alternate;if(s.lanes===0&&(x===null||x.lanes===0)&&(x=o.lastRenderedReducer,x!==null))try{var R=o.lastRenderedState,$=x(R,u);if(g.hasEagerState=!0,g.eagerState=$,li($,R)){var H=o.interleaved;H===null?(g.next=g,B0(o)):(g.next=H.next,H.next=g),o.interleaved=g;return}}catch{}finally{}u=Yy(s,o,g,m),u!==null&&(g=Qn(),di(u,s,m,g),w_(u,o,m))}}function x_(s){var o=s.alternate;return s===St||o!==null&&o===St}function E_(s,o){Zl=nh=!0;var u=s.pending;u===null?o.next=o:(o.next=u.next,u.next=o),s.pending=o}function w_(s,o,u){if(u&4194240){var m=o.lanes;m&=s.pendingLanes,u|=m,o.lanes=u,Ts(s,u)}}var sh={readContext:$r,useCallback:Sn,useContext:Sn,useEffect:Sn,useImperativeHandle:Sn,useInsertionEffect:Sn,useLayoutEffect:Sn,useMemo:Sn,useReducer:Sn,useRef:Sn,useState:Sn,useDebugValue:Sn,useDeferredValue:Sn,useTransition:Sn,useMutableSource:Sn,useSyncExternalStore:Sn,useId:Sn,unstable_isNewReconciler:!1},ak={readContext:$r,useCallback:function(s,o){return Si().memoizedState=[s,o===void 0?null:o],s},useContext:$r,useEffect:h_,useImperativeHandle:function(s,o,u){return u=u!=null?u.concat([s]):null,rh(4194308,4,p_.bind(null,o,s),u)},useLayoutEffect:function(s,o){return rh(4194308,4,s,o)},useInsertionEffect:function(s,o){return rh(4,2,s,o)},useMemo:function(s,o){var u=Si();return o=o===void 0?null:o,s=s(),u.memoizedState=[s,o],s},useReducer:function(s,o,u){var m=Si();return o=u!==void 0?u(o):o,m.memoizedState=m.baseState=o,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:o},m.queue=s,s=s.dispatch=sk.bind(null,St,s),[m.memoizedState,s]},useRef:function(s){var o=Si();return s={current:s},o.memoizedState=s},useState:u_,useDebugValue:W0,useDeferredValue:function(s){return Si().memoizedState=s},useTransition:function(){var s=u_(!1),o=s[0];return s=ik.bind(null,s[1]),Si().memoizedState=s,[o,s]},useMutableSource:function(){},useSyncExternalStore:function(s,o,u){var m=St,g=Si();if(kt){if(u===void 0)throw Error(t(407));u=u()}else{if(u=o(),an===null)throw Error(t(349));Fo&30||i_(m,o,u)}g.memoizedState=u;var x={value:u,getSnapshot:o};return g.queue=x,h_(o_.bind(null,m,x,s),[s]),m.flags|=2048,tu(9,s_.bind(null,m,x,u,o),void 0,null),u},useId:function(){var s=Si(),o=an.identifierPrefix;if(kt){var u=Ji,m=Zi;u=(m&~(1<<32-Wn(m)-1)).toString(32)+u,o=":"+o+"R"+u,u=Jl++,0<u&&(o+="H"+u.toString(32)),o+=":"}else u=rk++,o=":"+o+"r"+u.toString(32)+":";return s.memoizedState=o},unstable_isNewReconciler:!1},lk={readContext:$r,useCallback:g_,useContext:$r,useEffect:q0,useImperativeHandle:m_,useInsertionEffect:f_,useLayoutEffect:d_,useMemo:y_,useReducer:j0,useRef:c_,useState:function(){return j0(eu)},useDebugValue:W0,useDeferredValue:function(s){var o=zr();return __(o,Xt.memoizedState,s)},useTransition:function(){var s=j0(eu)[0],o=zr().memoizedState;return[s,o]},useMutableSource:n_,useSyncExternalStore:r_,useId:v_,unstable_isNewReconciler:!1},uk={readContext:$r,useCallback:g_,useContext:$r,useEffect:q0,useImperativeHandle:m_,useInsertionEffect:f_,useLayoutEffect:d_,useMemo:y_,useReducer:H0,useRef:c_,useState:function(){return H0(eu)},useDebugValue:W0,useDeferredValue:function(s){var o=zr();return Xt===null?o.memoizedState=s:__(o,Xt.memoizedState,s)},useTransition:function(){var s=H0(eu)[0],o=zr().memoizedState;return[s,o]},useMutableSource:n_,useSyncExternalStore:r_,useId:v_,unstable_isNewReconciler:!1};function ci(s,o){if(s&&s.defaultProps){o=ie({},o),s=s.defaultProps;for(var u in s)o[u]===void 0&&(o[u]=s[u]);return o}return o}function G0(s,o,u,m){o=s.memoizedState,u=u(m,o),u=u==null?o:ie({},o,u),s.memoizedState=u,s.lanes===0&&(s.updateQueue.baseState=u)}var oh={isMounted:function(s){return(s=s._reactInternals)?lr(s)===s:!1},enqueueSetState:function(s,o,u){s=s._reactInternals;var m=Qn(),g=Ms(s),x=ts(m,g);x.payload=o,u!=null&&(x.callback=u),o=Fs(s,x,g),o!==null&&(di(o,s,g,m),Zc(o,s,g))},enqueueReplaceState:function(s,o,u){s=s._reactInternals;var m=Qn(),g=Ms(s),x=ts(m,g);x.tag=1,x.payload=o,u!=null&&(x.callback=u),o=Fs(s,x,g),o!==null&&(di(o,s,g,m),Zc(o,s,g))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var u=Qn(),m=Ms(s),g=ts(u,m);g.tag=2,o!=null&&(g.callback=o),o=Fs(s,g,m),o!==null&&(di(o,s,m,u),Zc(o,s,m))}};function T_(s,o,u,m,g,x,R){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(m,x,R):o.prototype&&o.prototype.isPureReactComponent?!$l(u,m)||!$l(g,x):!0}function A_(s,o,u){var m=!1,g=Ps,x=o.contextType;return typeof x=="object"&&x!==null?x=$r(x):(g=pr(o)?Io:bn.current,m=o.contextTypes,x=(m=m!=null)?Fa(s,g):Ps),o=new o(u,x),s.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=oh,s.stateNode=o,o._reactInternals=s,m&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=g,s.__reactInternalMemoizedMaskedChildContext=x),o}function C_(s,o,u,m){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,m),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,m),o.state!==s&&oh.enqueueReplaceState(o,o.state,null)}function K0(s,o,u,m){var g=s.stateNode;g.props=u,g.state=s.memoizedState,g.refs={},F0(s);var x=o.contextType;typeof x=="object"&&x!==null?g.context=$r(x):(x=pr(o)?Io:bn.current,g.context=Fa(s,x)),g.state=s.memoizedState,x=o.getDerivedStateFromProps,typeof x=="function"&&(G0(s,o,x,u),g.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(o=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),o!==g.state&&oh.enqueueReplaceState(g,g.state,null),Jc(s,u,g,m),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308)}function za(s,o){try{var u="",m=o;do u+=fe(m),m=m.return;while(m);var g=u}catch(x){g=`
Error generating stack: `+x.message+`
`+x.stack}return{value:s,source:o,stack:g,digest:null}}function Q0(s,o,u){return{value:s,source:null,stack:u??null,digest:o??null}}function X0(s,o){try{console.error(o.value)}catch(u){setTimeout(function(){throw u})}}var ck=typeof WeakMap=="function"?WeakMap:Map;function k_(s,o,u){u=ts(-1,u),u.tag=3,u.payload={element:null};var m=o.value;return u.callback=function(){dh||(dh=!0,hp=m),X0(s,o)},u}function b_(s,o,u){u=ts(-1,u),u.tag=3;var m=s.type.getDerivedStateFromError;if(typeof m=="function"){var g=o.value;u.payload=function(){return m(g)},u.callback=function(){X0(s,o)}}var x=s.stateNode;return x!==null&&typeof x.componentDidCatch=="function"&&(u.callback=function(){X0(s,o),typeof m!="function"&&(Ns===null?Ns=new Set([this]):Ns.add(this));var R=o.stack;this.componentDidCatch(o.value,{componentStack:R!==null?R:""})}),u}function S_(s,o,u){var m=s.pingCache;if(m===null){m=s.pingCache=new ck;var g=new Set;m.set(o,g)}else g=m.get(o),g===void 0&&(g=new Set,m.set(o,g));g.has(u)||(g.add(u),s=Ak.bind(null,s,o,u),o.then(s,s))}function I_(s){do{var o;if((o=s.tag===13)&&(o=s.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return s;s=s.return}while(s!==null);return null}function R_(s,o,u,m,g){return s.mode&1?(s.flags|=65536,s.lanes=g,s):(s===o?s.flags|=65536:(s.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(o=ts(-1,1),o.tag=2,Fs(u,o,1))),u.lanes|=1),s)}var hk=B.ReactCurrentOwner,mr=!1;function Kn(s,o,u,m){o.child=s===null?Xy(o,null,u,m):Ma(o,s.child,u,m)}function P_(s,o,u,m,g){u=u.render;var x=o.ref;return Ua(o,g),m=$0(s,o,u,m,x,g),u=z0(),s!==null&&!mr?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~g,ns(s,o,g)):(kt&&u&&A0(o),o.flags|=1,Kn(s,o,m,g),o.child)}function D_(s,o,u,m,g){if(s===null){var x=u.type;return typeof x=="function"&&!_p(x)&&x.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(o.tag=15,o.type=x,B_(s,o,x,m,g)):(s=vh(u.type,null,m,o,o.mode,g),s.ref=o.ref,s.return=o,o.child=s)}if(x=s.child,!(s.lanes&g)){var R=x.memoizedProps;if(u=u.compare,u=u!==null?u:$l,u(R,m)&&s.ref===o.ref)return ns(s,o,g)}return o.flags|=1,s=Us(x,m),s.ref=o.ref,s.return=o,o.child=s}function B_(s,o,u,m,g){if(s!==null){var x=s.memoizedProps;if($l(x,m)&&s.ref===o.ref)if(mr=!1,o.pendingProps=m=x,(s.lanes&g)!==0)s.flags&131072&&(mr=!0);else return o.lanes=s.lanes,ns(s,o,g)}return Y0(s,o,u,m,g)}function F_(s,o,u){var m=o.pendingProps,g=m.children,x=s!==null?s.memoizedState:null;if(m.mode==="hidden")if(!(o.mode&1))o.memoizedState={baseLanes:0,cachePool:null,transitions:null},yt(Ha,Ir),Ir|=u;else{if(!(u&1073741824))return s=x!==null?x.baseLanes|u:u,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:s,cachePool:null,transitions:null},o.updateQueue=null,yt(Ha,Ir),Ir|=s,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},m=x!==null?x.baseLanes:u,yt(Ha,Ir),Ir|=m}else x!==null?(m=x.baseLanes|u,o.memoizedState=null):m=u,yt(Ha,Ir),Ir|=m;return Kn(s,o,g,u),o.child}function L_(s,o){var u=o.ref;(s===null&&u!==null||s!==null&&s.ref!==u)&&(o.flags|=512,o.flags|=2097152)}function Y0(s,o,u,m,g){var x=pr(u)?Io:bn.current;return x=Fa(o,x),Ua(o,g),u=$0(s,o,u,m,x,g),m=z0(),s!==null&&!mr?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~g,ns(s,o,g)):(kt&&m&&A0(o),o.flags|=1,Kn(s,o,u,g),o.child)}function N_(s,o,u,m,g){if(pr(u)){var x=!0;Hc(o)}else x=!1;if(Ua(o,g),o.stateNode===null)lh(s,o),A_(o,u,m),K0(o,u,m,g),m=!0;else if(s===null){var R=o.stateNode,$=o.memoizedProps;R.props=$;var H=R.context,Y=u.contextType;typeof Y=="object"&&Y!==null?Y=$r(Y):(Y=pr(u)?Io:bn.current,Y=Fa(o,Y));var oe=u.getDerivedStateFromProps,le=typeof oe=="function"||typeof R.getSnapshotBeforeUpdate=="function";le||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||($!==m||H!==Y)&&C_(o,R,m,Y),Bs=!1;var se=o.memoizedState;R.state=se,Jc(o,m,R,g),H=o.memoizedState,$!==m||se!==H||dr.current||Bs?(typeof oe=="function"&&(G0(o,u,oe,m),H=o.memoizedState),($=Bs||T_(o,u,$,m,se,H,Y))?(le||typeof R.UNSAFE_componentWillMount!="function"&&typeof R.componentWillMount!="function"||(typeof R.componentWillMount=="function"&&R.componentWillMount(),typeof R.UNSAFE_componentWillMount=="function"&&R.UNSAFE_componentWillMount()),typeof R.componentDidMount=="function"&&(o.flags|=4194308)):(typeof R.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=m,o.memoizedState=H),R.props=m,R.state=H,R.context=Y,m=$):(typeof R.componentDidMount=="function"&&(o.flags|=4194308),m=!1)}else{R=o.stateNode,Zy(s,o),$=o.memoizedProps,Y=o.type===o.elementType?$:ci(o.type,$),R.props=Y,le=o.pendingProps,se=R.context,H=u.contextType,typeof H=="object"&&H!==null?H=$r(H):(H=pr(u)?Io:bn.current,H=Fa(o,H));var ye=u.getDerivedStateFromProps;(oe=typeof ye=="function"||typeof R.getSnapshotBeforeUpdate=="function")||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||($!==le||se!==H)&&C_(o,R,m,H),Bs=!1,se=o.memoizedState,R.state=se,Jc(o,m,R,g);var Ae=o.memoizedState;$!==le||se!==Ae||dr.current||Bs?(typeof ye=="function"&&(G0(o,u,ye,m),Ae=o.memoizedState),(Y=Bs||T_(o,u,Y,m,se,Ae,H)||!1)?(oe||typeof R.UNSAFE_componentWillUpdate!="function"&&typeof R.componentWillUpdate!="function"||(typeof R.componentWillUpdate=="function"&&R.componentWillUpdate(m,Ae,H),typeof R.UNSAFE_componentWillUpdate=="function"&&R.UNSAFE_componentWillUpdate(m,Ae,H)),typeof R.componentDidUpdate=="function"&&(o.flags|=4),typeof R.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof R.componentDidUpdate!="function"||$===s.memoizedProps&&se===s.memoizedState||(o.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||$===s.memoizedProps&&se===s.memoizedState||(o.flags|=1024),o.memoizedProps=m,o.memoizedState=Ae),R.props=m,R.state=Ae,R.context=H,m=Y):(typeof R.componentDidUpdate!="function"||$===s.memoizedProps&&se===s.memoizedState||(o.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||$===s.memoizedProps&&se===s.memoizedState||(o.flags|=1024),m=!1)}return Z0(s,o,u,m,x,g)}function Z0(s,o,u,m,g,x){L_(s,o);var R=(o.flags&128)!==0;if(!m&&!R)return g&&$y(o,u,!1),ns(s,o,x);m=o.stateNode,hk.current=o;var $=R&&typeof u.getDerivedStateFromError!="function"?null:m.render();return o.flags|=1,s!==null&&R?(o.child=Ma(o,s.child,null,x),o.child=Ma(o,null,$,x)):Kn(s,o,$,x),o.memoizedState=m.state,g&&$y(o,u,!0),o.child}function O_(s){var o=s.stateNode;o.pendingContext?Vy(s,o.pendingContext,o.pendingContext!==o.context):o.context&&Vy(s,o.context,!1),L0(s,o.containerInfo)}function M_(s,o,u,m,g){return Oa(),S0(g),o.flags|=256,Kn(s,o,u,m),o.child}var J0={dehydrated:null,treeContext:null,retryLane:0};function ep(s){return{baseLanes:s,cachePool:null,transitions:null}}function V_(s,o,u){var m=o.pendingProps,g=bt.current,x=!1,R=(o.flags&128)!==0,$;if(($=R)||($=s!==null&&s.memoizedState===null?!1:(g&2)!==0),$?(x=!0,o.flags&=-129):(s===null||s.memoizedState!==null)&&(g|=1),yt(bt,g&1),s===null)return b0(o),s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?(o.mode&1?s.data==="$!"?o.lanes=8:o.lanes=1073741824:o.lanes=1,null):(R=m.children,s=m.fallback,x?(m=o.mode,x=o.child,R={mode:"hidden",children:R},!(m&1)&&x!==null?(x.childLanes=0,x.pendingProps=R):x=xh(R,m,0,null),s=Vo(s,m,u,null),x.return=o,s.return=o,x.sibling=s,o.child=x,o.child.memoizedState=ep(u),o.memoizedState=J0,s):tp(o,R));if(g=s.memoizedState,g!==null&&($=g.dehydrated,$!==null))return fk(s,o,R,m,$,g,u);if(x){x=m.fallback,R=o.mode,g=s.child,$=g.sibling;var H={mode:"hidden",children:m.children};return!(R&1)&&o.child!==g?(m=o.child,m.childLanes=0,m.pendingProps=H,o.deletions=null):(m=Us(g,H),m.subtreeFlags=g.subtreeFlags&14680064),$!==null?x=Us($,x):(x=Vo(x,R,u,null),x.flags|=2),x.return=o,m.return=o,m.sibling=x,o.child=m,m=x,x=o.child,R=s.child.memoizedState,R=R===null?ep(u):{baseLanes:R.baseLanes|u,cachePool:null,transitions:R.transitions},x.memoizedState=R,x.childLanes=s.childLanes&~u,o.memoizedState=J0,m}return x=s.child,s=x.sibling,m=Us(x,{mode:"visible",children:m.children}),!(o.mode&1)&&(m.lanes=u),m.return=o,m.sibling=null,s!==null&&(u=o.deletions,u===null?(o.deletions=[s],o.flags|=16):u.push(s)),o.child=m,o.memoizedState=null,m}function tp(s,o){return o=xh({mode:"visible",children:o},s.mode,0,null),o.return=s,s.child=o}function ah(s,o,u,m){return m!==null&&S0(m),Ma(o,s.child,null,u),s=tp(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function fk(s,o,u,m,g,x,R){if(u)return o.flags&256?(o.flags&=-257,m=Q0(Error(t(422))),ah(s,o,R,m)):o.memoizedState!==null?(o.child=s.child,o.flags|=128,null):(x=m.fallback,g=o.mode,m=xh({mode:"visible",children:m.children},g,0,null),x=Vo(x,g,R,null),x.flags|=2,m.return=o,x.return=o,m.sibling=x,o.child=m,o.mode&1&&Ma(o,s.child,null,R),o.child.memoizedState=ep(R),o.memoizedState=J0,x);if(!(o.mode&1))return ah(s,o,R,null);if(g.data==="$!"){if(m=g.nextSibling&&g.nextSibling.dataset,m)var $=m.dgst;return m=$,x=Error(t(419)),m=Q0(x,m,void 0),ah(s,o,R,m)}if($=(R&s.childLanes)!==0,mr||$){if(m=an,m!==null){switch(R&-R){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=g&(m.suspendedLanes|R)?0:g,g!==0&&g!==x.retryLane&&(x.retryLane=g,es(s,g),di(m,s,g,-1))}return yp(),m=Q0(Error(t(421))),ah(s,o,R,m)}return g.data==="$?"?(o.flags|=128,o.child=s.child,o=Ck.bind(null,s),g._reactRetry=o,null):(s=x.treeContext,Sr=Is(g.nextSibling),br=o,kt=!0,ui=null,s!==null&&(Vr[Ur++]=Zi,Vr[Ur++]=Ji,Vr[Ur++]=Ro,Zi=s.id,Ji=s.overflow,Ro=o),o=tp(o,m.children),o.flags|=4096,o)}function U_(s,o,u){s.lanes|=o;var m=s.alternate;m!==null&&(m.lanes|=o),D0(s.return,o,u)}function np(s,o,u,m,g){var x=s.memoizedState;x===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:m,tail:u,tailMode:g}:(x.isBackwards=o,x.rendering=null,x.renderingStartTime=0,x.last=m,x.tail=u,x.tailMode=g)}function $_(s,o,u){var m=o.pendingProps,g=m.revealOrder,x=m.tail;if(Kn(s,o,m.children,u),m=bt.current,m&2)m=m&1|2,o.flags|=128;else{if(s!==null&&s.flags&128)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&U_(s,u,o);else if(s.tag===19)U_(s,u,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}m&=1}if(yt(bt,m),!(o.mode&1))o.memoizedState=null;else switch(g){case"forwards":for(u=o.child,g=null;u!==null;)s=u.alternate,s!==null&&eh(s)===null&&(g=u),u=u.sibling;u=g,u===null?(g=o.child,o.child=null):(g=u.sibling,u.sibling=null),np(o,!1,g,u,x);break;case"backwards":for(u=null,g=o.child,o.child=null;g!==null;){if(s=g.alternate,s!==null&&eh(s)===null){o.child=g;break}s=g.sibling,g.sibling=u,u=g,g=s}np(o,!0,u,null,x);break;case"together":np(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function lh(s,o){!(o.mode&1)&&s!==null&&(s.alternate=null,o.alternate=null,o.flags|=2)}function ns(s,o,u){if(s!==null&&(o.dependencies=s.dependencies),Lo|=o.lanes,!(u&o.childLanes))return null;if(s!==null&&o.child!==s.child)throw Error(t(153));if(o.child!==null){for(s=o.child,u=Us(s,s.pendingProps),o.child=u,u.return=o;s.sibling!==null;)s=s.sibling,u=u.sibling=Us(s,s.pendingProps),u.return=o;u.sibling=null}return o.child}function dk(s,o,u){switch(o.tag){case 3:O_(o),Oa();break;case 5:t_(o);break;case 1:pr(o.type)&&Hc(o);break;case 4:L0(o,o.stateNode.containerInfo);break;case 10:var m=o.type._context,g=o.memoizedProps.value;yt(Xc,m._currentValue),m._currentValue=g;break;case 13:if(m=o.memoizedState,m!==null)return m.dehydrated!==null?(yt(bt,bt.current&1),o.flags|=128,null):u&o.child.childLanes?V_(s,o,u):(yt(bt,bt.current&1),s=ns(s,o,u),s!==null?s.sibling:null);yt(bt,bt.current&1);break;case 19:if(m=(u&o.childLanes)!==0,s.flags&128){if(m)return $_(s,o,u);o.flags|=128}if(g=o.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),yt(bt,bt.current),m)break;return null;case 22:case 23:return o.lanes=0,F_(s,o,u)}return ns(s,o,u)}var z_,rp,j_,H_;z_=function(s,o){for(var u=o.child;u!==null;){if(u.tag===5||u.tag===6)s.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},rp=function(){},j_=function(s,o,u,m){var g=s.memoizedProps;if(g!==m){s=o.stateNode,Bo(bi.current);var x=null;switch(u){case"input":g=nt(s,g),m=nt(s,m),x=[];break;case"select":g=ie({},g,{value:void 0}),m=ie({},m,{value:void 0}),x=[];break;case"textarea":g=Vt(s,g),m=Vt(s,m),x=[];break;default:typeof g.onClick!="function"&&typeof m.onClick=="function"&&(s.onclick=$c)}ei(u,m);var R;u=null;for(Y in g)if(!m.hasOwnProperty(Y)&&g.hasOwnProperty(Y)&&g[Y]!=null)if(Y==="style"){var $=g[Y];for(R in $)$.hasOwnProperty(R)&&(u||(u={}),u[R]="")}else Y!=="dangerouslySetInnerHTML"&&Y!=="children"&&Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&Y!=="autoFocus"&&(i.hasOwnProperty(Y)?x||(x=[]):(x=x||[]).push(Y,null));for(Y in m){var H=m[Y];if($=g!=null?g[Y]:void 0,m.hasOwnProperty(Y)&&H!==$&&(H!=null||$!=null))if(Y==="style")if($){for(R in $)!$.hasOwnProperty(R)||H&&H.hasOwnProperty(R)||(u||(u={}),u[R]="");for(R in H)H.hasOwnProperty(R)&&$[R]!==H[R]&&(u||(u={}),u[R]=H[R])}else u||(x||(x=[]),x.push(Y,u)),u=H;else Y==="dangerouslySetInnerHTML"?(H=H?H.__html:void 0,$=$?$.__html:void 0,H!=null&&$!==H&&(x=x||[]).push(Y,H)):Y==="children"?typeof H!="string"&&typeof H!="number"||(x=x||[]).push(Y,""+H):Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&(i.hasOwnProperty(Y)?(H!=null&&Y==="onScroll"&&vt("scroll",s),x||$===H||(x=[])):(x=x||[]).push(Y,H))}u&&(x=x||[]).push("style",u);var Y=x;(o.updateQueue=Y)&&(o.flags|=4)}},H_=function(s,o,u,m){u!==m&&(o.flags|=4)};function nu(s,o){if(!kt)switch(s.tailMode){case"hidden":o=s.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s.tail=null:u.sibling=null;break;case"collapsed":u=s.tail;for(var m=null;u!==null;)u.alternate!==null&&(m=u),u=u.sibling;m===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:m.sibling=null}}function In(s){var o=s.alternate!==null&&s.alternate.child===s.child,u=0,m=0;if(o)for(var g=s.child;g!==null;)u|=g.lanes|g.childLanes,m|=g.subtreeFlags&14680064,m|=g.flags&14680064,g.return=s,g=g.sibling;else for(g=s.child;g!==null;)u|=g.lanes|g.childLanes,m|=g.subtreeFlags,m|=g.flags,g.return=s,g=g.sibling;return s.subtreeFlags|=m,s.childLanes=u,o}function pk(s,o,u){var m=o.pendingProps;switch(C0(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return In(o),null;case 1:return pr(o.type)&&jc(),In(o),null;case 3:return m=o.stateNode,$a(),xt(dr),xt(bn),M0(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(s===null||s.child===null)&&(Kc(o)?o.flags|=4:s===null||s.memoizedState.isDehydrated&&!(o.flags&256)||(o.flags|=1024,ui!==null&&(pp(ui),ui=null))),rp(s,o),In(o),null;case 5:N0(o);var g=Bo(Yl.current);if(u=o.type,s!==null&&o.stateNode!=null)j_(s,o,u,m,g),s.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!m){if(o.stateNode===null)throw Error(t(166));return In(o),null}if(s=Bo(bi.current),Kc(o)){m=o.stateNode,u=o.type;var x=o.memoizedProps;switch(m[ki]=o,m[Wl]=x,s=(o.mode&1)!==0,u){case"dialog":vt("cancel",m),vt("close",m);break;case"iframe":case"object":case"embed":vt("load",m);break;case"video":case"audio":for(g=0;g<jl.length;g++)vt(jl[g],m);break;case"source":vt("error",m);break;case"img":case"image":case"link":vt("error",m),vt("load",m);break;case"details":vt("toggle",m);break;case"input":Mn(m,x),vt("invalid",m);break;case"select":m._wrapperState={wasMultiple:!!x.multiple},vt("invalid",m);break;case"textarea":Wt(m,x),vt("invalid",m)}ei(u,x),g=null;for(var R in x)if(x.hasOwnProperty(R)){var $=x[R];R==="children"?typeof $=="string"?m.textContent!==$&&(x.suppressHydrationWarning!==!0&&Uc(m.textContent,$,s),g=["children",$]):typeof $=="number"&&m.textContent!==""+$&&(x.suppressHydrationWarning!==!0&&Uc(m.textContent,$,s),g=["children",""+$]):i.hasOwnProperty(R)&&$!=null&&R==="onScroll"&&vt("scroll",m)}switch(u){case"input":An(m),Un(m,x,!0);break;case"textarea":An(m),zn(m);break;case"select":case"option":break;default:typeof x.onClick=="function"&&(m.onclick=$c)}m=g,o.updateQueue=m,m!==null&&(o.flags|=4)}else{R=g.nodeType===9?g:g.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Ze(u)),s==="http://www.w3.org/1999/xhtml"?u==="script"?(s=R.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof m.is=="string"?s=R.createElement(u,{is:m.is}):(s=R.createElement(u),u==="select"&&(R=s,m.multiple?R.multiple=!0:m.size&&(R.size=m.size))):s=R.createElementNS(s,u),s[ki]=o,s[Wl]=m,z_(s,o,!1,!1),o.stateNode=s;e:{switch(R=ti(u,m),u){case"dialog":vt("cancel",s),vt("close",s),g=m;break;case"iframe":case"object":case"embed":vt("load",s),g=m;break;case"video":case"audio":for(g=0;g<jl.length;g++)vt(jl[g],s);g=m;break;case"source":vt("error",s),g=m;break;case"img":case"image":case"link":vt("error",s),vt("load",s),g=m;break;case"details":vt("toggle",s),g=m;break;case"input":Mn(s,m),g=nt(s,m),vt("invalid",s);break;case"option":g=m;break;case"select":s._wrapperState={wasMultiple:!!m.multiple},g=ie({},m,{value:void 0}),vt("invalid",s);break;case"textarea":Wt(s,m),g=Vt(s,m),vt("invalid",s);break;default:g=m}ei(u,g),$=g;for(x in $)if($.hasOwnProperty(x)){var H=$[x];x==="style"?nn(s,H):x==="dangerouslySetInnerHTML"?(H=H?H.__html:void 0,H!=null&&Jr(s,H)):x==="children"?typeof H=="string"?(u!=="textarea"||H!=="")&&jn(s,H):typeof H=="number"&&jn(s,""+H):x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&x!=="autoFocus"&&(i.hasOwnProperty(x)?H!=null&&x==="onScroll"&&vt("scroll",s):H!=null&&S(s,x,H,R))}switch(u){case"input":An(s),Un(s,m,!1);break;case"textarea":An(s),zn(s);break;case"option":m.value!=null&&s.setAttribute("value",""+me(m.value));break;case"select":s.multiple=!!m.multiple,x=m.value,x!=null?At(s,!!m.multiple,x,!1):m.defaultValue!=null&&At(s,!!m.multiple,m.defaultValue,!0);break;default:typeof g.onClick=="function"&&(s.onclick=$c)}switch(u){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}}m&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return In(o),null;case 6:if(s&&o.stateNode!=null)H_(s,o,s.memoizedProps,m);else{if(typeof m!="string"&&o.stateNode===null)throw Error(t(166));if(u=Bo(Yl.current),Bo(bi.current),Kc(o)){if(m=o.stateNode,u=o.memoizedProps,m[ki]=o,(x=m.nodeValue!==u)&&(s=br,s!==null))switch(s.tag){case 3:Uc(m.nodeValue,u,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Uc(m.nodeValue,u,(s.mode&1)!==0)}x&&(o.flags|=4)}else m=(u.nodeType===9?u:u.ownerDocument).createTextNode(m),m[ki]=o,o.stateNode=m}return In(o),null;case 13:if(xt(bt),m=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(kt&&Sr!==null&&o.mode&1&&!(o.flags&128))Gy(),Oa(),o.flags|=98560,x=!1;else if(x=Kc(o),m!==null&&m.dehydrated!==null){if(s===null){if(!x)throw Error(t(318));if(x=o.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(t(317));x[ki]=o}else Oa(),!(o.flags&128)&&(o.memoizedState=null),o.flags|=4;In(o),x=!1}else ui!==null&&(pp(ui),ui=null),x=!0;if(!x)return o.flags&65536?o:null}return o.flags&128?(o.lanes=u,o):(m=m!==null,m!==(s!==null&&s.memoizedState!==null)&&m&&(o.child.flags|=8192,o.mode&1&&(s===null||bt.current&1?Yt===0&&(Yt=3):yp())),o.updateQueue!==null&&(o.flags|=4),In(o),null);case 4:return $a(),rp(s,o),s===null&&Hl(o.stateNode.containerInfo),In(o),null;case 10:return P0(o.type._context),In(o),null;case 17:return pr(o.type)&&jc(),In(o),null;case 19:if(xt(bt),x=o.memoizedState,x===null)return In(o),null;if(m=(o.flags&128)!==0,R=x.rendering,R===null)if(m)nu(x,!1);else{if(Yt!==0||s!==null&&s.flags&128)for(s=o.child;s!==null;){if(R=eh(s),R!==null){for(o.flags|=128,nu(x,!1),m=R.updateQueue,m!==null&&(o.updateQueue=m,o.flags|=4),o.subtreeFlags=0,m=u,u=o.child;u!==null;)x=u,s=m,x.flags&=14680066,R=x.alternate,R===null?(x.childLanes=0,x.lanes=s,x.child=null,x.subtreeFlags=0,x.memoizedProps=null,x.memoizedState=null,x.updateQueue=null,x.dependencies=null,x.stateNode=null):(x.childLanes=R.childLanes,x.lanes=R.lanes,x.child=R.child,x.subtreeFlags=0,x.deletions=null,x.memoizedProps=R.memoizedProps,x.memoizedState=R.memoizedState,x.updateQueue=R.updateQueue,x.type=R.type,s=R.dependencies,x.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),u=u.sibling;return yt(bt,bt.current&1|2),o.child}s=s.sibling}x.tail!==null&&Ve()>qa&&(o.flags|=128,m=!0,nu(x,!1),o.lanes=4194304)}else{if(!m)if(s=eh(R),s!==null){if(o.flags|=128,m=!0,u=s.updateQueue,u!==null&&(o.updateQueue=u,o.flags|=4),nu(x,!0),x.tail===null&&x.tailMode==="hidden"&&!R.alternate&&!kt)return In(o),null}else 2*Ve()-x.renderingStartTime>qa&&u!==1073741824&&(o.flags|=128,m=!0,nu(x,!1),o.lanes=4194304);x.isBackwards?(R.sibling=o.child,o.child=R):(u=x.last,u!==null?u.sibling=R:o.child=R,x.last=R)}return x.tail!==null?(o=x.tail,x.rendering=o,x.tail=o.sibling,x.renderingStartTime=Ve(),o.sibling=null,u=bt.current,yt(bt,m?u&1|2:u&1),o):(In(o),null);case 22:case 23:return gp(),m=o.memoizedState!==null,s!==null&&s.memoizedState!==null!==m&&(o.flags|=8192),m&&o.mode&1?Ir&1073741824&&(In(o),o.subtreeFlags&6&&(o.flags|=8192)):In(o),null;case 24:return null;case 25:return null}throw Error(t(156,o.tag))}function mk(s,o){switch(C0(o),o.tag){case 1:return pr(o.type)&&jc(),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return $a(),xt(dr),xt(bn),M0(),s=o.flags,s&65536&&!(s&128)?(o.flags=s&-65537|128,o):null;case 5:return N0(o),null;case 13:if(xt(bt),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(t(340));Oa()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return xt(bt),null;case 4:return $a(),null;case 10:return P0(o.type._context),null;case 22:case 23:return gp(),null;case 24:return null;default:return null}}var uh=!1,Rn=!1,gk=typeof WeakSet=="function"?WeakSet:Set,we=null;function ja(s,o){var u=s.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(m){Dt(s,o,m)}else u.current=null}function ip(s,o,u){try{u()}catch(m){Dt(s,o,m)}}var q_=!1;function yk(s,o){if(g0=ks,s=Ty(),l0(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{u=(u=s.ownerDocument)&&u.defaultView||window;var m=u.getSelection&&u.getSelection();if(m&&m.rangeCount!==0){u=m.anchorNode;var g=m.anchorOffset,x=m.focusNode;m=m.focusOffset;try{u.nodeType,x.nodeType}catch{u=null;break e}var R=0,$=-1,H=-1,Y=0,oe=0,le=s,se=null;t:for(;;){for(var ye;le!==u||g!==0&&le.nodeType!==3||($=R+g),le!==x||m!==0&&le.nodeType!==3||(H=R+m),le.nodeType===3&&(R+=le.nodeValue.length),(ye=le.firstChild)!==null;)se=le,le=ye;for(;;){if(le===s)break t;if(se===u&&++Y===g&&($=R),se===x&&++oe===m&&(H=R),(ye=le.nextSibling)!==null)break;le=se,se=le.parentNode}le=ye}u=$===-1||H===-1?null:{start:$,end:H}}else u=null}u=u||{start:0,end:0}}else u=null;for(y0={focusedElem:s,selectionRange:u},ks=!1,we=o;we!==null;)if(o=we,s=o.child,(o.subtreeFlags&1028)!==0&&s!==null)s.return=o,we=s;else for(;we!==null;){o=we;try{var Ae=o.alternate;if(o.flags&1024)switch(o.tag){case 0:case 11:case 15:break;case 1:if(Ae!==null){var ke=Ae.memoizedProps,Nt=Ae.memoizedState,Q=o.stateNode,W=Q.getSnapshotBeforeUpdate(o.elementType===o.type?ke:ci(o.type,ke),Nt);Q.__reactInternalSnapshotBeforeUpdate=W}break;case 3:var X=o.stateNode.containerInfo;X.nodeType===1?X.textContent="":X.nodeType===9&&X.documentElement&&X.removeChild(X.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ue){Dt(o,o.return,ue)}if(s=o.sibling,s!==null){s.return=o.return,we=s;break}we=o.return}return Ae=q_,q_=!1,Ae}function ru(s,o,u){var m=o.updateQueue;if(m=m!==null?m.lastEffect:null,m!==null){var g=m=m.next;do{if((g.tag&s)===s){var x=g.destroy;g.destroy=void 0,x!==void 0&&ip(o,u,x)}g=g.next}while(g!==m)}}function ch(s,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var u=o=o.next;do{if((u.tag&s)===s){var m=u.create;u.destroy=m()}u=u.next}while(u!==o)}}function sp(s){var o=s.ref;if(o!==null){var u=s.stateNode;switch(s.tag){case 5:s=u;break;default:s=u}typeof o=="function"?o(s):o.current=s}}function W_(s){var o=s.alternate;o!==null&&(s.alternate=null,W_(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&(delete o[ki],delete o[Wl],delete o[E0],delete o[J3],delete o[ek])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function G_(s){return s.tag===5||s.tag===3||s.tag===4}function K_(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||G_(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function op(s,o,u){var m=s.tag;if(m===5||m===6)s=s.stateNode,o?u.nodeType===8?u.parentNode.insertBefore(s,o):u.insertBefore(s,o):(u.nodeType===8?(o=u.parentNode,o.insertBefore(s,u)):(o=u,o.appendChild(s)),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=$c));else if(m!==4&&(s=s.child,s!==null))for(op(s,o,u),s=s.sibling;s!==null;)op(s,o,u),s=s.sibling}function ap(s,o,u){var m=s.tag;if(m===5||m===6)s=s.stateNode,o?u.insertBefore(s,o):u.appendChild(s);else if(m!==4&&(s=s.child,s!==null))for(ap(s,o,u),s=s.sibling;s!==null;)ap(s,o,u),s=s.sibling}var yn=null,hi=!1;function Ls(s,o,u){for(u=u.child;u!==null;)Q_(s,o,u),u=u.sibling}function Q_(s,o,u){if(Tr&&typeof Tr.onCommitFiberUnmount=="function")try{Tr.onCommitFiberUnmount(Eo,u)}catch{}switch(u.tag){case 5:Rn||ja(u,o);case 6:var m=yn,g=hi;yn=null,Ls(s,o,u),yn=m,hi=g,yn!==null&&(hi?(s=yn,u=u.stateNode,s.nodeType===8?s.parentNode.removeChild(u):s.removeChild(u)):yn.removeChild(u.stateNode));break;case 18:yn!==null&&(hi?(s=yn,u=u.stateNode,s.nodeType===8?x0(s.parentNode,u):s.nodeType===1&&x0(s,u),oi(s)):x0(yn,u.stateNode));break;case 4:m=yn,g=hi,yn=u.stateNode.containerInfo,hi=!0,Ls(s,o,u),yn=m,hi=g;break;case 0:case 11:case 14:case 15:if(!Rn&&(m=u.updateQueue,m!==null&&(m=m.lastEffect,m!==null))){g=m=m.next;do{var x=g,R=x.destroy;x=x.tag,R!==void 0&&(x&2||x&4)&&ip(u,o,R),g=g.next}while(g!==m)}Ls(s,o,u);break;case 1:if(!Rn&&(ja(u,o),m=u.stateNode,typeof m.componentWillUnmount=="function"))try{m.props=u.memoizedProps,m.state=u.memoizedState,m.componentWillUnmount()}catch($){Dt(u,o,$)}Ls(s,o,u);break;case 21:Ls(s,o,u);break;case 22:u.mode&1?(Rn=(m=Rn)||u.memoizedState!==null,Ls(s,o,u),Rn=m):Ls(s,o,u);break;default:Ls(s,o,u)}}function X_(s){var o=s.updateQueue;if(o!==null){s.updateQueue=null;var u=s.stateNode;u===null&&(u=s.stateNode=new gk),o.forEach(function(m){var g=kk.bind(null,s,m);u.has(m)||(u.add(m),m.then(g,g))})}}function fi(s,o){var u=o.deletions;if(u!==null)for(var m=0;m<u.length;m++){var g=u[m];try{var x=s,R=o,$=R;e:for(;$!==null;){switch($.tag){case 5:yn=$.stateNode,hi=!1;break e;case 3:yn=$.stateNode.containerInfo,hi=!0;break e;case 4:yn=$.stateNode.containerInfo,hi=!0;break e}$=$.return}if(yn===null)throw Error(t(160));Q_(x,R,g),yn=null,hi=!1;var H=g.alternate;H!==null&&(H.return=null),g.return=null}catch(Y){Dt(g,o,Y)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)Y_(o,s),o=o.sibling}function Y_(s,o){var u=s.alternate,m=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(fi(o,s),Ii(s),m&4){try{ru(3,s,s.return),ch(3,s)}catch(ke){Dt(s,s.return,ke)}try{ru(5,s,s.return)}catch(ke){Dt(s,s.return,ke)}}break;case 1:fi(o,s),Ii(s),m&512&&u!==null&&ja(u,u.return);break;case 5:if(fi(o,s),Ii(s),m&512&&u!==null&&ja(u,u.return),s.flags&32){var g=s.stateNode;try{jn(g,"")}catch(ke){Dt(s,s.return,ke)}}if(m&4&&(g=s.stateNode,g!=null)){var x=s.memoizedProps,R=u!==null?u.memoizedProps:x,$=s.type,H=s.updateQueue;if(s.updateQueue=null,H!==null)try{$==="input"&&x.type==="radio"&&x.name!=null&&Vn(g,x),ti($,R);var Y=ti($,x);for(R=0;R<H.length;R+=2){var oe=H[R],le=H[R+1];oe==="style"?nn(g,le):oe==="dangerouslySetInnerHTML"?Jr(g,le):oe==="children"?jn(g,le):S(g,oe,le,Y)}switch($){case"input":hn(g,x);break;case"textarea":fn(g,x);break;case"select":var se=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!x.multiple;var ye=x.value;ye!=null?At(g,!!x.multiple,ye,!1):se!==!!x.multiple&&(x.defaultValue!=null?At(g,!!x.multiple,x.defaultValue,!0):At(g,!!x.multiple,x.multiple?[]:"",!1))}g[Wl]=x}catch(ke){Dt(s,s.return,ke)}}break;case 6:if(fi(o,s),Ii(s),m&4){if(s.stateNode===null)throw Error(t(162));g=s.stateNode,x=s.memoizedProps;try{g.nodeValue=x}catch(ke){Dt(s,s.return,ke)}}break;case 3:if(fi(o,s),Ii(s),m&4&&u!==null&&u.memoizedState.isDehydrated)try{oi(o.containerInfo)}catch(ke){Dt(s,s.return,ke)}break;case 4:fi(o,s),Ii(s);break;case 13:fi(o,s),Ii(s),g=s.child,g.flags&8192&&(x=g.memoizedState!==null,g.stateNode.isHidden=x,!x||g.alternate!==null&&g.alternate.memoizedState!==null||(cp=Ve())),m&4&&X_(s);break;case 22:if(oe=u!==null&&u.memoizedState!==null,s.mode&1?(Rn=(Y=Rn)||oe,fi(o,s),Rn=Y):fi(o,s),Ii(s),m&8192){if(Y=s.memoizedState!==null,(s.stateNode.isHidden=Y)&&!oe&&s.mode&1)for(we=s,oe=s.child;oe!==null;){for(le=we=oe;we!==null;){switch(se=we,ye=se.child,se.tag){case 0:case 11:case 14:case 15:ru(4,se,se.return);break;case 1:ja(se,se.return);var Ae=se.stateNode;if(typeof Ae.componentWillUnmount=="function"){m=se,u=se.return;try{o=m,Ae.props=o.memoizedProps,Ae.state=o.memoizedState,Ae.componentWillUnmount()}catch(ke){Dt(m,u,ke)}}break;case 5:ja(se,se.return);break;case 22:if(se.memoizedState!==null){ev(le);continue}}ye!==null?(ye.return=se,we=ye):ev(le)}oe=oe.sibling}e:for(oe=null,le=s;;){if(le.tag===5){if(oe===null){oe=le;try{g=le.stateNode,Y?(x=g.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none"):($=le.stateNode,H=le.memoizedProps.style,R=H!=null&&H.hasOwnProperty("display")?H.display:null,$.style.display=Br("display",R))}catch(ke){Dt(s,s.return,ke)}}}else if(le.tag===6){if(oe===null)try{le.stateNode.nodeValue=Y?"":le.memoizedProps}catch(ke){Dt(s,s.return,ke)}}else if((le.tag!==22&&le.tag!==23||le.memoizedState===null||le===s)&&le.child!==null){le.child.return=le,le=le.child;continue}if(le===s)break e;for(;le.sibling===null;){if(le.return===null||le.return===s)break e;oe===le&&(oe=null),le=le.return}oe===le&&(oe=null),le.sibling.return=le.return,le=le.sibling}}break;case 19:fi(o,s),Ii(s),m&4&&X_(s);break;case 21:break;default:fi(o,s),Ii(s)}}function Ii(s){var o=s.flags;if(o&2){try{e:{for(var u=s.return;u!==null;){if(G_(u)){var m=u;break e}u=u.return}throw Error(t(160))}switch(m.tag){case 5:var g=m.stateNode;m.flags&32&&(jn(g,""),m.flags&=-33);var x=K_(s);ap(s,x,g);break;case 3:case 4:var R=m.stateNode.containerInfo,$=K_(s);op(s,$,R);break;default:throw Error(t(161))}}catch(H){Dt(s,s.return,H)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function _k(s,o,u){we=s,Z_(s)}function Z_(s,o,u){for(var m=(s.mode&1)!==0;we!==null;){var g=we,x=g.child;if(g.tag===22&&m){var R=g.memoizedState!==null||uh;if(!R){var $=g.alternate,H=$!==null&&$.memoizedState!==null||Rn;$=uh;var Y=Rn;if(uh=R,(Rn=H)&&!Y)for(we=g;we!==null;)R=we,H=R.child,R.tag===22&&R.memoizedState!==null?tv(g):H!==null?(H.return=R,we=H):tv(g);for(;x!==null;)we=x,Z_(x),x=x.sibling;we=g,uh=$,Rn=Y}J_(s)}else g.subtreeFlags&8772&&x!==null?(x.return=g,we=x):J_(s)}}function J_(s){for(;we!==null;){var o=we;if(o.flags&8772){var u=o.alternate;try{if(o.flags&8772)switch(o.tag){case 0:case 11:case 15:Rn||ch(5,o);break;case 1:var m=o.stateNode;if(o.flags&4&&!Rn)if(u===null)m.componentDidMount();else{var g=o.elementType===o.type?u.memoizedProps:ci(o.type,u.memoizedProps);m.componentDidUpdate(g,u.memoizedState,m.__reactInternalSnapshotBeforeUpdate)}var x=o.updateQueue;x!==null&&e_(o,x,m);break;case 3:var R=o.updateQueue;if(R!==null){if(u=null,o.child!==null)switch(o.child.tag){case 5:u=o.child.stateNode;break;case 1:u=o.child.stateNode}e_(o,R,u)}break;case 5:var $=o.stateNode;if(u===null&&o.flags&4){u=$;var H=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":H.autoFocus&&u.focus();break;case"img":H.src&&(u.src=H.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var Y=o.alternate;if(Y!==null){var oe=Y.memoizedState;if(oe!==null){var le=oe.dehydrated;le!==null&&oi(le)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Rn||o.flags&512&&sp(o)}catch(se){Dt(o,o.return,se)}}if(o===s){we=null;break}if(u=o.sibling,u!==null){u.return=o.return,we=u;break}we=o.return}}function ev(s){for(;we!==null;){var o=we;if(o===s){we=null;break}var u=o.sibling;if(u!==null){u.return=o.return,we=u;break}we=o.return}}function tv(s){for(;we!==null;){var o=we;try{switch(o.tag){case 0:case 11:case 15:var u=o.return;try{ch(4,o)}catch(H){Dt(o,u,H)}break;case 1:var m=o.stateNode;if(typeof m.componentDidMount=="function"){var g=o.return;try{m.componentDidMount()}catch(H){Dt(o,g,H)}}var x=o.return;try{sp(o)}catch(H){Dt(o,x,H)}break;case 5:var R=o.return;try{sp(o)}catch(H){Dt(o,R,H)}}}catch(H){Dt(o,o.return,H)}if(o===s){we=null;break}var $=o.sibling;if($!==null){$.return=o.return,we=$;break}we=o.return}}var vk=Math.ceil,hh=B.ReactCurrentDispatcher,lp=B.ReactCurrentOwner,jr=B.ReactCurrentBatchConfig,Je=0,an=null,zt=null,_n=0,Ir=0,Ha=Rs(0),Yt=0,iu=null,Lo=0,fh=0,up=0,su=null,gr=null,cp=0,qa=1/0,rs=null,dh=!1,hp=null,Ns=null,ph=!1,Os=null,mh=0,ou=0,fp=null,gh=-1,yh=0;function Qn(){return Je&6?Ve():gh!==-1?gh:gh=Ve()}function Ms(s){return s.mode&1?Je&2&&_n!==0?_n&-_n:nk.transition!==null?(yh===0&&(yh=To()),yh):(s=Ge,s!==0||(s=window.event,s=s===void 0?16:Fl(s.type)),s):1}function di(s,o,u,m){if(50<ou)throw ou=0,fp=null,Error(t(185));ws(s,u,m),(!(Je&2)||s!==an)&&(s===an&&(!(Je&2)&&(fh|=u),Yt===4&&Vs(s,_n)),yr(s,m),u===1&&Je===0&&!(o.mode&1)&&(qa=Ve()+500,qc&&Ds()))}function yr(s,o){var u=s.callbackNode;qi(s,o);var m=wo(s,s===an?_n:0);if(m===0)u!==null&&Ee(u),s.callbackNode=null,s.callbackPriority=0;else if(o=m&-m,s.callbackPriority!==o){if(u!=null&&Ee(u),o===1)s.tag===0?tk(rv.bind(null,s)):zy(rv.bind(null,s)),Y3(function(){!(Je&6)&&Ds()}),u=null;else{switch(As(m)){case 1:u=rn;break;case 4:u=cr;break;case 16:u=lt;break;case 536870912:u=xo;break;default:u=lt}u=hv(u,nv.bind(null,s))}s.callbackPriority=o,s.callbackNode=u}}function nv(s,o){if(gh=-1,yh=0,Je&6)throw Error(t(327));var u=s.callbackNode;if(Wa()&&s.callbackNode!==u)return null;var m=wo(s,s===an?_n:0);if(m===0)return null;if(m&30||m&s.expiredLanes||o)o=_h(s,m);else{o=m;var g=Je;Je|=2;var x=sv();(an!==s||_n!==o)&&(rs=null,qa=Ve()+500,Oo(s,o));do try{wk();break}catch($){iv(s,$)}while(!0);R0(),hh.current=x,Je=g,zt!==null?o=0:(an=null,_n=0,o=Yt)}if(o!==0){if(o===2&&(g=Ar(s),g!==0&&(m=g,o=dp(s,g))),o===1)throw u=iu,Oo(s,0),Vs(s,m),yr(s,Ve()),u;if(o===6)Vs(s,m);else{if(g=s.current.alternate,!(m&30)&&!xk(g)&&(o=_h(s,m),o===2&&(x=Ar(s),x!==0&&(m=x,o=dp(s,x))),o===1))throw u=iu,Oo(s,0),Vs(s,m),yr(s,Ve()),u;switch(s.finishedWork=g,s.finishedLanes=m,o){case 0:case 1:throw Error(t(345));case 2:Mo(s,gr,rs);break;case 3:if(Vs(s,m),(m&130023424)===m&&(o=cp+500-Ve(),10<o)){if(wo(s,0)!==0)break;if(g=s.suspendedLanes,(g&m)!==m){Qn(),s.pingedLanes|=s.suspendedLanes&g;break}s.timeoutHandle=v0(Mo.bind(null,s,gr,rs),o);break}Mo(s,gr,rs);break;case 4:if(Vs(s,m),(m&4194240)===m)break;for(o=s.eventTimes,g=-1;0<m;){var R=31-Wn(m);x=1<<R,R=o[R],R>g&&(g=R),m&=~x}if(m=g,m=Ve()-m,m=(120>m?120:480>m?480:1080>m?1080:1920>m?1920:3e3>m?3e3:4320>m?4320:1960*vk(m/1960))-m,10<m){s.timeoutHandle=v0(Mo.bind(null,s,gr,rs),m);break}Mo(s,gr,rs);break;case 5:Mo(s,gr,rs);break;default:throw Error(t(329))}}}return yr(s,Ve()),s.callbackNode===u?nv.bind(null,s):null}function dp(s,o){var u=su;return s.current.memoizedState.isDehydrated&&(Oo(s,o).flags|=256),s=_h(s,o),s!==2&&(o=gr,gr=u,o!==null&&pp(o)),s}function pp(s){gr===null?gr=s:gr.push.apply(gr,s)}function xk(s){for(var o=s;;){if(o.flags&16384){var u=o.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var m=0;m<u.length;m++){var g=u[m],x=g.getSnapshot;g=g.value;try{if(!li(x(),g))return!1}catch{return!1}}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Vs(s,o){for(o&=~up,o&=~fh,s.suspendedLanes|=o,s.pingedLanes&=~o,s=s.expirationTimes;0<o;){var u=31-Wn(o),m=1<<u;s[u]=-1,o&=~m}}function rv(s){if(Je&6)throw Error(t(327));Wa();var o=wo(s,0);if(!(o&1))return yr(s,Ve()),null;var u=_h(s,o);if(s.tag!==0&&u===2){var m=Ar(s);m!==0&&(o=m,u=dp(s,m))}if(u===1)throw u=iu,Oo(s,0),Vs(s,o),yr(s,Ve()),u;if(u===6)throw Error(t(345));return s.finishedWork=s.current.alternate,s.finishedLanes=o,Mo(s,gr,rs),yr(s,Ve()),null}function mp(s,o){var u=Je;Je|=1;try{return s(o)}finally{Je=u,Je===0&&(qa=Ve()+500,qc&&Ds())}}function No(s){Os!==null&&Os.tag===0&&!(Je&6)&&Wa();var o=Je;Je|=1;var u=jr.transition,m=Ge;try{if(jr.transition=null,Ge=1,s)return s()}finally{Ge=m,jr.transition=u,Je=o,!(Je&6)&&Ds()}}function gp(){Ir=Ha.current,xt(Ha)}function Oo(s,o){s.finishedWork=null,s.finishedLanes=0;var u=s.timeoutHandle;if(u!==-1&&(s.timeoutHandle=-1,X3(u)),zt!==null)for(u=zt.return;u!==null;){var m=u;switch(C0(m),m.tag){case 1:m=m.type.childContextTypes,m!=null&&jc();break;case 3:$a(),xt(dr),xt(bn),M0();break;case 5:N0(m);break;case 4:$a();break;case 13:xt(bt);break;case 19:xt(bt);break;case 10:P0(m.type._context);break;case 22:case 23:gp()}u=u.return}if(an=s,zt=s=Us(s.current,null),_n=Ir=o,Yt=0,iu=null,up=fh=Lo=0,gr=su=null,Do!==null){for(o=0;o<Do.length;o++)if(u=Do[o],m=u.interleaved,m!==null){u.interleaved=null;var g=m.next,x=u.pending;if(x!==null){var R=x.next;x.next=g,m.next=R}u.pending=m}Do=null}return s}function iv(s,o){do{var u=zt;try{if(R0(),th.current=sh,nh){for(var m=St.memoizedState;m!==null;){var g=m.queue;g!==null&&(g.pending=null),m=m.next}nh=!1}if(Fo=0,on=Xt=St=null,Zl=!1,Jl=0,lp.current=null,u===null||u.return===null){Yt=1,iu=o,zt=null;break}e:{var x=s,R=u.return,$=u,H=o;if(o=_n,$.flags|=32768,H!==null&&typeof H=="object"&&typeof H.then=="function"){var Y=H,oe=$,le=oe.tag;if(!(oe.mode&1)&&(le===0||le===11||le===15)){var se=oe.alternate;se?(oe.updateQueue=se.updateQueue,oe.memoizedState=se.memoizedState,oe.lanes=se.lanes):(oe.updateQueue=null,oe.memoizedState=null)}var ye=I_(R);if(ye!==null){ye.flags&=-257,R_(ye,R,$,x,o),ye.mode&1&&S_(x,Y,o),o=ye,H=Y;var Ae=o.updateQueue;if(Ae===null){var ke=new Set;ke.add(H),o.updateQueue=ke}else Ae.add(H);break e}else{if(!(o&1)){S_(x,Y,o),yp();break e}H=Error(t(426))}}else if(kt&&$.mode&1){var Nt=I_(R);if(Nt!==null){!(Nt.flags&65536)&&(Nt.flags|=256),R_(Nt,R,$,x,o),S0(za(H,$));break e}}x=H=za(H,$),Yt!==4&&(Yt=2),su===null?su=[x]:su.push(x),x=R;do{switch(x.tag){case 3:x.flags|=65536,o&=-o,x.lanes|=o;var Q=k_(x,H,o);Jy(x,Q);break e;case 1:$=H;var W=x.type,X=x.stateNode;if(!(x.flags&128)&&(typeof W.getDerivedStateFromError=="function"||X!==null&&typeof X.componentDidCatch=="function"&&(Ns===null||!Ns.has(X)))){x.flags|=65536,o&=-o,x.lanes|=o;var ue=b_(x,$,o);Jy(x,ue);break e}}x=x.return}while(x!==null)}av(u)}catch(Se){o=Se,zt===u&&u!==null&&(zt=u=u.return);continue}break}while(!0)}function sv(){var s=hh.current;return hh.current=sh,s===null?sh:s}function yp(){(Yt===0||Yt===3||Yt===2)&&(Yt=4),an===null||!(Lo&268435455)&&!(fh&268435455)||Vs(an,_n)}function _h(s,o){var u=Je;Je|=2;var m=sv();(an!==s||_n!==o)&&(rs=null,Oo(s,o));do try{Ek();break}catch(g){iv(s,g)}while(!0);if(R0(),Je=u,hh.current=m,zt!==null)throw Error(t(261));return an=null,_n=0,Yt}function Ek(){for(;zt!==null;)ov(zt)}function wk(){for(;zt!==null&&!rt();)ov(zt)}function ov(s){var o=cv(s.alternate,s,Ir);s.memoizedProps=s.pendingProps,o===null?av(s):zt=o,lp.current=null}function av(s){var o=s;do{var u=o.alternate;if(s=o.return,o.flags&32768){if(u=mk(u,o),u!==null){u.flags&=32767,zt=u;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{Yt=6,zt=null;return}}else if(u=pk(u,o,Ir),u!==null){zt=u;return}if(o=o.sibling,o!==null){zt=o;return}zt=o=s}while(o!==null);Yt===0&&(Yt=5)}function Mo(s,o,u){var m=Ge,g=jr.transition;try{jr.transition=null,Ge=1,Tk(s,o,u,m)}finally{jr.transition=g,Ge=m}return null}function Tk(s,o,u,m){do Wa();while(Os!==null);if(Je&6)throw Error(t(327));u=s.finishedWork;var g=s.finishedLanes;if(u===null)return null;if(s.finishedWork=null,s.finishedLanes=0,u===s.current)throw Error(t(177));s.callbackNode=null,s.callbackPriority=0;var x=u.lanes|u.childLanes;if(ft(s,x),s===an&&(zt=an=null,_n=0),!(u.subtreeFlags&2064)&&!(u.flags&2064)||ph||(ph=!0,hv(lt,function(){return Wa(),null})),x=(u.flags&15990)!==0,u.subtreeFlags&15990||x){x=jr.transition,jr.transition=null;var R=Ge;Ge=1;var $=Je;Je|=4,lp.current=null,yk(s,u),Y_(u,s),j3(y0),ks=!!g0,y0=g0=null,s.current=u,_k(u),Ut(),Je=$,Ge=R,jr.transition=x}else s.current=u;if(ph&&(ph=!1,Os=s,mh=g),x=s.pendingLanes,x===0&&(Ns=null),_c(u.stateNode),yr(s,Ve()),o!==null)for(m=s.onRecoverableError,u=0;u<o.length;u++)g=o[u],m(g.value,{componentStack:g.stack,digest:g.digest});if(dh)throw dh=!1,s=hp,hp=null,s;return mh&1&&s.tag!==0&&Wa(),x=s.pendingLanes,x&1?s===fp?ou++:(ou=0,fp=s):ou=0,Ds(),null}function Wa(){if(Os!==null){var s=As(mh),o=jr.transition,u=Ge;try{if(jr.transition=null,Ge=16>s?16:s,Os===null)var m=!1;else{if(s=Os,Os=null,mh=0,Je&6)throw Error(t(331));var g=Je;for(Je|=4,we=s.current;we!==null;){var x=we,R=x.child;if(we.flags&16){var $=x.deletions;if($!==null){for(var H=0;H<$.length;H++){var Y=$[H];for(we=Y;we!==null;){var oe=we;switch(oe.tag){case 0:case 11:case 15:ru(8,oe,x)}var le=oe.child;if(le!==null)le.return=oe,we=le;else for(;we!==null;){oe=we;var se=oe.sibling,ye=oe.return;if(W_(oe),oe===Y){we=null;break}if(se!==null){se.return=ye,we=se;break}we=ye}}}var Ae=x.alternate;if(Ae!==null){var ke=Ae.child;if(ke!==null){Ae.child=null;do{var Nt=ke.sibling;ke.sibling=null,ke=Nt}while(ke!==null)}}we=x}}if(x.subtreeFlags&2064&&R!==null)R.return=x,we=R;else e:for(;we!==null;){if(x=we,x.flags&2048)switch(x.tag){case 0:case 11:case 15:ru(9,x,x.return)}var Q=x.sibling;if(Q!==null){Q.return=x.return,we=Q;break e}we=x.return}}var W=s.current;for(we=W;we!==null;){R=we;var X=R.child;if(R.subtreeFlags&2064&&X!==null)X.return=R,we=X;else e:for(R=W;we!==null;){if($=we,$.flags&2048)try{switch($.tag){case 0:case 11:case 15:ch(9,$)}}catch(Se){Dt($,$.return,Se)}if($===R){we=null;break e}var ue=$.sibling;if(ue!==null){ue.return=$.return,we=ue;break e}we=$.return}}if(Je=g,Ds(),Tr&&typeof Tr.onPostCommitFiberRoot=="function")try{Tr.onPostCommitFiberRoot(Eo,s)}catch{}m=!0}return m}finally{Ge=u,jr.transition=o}}return!1}function lv(s,o,u){o=za(u,o),o=k_(s,o,1),s=Fs(s,o,1),o=Qn(),s!==null&&(ws(s,1,o),yr(s,o))}function Dt(s,o,u){if(s.tag===3)lv(s,s,u);else for(;o!==null;){if(o.tag===3){lv(o,s,u);break}else if(o.tag===1){var m=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Ns===null||!Ns.has(m))){s=za(u,s),s=b_(o,s,1),o=Fs(o,s,1),s=Qn(),o!==null&&(ws(o,1,s),yr(o,s));break}}o=o.return}}function Ak(s,o,u){var m=s.pingCache;m!==null&&m.delete(o),o=Qn(),s.pingedLanes|=s.suspendedLanes&u,an===s&&(_n&u)===u&&(Yt===4||Yt===3&&(_n&130023424)===_n&&500>Ve()-cp?Oo(s,0):up|=u),yr(s,o)}function uv(s,o){o===0&&(s.mode&1?(o=ma,ma<<=1,!(ma&130023424)&&(ma=4194304)):o=1);var u=Qn();s=es(s,o),s!==null&&(ws(s,o,u),yr(s,u))}function Ck(s){var o=s.memoizedState,u=0;o!==null&&(u=o.retryLane),uv(s,u)}function kk(s,o){var u=0;switch(s.tag){case 13:var m=s.stateNode,g=s.memoizedState;g!==null&&(u=g.retryLane);break;case 19:m=s.stateNode;break;default:throw Error(t(314))}m!==null&&m.delete(o),uv(s,u)}var cv;cv=function(s,o,u){if(s!==null)if(s.memoizedProps!==o.pendingProps||dr.current)mr=!0;else{if(!(s.lanes&u)&&!(o.flags&128))return mr=!1,dk(s,o,u);mr=!!(s.flags&131072)}else mr=!1,kt&&o.flags&1048576&&jy(o,Gc,o.index);switch(o.lanes=0,o.tag){case 2:var m=o.type;lh(s,o),s=o.pendingProps;var g=Fa(o,bn.current);Ua(o,u),g=$0(null,o,m,s,g,u);var x=z0();return o.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,pr(m)?(x=!0,Hc(o)):x=!1,o.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,F0(o),g.updater=oh,o.stateNode=g,g._reactInternals=o,K0(o,m,s,u),o=Z0(null,o,m,!0,x,u)):(o.tag=0,kt&&x&&A0(o),Kn(null,o,g,u),o=o.child),o;case 16:m=o.elementType;e:{switch(lh(s,o),s=o.pendingProps,g=m._init,m=g(m._payload),o.type=m,g=o.tag=Sk(m),s=ci(m,s),g){case 0:o=Y0(null,o,m,s,u);break e;case 1:o=N_(null,o,m,s,u);break e;case 11:o=P_(null,o,m,s,u);break e;case 14:o=D_(null,o,m,ci(m.type,s),u);break e}throw Error(t(306,m,""))}return o;case 0:return m=o.type,g=o.pendingProps,g=o.elementType===m?g:ci(m,g),Y0(s,o,m,g,u);case 1:return m=o.type,g=o.pendingProps,g=o.elementType===m?g:ci(m,g),N_(s,o,m,g,u);case 3:e:{if(O_(o),s===null)throw Error(t(387));m=o.pendingProps,x=o.memoizedState,g=x.element,Zy(s,o),Jc(o,m,null,u);var R=o.memoizedState;if(m=R.element,x.isDehydrated)if(x={element:m,isDehydrated:!1,cache:R.cache,pendingSuspenseBoundaries:R.pendingSuspenseBoundaries,transitions:R.transitions},o.updateQueue.baseState=x,o.memoizedState=x,o.flags&256){g=za(Error(t(423)),o),o=M_(s,o,m,u,g);break e}else if(m!==g){g=za(Error(t(424)),o),o=M_(s,o,m,u,g);break e}else for(Sr=Is(o.stateNode.containerInfo.firstChild),br=o,kt=!0,ui=null,u=Xy(o,null,m,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Oa(),m===g){o=ns(s,o,u);break e}Kn(s,o,m,u)}o=o.child}return o;case 5:return t_(o),s===null&&b0(o),m=o.type,g=o.pendingProps,x=s!==null?s.memoizedProps:null,R=g.children,_0(m,g)?R=null:x!==null&&_0(m,x)&&(o.flags|=32),L_(s,o),Kn(s,o,R,u),o.child;case 6:return s===null&&b0(o),null;case 13:return V_(s,o,u);case 4:return L0(o,o.stateNode.containerInfo),m=o.pendingProps,s===null?o.child=Ma(o,null,m,u):Kn(s,o,m,u),o.child;case 11:return m=o.type,g=o.pendingProps,g=o.elementType===m?g:ci(m,g),P_(s,o,m,g,u);case 7:return Kn(s,o,o.pendingProps,u),o.child;case 8:return Kn(s,o,o.pendingProps.children,u),o.child;case 12:return Kn(s,o,o.pendingProps.children,u),o.child;case 10:e:{if(m=o.type._context,g=o.pendingProps,x=o.memoizedProps,R=g.value,yt(Xc,m._currentValue),m._currentValue=R,x!==null)if(li(x.value,R)){if(x.children===g.children&&!dr.current){o=ns(s,o,u);break e}}else for(x=o.child,x!==null&&(x.return=o);x!==null;){var $=x.dependencies;if($!==null){R=x.child;for(var H=$.firstContext;H!==null;){if(H.context===m){if(x.tag===1){H=ts(-1,u&-u),H.tag=2;var Y=x.updateQueue;if(Y!==null){Y=Y.shared;var oe=Y.pending;oe===null?H.next=H:(H.next=oe.next,oe.next=H),Y.pending=H}}x.lanes|=u,H=x.alternate,H!==null&&(H.lanes|=u),D0(x.return,u,o),$.lanes|=u;break}H=H.next}}else if(x.tag===10)R=x.type===o.type?null:x.child;else if(x.tag===18){if(R=x.return,R===null)throw Error(t(341));R.lanes|=u,$=R.alternate,$!==null&&($.lanes|=u),D0(R,u,o),R=x.sibling}else R=x.child;if(R!==null)R.return=x;else for(R=x;R!==null;){if(R===o){R=null;break}if(x=R.sibling,x!==null){x.return=R.return,R=x;break}R=R.return}x=R}Kn(s,o,g.children,u),o=o.child}return o;case 9:return g=o.type,m=o.pendingProps.children,Ua(o,u),g=$r(g),m=m(g),o.flags|=1,Kn(s,o,m,u),o.child;case 14:return m=o.type,g=ci(m,o.pendingProps),g=ci(m.type,g),D_(s,o,m,g,u);case 15:return B_(s,o,o.type,o.pendingProps,u);case 17:return m=o.type,g=o.pendingProps,g=o.elementType===m?g:ci(m,g),lh(s,o),o.tag=1,pr(m)?(s=!0,Hc(o)):s=!1,Ua(o,u),A_(o,m,g),K0(o,m,g,u),Z0(null,o,m,!0,s,u);case 19:return $_(s,o,u);case 22:return F_(s,o,u)}throw Error(t(156,o.tag))};function hv(s,o){return ae(s,o)}function bk(s,o,u,m){this.tag=s,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hr(s,o,u,m){return new bk(s,o,u,m)}function _p(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Sk(s){if(typeof s=="function")return _p(s)?1:0;if(s!=null){if(s=s.$$typeof,s===V)return 11;if(s===ge)return 14}return 2}function Us(s,o){var u=s.alternate;return u===null?(u=Hr(s.tag,o,s.key,s.mode),u.elementType=s.elementType,u.type=s.type,u.stateNode=s.stateNode,u.alternate=s,s.alternate=u):(u.pendingProps=o,u.type=s.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=s.flags&14680064,u.childLanes=s.childLanes,u.lanes=s.lanes,u.child=s.child,u.memoizedProps=s.memoizedProps,u.memoizedState=s.memoizedState,u.updateQueue=s.updateQueue,o=s.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=s.sibling,u.index=s.index,u.ref=s.ref,u}function vh(s,o,u,m,g,x){var R=2;if(m=s,typeof s=="function")_p(s)&&(R=1);else if(typeof s=="string")R=5;else e:switch(s){case I:return Vo(u.children,g,x,o);case C:R=8,g|=8;break;case N:return s=Hr(12,u,o,g|2),s.elementType=N,s.lanes=x,s;case F:return s=Hr(13,u,o,g),s.elementType=F,s.lanes=x,s;case ce:return s=Hr(19,u,o,g),s.elementType=ce,s.lanes=x,s;case pe:return xh(u,g,x,o);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case P:R=10;break e;case D:R=9;break e;case V:R=11;break e;case ge:R=14;break e;case Ce:R=16,m=null;break e}throw Error(t(130,s==null?s:typeof s,""))}return o=Hr(R,u,o,g),o.elementType=s,o.type=m,o.lanes=x,o}function Vo(s,o,u,m){return s=Hr(7,s,m,o),s.lanes=u,s}function xh(s,o,u,m){return s=Hr(22,s,m,o),s.elementType=pe,s.lanes=u,s.stateNode={isHidden:!1},s}function vp(s,o,u){return s=Hr(6,s,null,o),s.lanes=u,s}function xp(s,o,u){return o=Hr(4,s.children!==null?s.children:[],s.key,o),o.lanes=u,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}function Ik(s,o,u,m,g){this.tag=o,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Es(0),this.expirationTimes=Es(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Es(0),this.identifierPrefix=m,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function Ep(s,o,u,m,g,x,R,$,H){return s=new Ik(s,o,u,$,H),o===1?(o=1,x===!0&&(o|=8)):o=0,x=Hr(3,null,null,o),s.current=x,x.stateNode=s,x.memoizedState={element:m,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},F0(x),s}function Rk(s,o,u){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:z,key:m==null?null:""+m,children:s,containerInfo:o,implementation:u}}function fv(s){if(!s)return Ps;s=s._reactInternals;e:{if(lr(s)!==s||s.tag!==1)throw Error(t(170));var o=s;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(pr(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(t(171))}if(s.tag===1){var u=s.type;if(pr(u))return Uy(s,u,o)}return o}function dv(s,o,u,m,g,x,R,$,H){return s=Ep(u,m,!0,s,g,x,R,$,H),s.context=fv(null),u=s.current,m=Qn(),g=Ms(u),x=ts(m,g),x.callback=o??null,Fs(u,x,g),s.current.lanes=g,ws(s,g,m),yr(s,m),s}function Eh(s,o,u,m){var g=o.current,x=Qn(),R=Ms(g);return u=fv(u),o.context===null?o.context=u:o.pendingContext=u,o=ts(x,R),o.payload={element:s},m=m===void 0?null:m,m!==null&&(o.callback=m),s=Fs(g,o,R),s!==null&&(di(s,g,R,x),Zc(s,g,R)),R}function wh(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function pv(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var u=s.retryLane;s.retryLane=u!==0&&u<o?u:o}}function wp(s,o){pv(s,o),(s=s.alternate)&&pv(s,o)}var mv=typeof reportError=="function"?reportError:function(s){console.error(s)};function Tp(s){this._internalRoot=s}Th.prototype.render=Tp.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(t(409));Eh(s,o,null,null)},Th.prototype.unmount=Tp.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;No(function(){Eh(null,s,null,null)}),o[Xi]=null}};function Th(s){this._internalRoot=s}Th.prototype.unstable_scheduleHydration=function(s){if(s){var o=Tc();s={blockedOn:null,target:s,priority:o};for(var u=0;u<wi.length&&o!==0&&o<wi[u].priority;u++);wi.splice(u,0,s),u===0&&kc(s)}};function Ap(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Ah(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function gv(){}function Pk(s,o,u,m,g){if(g){if(typeof m=="function"){var x=m;m=function(){var Y=wh(R);x.call(Y)}}var R=dv(o,m,s,0,null,!1,!1,"",gv);return s._reactRootContainer=R,s[Xi]=R.current,Hl(s.nodeType===8?s.parentNode:s),No(),R}for(;g=s.lastChild;)s.removeChild(g);if(typeof m=="function"){var $=m;m=function(){var Y=wh(H);$.call(Y)}}var H=Ep(s,0,!1,null,null,!1,!1,"",gv);return s._reactRootContainer=H,s[Xi]=H.current,Hl(s.nodeType===8?s.parentNode:s),No(function(){Eh(o,H,u,m)}),H}function Ch(s,o,u,m,g){var x=u._reactRootContainer;if(x){var R=x;if(typeof g=="function"){var $=g;g=function(){var H=wh(R);$.call(H)}}Eh(o,R,s,g)}else R=Pk(u,o,s,g,m);return wh(R)}Ec=function(s){switch(s.tag){case 3:var o=s.stateNode;if(o.current.memoizedState.isDehydrated){var u=xs(o.pendingLanes);u!==0&&(Ts(o,u|1),yr(o,Ve()),!(Je&6)&&(qa=Ve()+500,Ds()))}break;case 13:No(function(){var m=es(s,1);if(m!==null){var g=Qn();di(m,s,1,g)}}),wp(s,1)}},ga=function(s){if(s.tag===13){var o=es(s,134217728);if(o!==null){var u=Qn();di(o,s,134217728,u)}wp(s,134217728)}},wc=function(s){if(s.tag===13){var o=Ms(s),u=es(s,o);if(u!==null){var m=Qn();di(u,s,o,m)}wp(s,o)}},Tc=function(){return Ge},Ac=function(s,o){var u=Ge;try{return Ge=s,o()}finally{Ge=u}},ir=function(s,o,u){switch(o){case"input":if(hn(s,u),o=u.name,u.type==="radio"&&o!=null){for(u=s;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<u.length;o++){var m=u[o];if(m!==s&&m.form===s.form){var g=zc(m);if(!g)throw Error(t(90));qt(m),hn(m,g)}}}break;case"textarea":fn(s,u);break;case"select":o=u.value,o!=null&&At(s,!!u.multiple,o,!1)}},pn=mp,ji=No;var Dk={usingClientEntryPoint:!1,Events:[Gl,Da,zc,sr,mt,mp]},au={findFiberByHostInstance:So,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Bk={bundleType:au.bundleType,version:au.version,rendererPackageName:au.rendererPackageName,rendererConfig:au.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:B.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=be(s),s===null?null:s.stateNode},findFiberByHostInstance:au.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var kh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!kh.isDisabled&&kh.supportsFiber)try{Eo=kh.inject(Bk),Tr=kh}catch{}}return _r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Dk,_r.createPortal=function(s,o){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ap(o))throw Error(t(200));return Rk(s,o,null,u)},_r.createRoot=function(s,o){if(!Ap(s))throw Error(t(299));var u=!1,m="",g=mv;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onRecoverableError!==void 0&&(g=o.onRecoverableError)),o=Ep(s,1,!1,null,null,u,!1,m,g),s[Xi]=o.current,Hl(s.nodeType===8?s.parentNode:s),new Tp(o)},_r.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(t(188)):(s=Object.keys(s).join(","),Error(t(268,s)));return s=be(o),s=s===null?null:s.stateNode,s},_r.flushSync=function(s){return No(s)},_r.hydrate=function(s,o,u){if(!Ah(o))throw Error(t(200));return Ch(null,s,o,!0,u)},_r.hydrateRoot=function(s,o,u){if(!Ap(s))throw Error(t(405));var m=u!=null&&u.hydratedSources||null,g=!1,x="",R=mv;if(u!=null&&(u.unstable_strictMode===!0&&(g=!0),u.identifierPrefix!==void 0&&(x=u.identifierPrefix),u.onRecoverableError!==void 0&&(R=u.onRecoverableError)),o=dv(o,null,s,1,u??null,g,!1,x,R),s[Xi]=o.current,Hl(s),m)for(s=0;s<m.length;s++)u=m[s],g=u._getVersion,g=g(u._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[u,g]:o.mutableSourceEagerHydrationData.push(u,g);return new Th(o)},_r.render=function(s,o,u){if(!Ah(o))throw Error(t(200));return Ch(null,s,o,!1,u)},_r.unmountComponentAtNode=function(s){if(!Ah(s))throw Error(t(40));return s._reactRootContainer?(No(function(){Ch(null,null,s,!1,function(){s._reactRootContainer=null,s[Xi]=null})}),!0):!1},_r.unstable_batchedUpdates=mp,_r.unstable_renderSubtreeIntoContainer=function(s,o,u,m){if(!Ah(u))throw Error(t(200));if(s==null||s._reactInternals===void 0)throw Error(t(38));return Ch(s,o,u,!1,m)},_r.version="18.3.1-next-f1338f8080-20240426",_r}var Av;function Hk(){if(Av)return Sp.exports;Av=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Sp.exports=jk(),Sp.exports}var Cv;function qk(){if(Cv)return bh;Cv=1;var n=Hk();return bh.createRoot=n.createRoot,bh.hydrateRoot=n.hydrateRoot,bh}var cM=qk();function Fw(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=Fw(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function Ko(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=Fw(n))&&(r&&(r+=" "),r+=e);return r}function Wk(n){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t),t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}Wk(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var ec=n=>typeof n=="number"&&!isNaN(n),Zo=n=>typeof n=="string",hs=n=>typeof n=="function",Gk=n=>Zo(n)||ec(n),mm=n=>Zo(n)||hs(n)?n:null,Kk=(n,e)=>n===!1||ec(n)&&n>0?n:e,gm=n=>xe.isValidElement(n)||Zo(n)||hs(n)||ec(n);function Qk(n,e,t=300){let{scrollHeight:r,style:i}=n;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${t}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(e,t)})})}function Xk({enter:n,exit:e,appendPosition:t=!1,collapse:r=!0,collapseDuration:i=300}){return function({children:a,position:l,preventExitTransition:c,done:h,nodeRef:f,isIn:p,playToast:_}){let y=t?`${n}--${l}`:n,E=t?`${e}--${l}`:e,w=xe.useRef(0);return xe.useLayoutEffect(()=>{let k=f.current,A=y.split(" "),L=b=>{b.target===f.current&&(_(),k.removeEventListener("animationend",L),k.removeEventListener("animationcancel",L),w.current===0&&b.type!=="animationcancel"&&k.classList.remove(...A))};k.classList.add(...A),k.addEventListener("animationend",L),k.addEventListener("animationcancel",L)},[]),xe.useEffect(()=>{let k=f.current,A=()=>{k.removeEventListener("animationend",A),r?Qk(k,h,i):h()};p||(c?A():(w.current=1,k.className+=` ${E}`,k.addEventListener("animationend",A)))},[p]),_t.createElement(_t.Fragment,null,a)}}function kv(n,e){return{content:Lw(n.content,n.props),containerId:n.props.containerId,id:n.props.toastId,theme:n.props.theme,type:n.props.type,data:n.props.data||{},isLoading:n.props.isLoading,icon:n.props.icon,reason:n.removalReason,status:e}}function Lw(n,e,t=!1){return xe.isValidElement(n)&&!Zo(n.type)?xe.cloneElement(n,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):hs(n)?n({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):n}function Yk({closeToast:n,theme:e,ariaLabel:t="close"}){return _t.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:r=>{r.stopPropagation(),n(!0)},"aria-label":t},_t.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},_t.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function Zk({delay:n,isRunning:e,closeToast:t,type:r="default",hide:i,className:a,controlledProgress:l,progress:c,rtl:h,isIn:f,theme:p}){let _=i||l&&c===0,y={animationDuration:`${n}ms`,animationPlayState:e?"running":"paused"};l&&(y.transform=`scaleX(${c})`);let E=Ko("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${p}`,`Toastify__progress-bar--${r}`,{"Toastify__progress-bar--rtl":h}),w=hs(a)?a({rtl:h,type:r,defaultClassName:E}):Ko(E,a),k={[l&&c>=1?"onTransitionEnd":"onAnimationEnd"]:l&&c<1?null:()=>{f&&t()}};return _t.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":_},_t.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${p} Toastify__progress-bar--${r}`}),_t.createElement("div",{role:"progressbar","aria-hidden":_?"true":"false","aria-label":"notification timer",className:w,style:y,...k}))}var Jk=1,Nw=()=>`${Jk++}`;function eb(n,e,t){let r=1,i=0,a=[],l=[],c=e,h=new Map,f=new Set,p=b=>(f.add(b),()=>f.delete(b)),_=()=>{l=Array.from(h.values()),f.forEach(b=>b())},y=({containerId:b,toastId:S,updateId:B})=>{let U=b?b!==n:n!==1,z=h.has(S)&&B==null;return U||z},E=(b,S)=>{h.forEach(B=>{var U;(S==null||S===B.props.toastId)&&((U=B.toggle)==null||U.call(B,b))})},w=b=>{var S,B;(B=(S=b.props)==null?void 0:S.onClose)==null||B.call(S,b.removalReason),b.isActive=!1},k=b=>{if(b==null)h.forEach(w);else{let S=h.get(b);S&&w(S)}_()},A=()=>{i-=a.length,a=[]},L=b=>{var S,B;let{toastId:U,updateId:z}=b.props,I=z==null;b.staleId&&h.delete(b.staleId),b.isActive=!0,h.set(U,b),_(),t(kv(b,I?"added":"updated")),I&&((B=(S=b.props).onOpen)==null||B.call(S))};return{id:n,props:c,observe:p,toggle:E,removeToast:k,toasts:h,clearQueue:A,buildToast:(b,S)=>{if(y(S))return;let{toastId:B,updateId:U,data:z,staleId:I,delay:C}=S,N=U==null;N&&i++;let P={...c,style:c.toastStyle,key:r++,...Object.fromEntries(Object.entries(S).filter(([V,F])=>F!=null)),toastId:B,updateId:U,data:z,isIn:!1,className:mm(S.className||c.toastClassName),progressClassName:mm(S.progressClassName||c.progressClassName),autoClose:S.isLoading?!1:Kk(S.autoClose,c.autoClose),closeToast(V){h.get(B).removalReason=V,k(B)},deleteToast(){let V=h.get(B);if(V!=null){if(t(kv(V,"removed")),h.delete(B),i--,i<0&&(i=0),a.length>0){L(a.shift());return}_()}}};P.closeButton=c.closeButton,S.closeButton===!1||gm(S.closeButton)?P.closeButton=S.closeButton:S.closeButton===!0&&(P.closeButton=gm(c.closeButton)?c.closeButton:!0);let D={content:b,props:P,staleId:I};c.limit&&c.limit>0&&i>c.limit&&N?a.push(D):ec(C)?setTimeout(()=>{L(D)},C):L(D)},setProps(b){c=b},setToggle:(b,S)=>{let B=h.get(b);B&&(B.toggle=S)},isToastActive:b=>{var S;return(S=h.get(b))==null?void 0:S.isActive},getSnapshot:()=>l}}var Zn=new Map,Uu=[],ym=new Set,tb=n=>ym.forEach(e=>e(n)),Ow=()=>Zn.size>0;function nb(){Uu.forEach(n=>Vw(n.content,n.options)),Uu=[]}var rb=(n,{containerId:e})=>{var t;return(t=Zn.get(e||1))==null?void 0:t.toasts.get(n)};function Mw(n,e){var t;if(e)return!!((t=Zn.get(e))!=null&&t.isToastActive(n));let r=!1;return Zn.forEach(i=>{i.isToastActive(n)&&(r=!0)}),r}function ib(n){if(!Ow()){Uu=Uu.filter(e=>n!=null&&e.options.toastId!==n);return}if(n==null||Gk(n))Zn.forEach(e=>{e.removeToast(n)});else if(n&&("containerId"in n||"id"in n)){let e=Zn.get(n.containerId);e?e.removeToast(n.id):Zn.forEach(t=>{t.removeToast(n.id)})}}var sb=(n={})=>{Zn.forEach(e=>{e.props.limit&&(!n.containerId||e.id===n.containerId)&&e.clearQueue()})};function Vw(n,e){gm(n)&&(Ow()||Uu.push({content:n,options:e}),Zn.forEach(t=>{t.buildToast(n,e)}))}function ob(n){var e;(e=Zn.get(n.containerId||1))==null||e.setToggle(n.id,n.fn)}function Uw(n,e){Zn.forEach(t=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===t.id)&&t.toggle(n,e==null?void 0:e.id)})}function ab(n){let e=n.containerId||1;return{subscribe(t){let r=eb(e,n,tb);Zn.set(e,r);let i=r.observe(t);return nb(),()=>{i(),Zn.delete(e)}},setProps(t){var r;(r=Zn.get(e))==null||r.setProps(t)},getSnapshot(){var t;return(t=Zn.get(e))==null?void 0:t.getSnapshot()}}}function lb(n){return ym.add(n),()=>{ym.delete(n)}}function ub(n){return n&&(Zo(n.toastId)||ec(n.toastId))?n.toastId:Nw()}function tc(n,e){return Vw(n,e),e.toastId}function Ed(n,e){return{...e,type:e&&e.type||n,toastId:ub(e)}}function wd(n){return(e,t)=>tc(e,Ed(n,t))}function pt(n,e){return tc(n,Ed("default",e))}pt.loading=(n,e)=>tc(n,Ed("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function cb(n,{pending:e,error:t,success:r},i){let a;e&&(a=Zo(e)?pt.loading(e,i):pt.loading(e.render,{...i,...e}));let l={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},c=(f,p,_)=>{if(p==null){pt.dismiss(a);return}let y={type:f,...l,...i,data:_},E=Zo(p)?{render:p}:p;return a?pt.update(a,{...y,...E}):pt(E.render,{...y,...E}),_},h=hs(n)?n():n;return h.then(f=>c("success",r,f)).catch(f=>c("error",t,f)),h}pt.promise=cb;pt.success=wd("success");pt.info=wd("info");pt.error=wd("error");pt.warning=wd("warning");pt.warn=pt.warning;pt.dark=(n,e)=>tc(n,Ed("default",{theme:"dark",...e}));function hb(n){ib(n)}pt.dismiss=hb;pt.clearWaitingQueue=sb;pt.isActive=Mw;pt.update=(n,e={})=>{let t=rb(n,e);if(t){let{props:r,content:i}=t,a={delay:100,...r,...e,toastId:e.toastId||n,updateId:Nw()};a.toastId!==n&&(a.staleId=n);let l=a.render||i;delete a.render,tc(l,a)}};pt.done=n=>{pt.update(n,{progress:1})};pt.onChange=lb;pt.play=n=>Uw(!0,n);pt.pause=n=>Uw(!1,n);function fb(n){var e;let{subscribe:t,getSnapshot:r,setProps:i}=xe.useRef(ab(n)).current;i(n);let a=(e=xe.useSyncExternalStore(t,r,r))==null?void 0:e.slice();function l(c){if(!a)return[];let h=new Map;return n.newestOnTop&&a.reverse(),a.forEach(f=>{let{position:p}=f.props;h.has(p)||h.set(p,[]),h.get(p).push(f)}),Array.from(h,f=>c(f[0],f[1]))}return{getToastToRender:l,isToastActive:Mw,count:a==null?void 0:a.length}}function db(n){let[e,t]=xe.useState(!1),[r,i]=xe.useState(!1),a=xe.useRef(null),l=xe.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:c,pauseOnHover:h,closeToast:f,onClick:p,closeOnClick:_}=n;ob({id:n.toastId,containerId:n.containerId,fn:t}),xe.useEffect(()=>{if(n.pauseOnFocusLoss)return y(),()=>{E()}},[n.pauseOnFocusLoss]);function y(){document.hasFocus()||L(),window.addEventListener("focus",A),window.addEventListener("blur",L)}function E(){window.removeEventListener("focus",A),window.removeEventListener("blur",L)}function w(I){if(n.draggable===!0||n.draggable===I.pointerType){b();let C=a.current;l.canCloseOnClick=!0,l.canDrag=!0,C.style.transition="none",n.draggableDirection==="x"?(l.start=I.clientX,l.removalDistance=C.offsetWidth*(n.draggablePercent/100)):(l.start=I.clientY,l.removalDistance=C.offsetHeight*(n.draggablePercent===80?n.draggablePercent*1.5:n.draggablePercent)/100)}}function k(I){let{top:C,bottom:N,left:P,right:D}=a.current.getBoundingClientRect();I.nativeEvent.type!=="touchend"&&n.pauseOnHover&&I.clientX>=P&&I.clientX<=D&&I.clientY>=C&&I.clientY<=N?L():A()}function A(){t(!0)}function L(){t(!1)}function b(){l.didMove=!1,document.addEventListener("pointermove",B),document.addEventListener("pointerup",U)}function S(){document.removeEventListener("pointermove",B),document.removeEventListener("pointerup",U)}function B(I){let C=a.current;if(l.canDrag&&C){l.didMove=!0,e&&L(),n.draggableDirection==="x"?l.delta=I.clientX-l.start:l.delta=I.clientY-l.start,l.start!==I.clientX&&(l.canCloseOnClick=!1);let N=n.draggableDirection==="x"?`${l.delta}px, var(--y)`:`0, calc(${l.delta}px + var(--y))`;C.style.transform=`translate3d(${N},0)`,C.style.opacity=`${1-Math.abs(l.delta/l.removalDistance)}`}}function U(){S();let I=a.current;if(l.canDrag&&l.didMove&&I){if(l.canDrag=!1,Math.abs(l.delta)>l.removalDistance){i(!0),n.closeToast(!0),n.collapseAll();return}I.style.transition="transform 0.2s, opacity 0.2s",I.style.removeProperty("transform"),I.style.removeProperty("opacity")}}let z={onPointerDown:w,onPointerUp:k};return c&&h&&(z.onMouseEnter=L,n.stacked||(z.onMouseLeave=A)),_&&(z.onClick=I=>{p&&p(I),l.canCloseOnClick&&f(!0)}),{playToast:A,pauseToast:L,isRunning:e,preventExitTransition:r,toastRef:a,eventHandlers:z}}var pb=typeof window<"u"?xe.useLayoutEffect:xe.useEffect,Td=({theme:n,type:e,isLoading:t,...r})=>_t.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:n==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...r});function mb(n){return _t.createElement(Td,{...n},_t.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function gb(n){return _t.createElement(Td,{...n},_t.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function yb(n){return _t.createElement(Td,{...n},_t.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function _b(n){return _t.createElement(Td,{...n},_t.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function vb(){return _t.createElement("div",{className:"Toastify__spinner"})}var _m={info:gb,warning:mb,success:yb,error:_b,spinner:vb},xb=n=>n in _m;function Eb({theme:n,type:e,isLoading:t,icon:r}){let i=null,a={theme:n,type:e};return r===!1||(hs(r)?i=r({...a,isLoading:t}):xe.isValidElement(r)?i=xe.cloneElement(r,a):t?i=_m.spinner():xb(e)&&(i=_m[e](a))),i}var wb=n=>{let{isRunning:e,preventExitTransition:t,toastRef:r,eventHandlers:i,playToast:a}=db(n),{closeButton:l,children:c,autoClose:h,onClick:f,type:p,hideProgressBar:_,closeToast:y,transition:E,position:w,className:k,style:A,progressClassName:L,updateId:b,role:S,progress:B,rtl:U,toastId:z,deleteToast:I,isIn:C,isLoading:N,closeOnClick:P,theme:D,ariaLabel:V}=n,F=Ko("Toastify__toast",`Toastify__toast-theme--${D}`,`Toastify__toast--${p}`,{"Toastify__toast--rtl":U},{"Toastify__toast--close-on-click":P}),ce=hs(k)?k({rtl:U,position:w,type:p,defaultClassName:F}):Ko(F,k),ge=Eb(n),Ce=!!B||!h,pe={closeToast:y,type:p,theme:D},ee=null;return l===!1||(hs(l)?ee=l(pe):xe.isValidElement(l)?ee=xe.cloneElement(l,pe):ee=Yk(pe)),_t.createElement(E,{isIn:C,done:I,position:w,preventExitTransition:t,nodeRef:r,playToast:a},_t.createElement("div",{id:z,tabIndex:0,onClick:f,"data-in":C,className:ce,...i,style:A,ref:r,...C&&{role:S,"aria-label":V}},ge!=null&&_t.createElement("div",{className:Ko("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!N})},ge),Lw(c,n,!e),ee,!n.customProgressBar&&_t.createElement(Zk,{...b&&!Ce?{key:`p-${b}`}:{},rtl:U,theme:D,delay:h,isRunning:e,isIn:C,closeToast:y,hide:_,type:p,className:L,controlledProgress:Ce,progress:B||0})))},Tb=(n,e=!1)=>({enter:`Toastify--animate Toastify__${n}-enter`,exit:`Toastify--animate Toastify__${n}-exit`,appendPosition:e}),Ab=Xk(Tb("bounce",!0)),Cb={position:"top-right",transition:Ab,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:n=>n.altKey&&n.code==="KeyT"};function hM(n){let e={...Cb,...n},t=n.stacked,[r,i]=xe.useState(!0),a=xe.useRef(null),{getToastToRender:l,isToastActive:c,count:h}=fb(e),{className:f,style:p,rtl:_,containerId:y,hotKeys:E}=e;function w(A){let L=Ko("Toastify__toast-container",`Toastify__toast-container--${A}`,{"Toastify__toast-container--rtl":_});return hs(f)?f({position:A,rtl:_,defaultClassName:L}):Ko(L,mm(f))}function k(){t&&(i(!0),pt.play())}return pb(()=>{var A;if(t){let L=a.current.querySelectorAll('[data-in="true"]'),b=12,S=(A=e.position)==null?void 0:A.includes("top"),B=0,U=0;Array.from(L).reverse().forEach((z,I)=>{let C=z;C.classList.add("Toastify__toast--stacked"),I>0&&(C.dataset.collapsed=`${r}`),C.dataset.pos||(C.dataset.pos=S?"top":"bot");let N=B*(r?.2:1)+(r?0:b*I);C.style.setProperty("--y",`${S?N:N*-1}px`),C.style.setProperty("--g",`${b}`),C.style.setProperty("--s",`${1-(r?U:0)}`),B+=C.offsetHeight,U+=.025})}},[r,h,t]),xe.useEffect(()=>{function A(L){var b;let S=a.current;E(L)&&((b=S.querySelector('[tabIndex="0"]'))==null||b.focus(),i(!1),pt.pause()),L.key==="Escape"&&(document.activeElement===S||S!=null&&S.contains(document.activeElement))&&(i(!0),pt.play())}return document.addEventListener("keydown",A),()=>{document.removeEventListener("keydown",A)}},[E]),_t.createElement("section",{ref:a,className:"Toastify",id:y,onMouseEnter:()=>{t&&(i(!1),pt.pause())},onMouseLeave:k,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},l((A,L)=>{let b=L.length?{...p}:{...p,pointerEvents:"none"};return _t.createElement("div",{tabIndex:-1,className:w(A),"data-stacked":t,style:b,key:`c-${A}`},L.map(({content:S,props:B})=>_t.createElement(wb,{...B,stacked:t,collapseAll:k,isIn:c(B.toastId,B.containerId),key:`t-${B.key}`},S)))}))}var bv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $w=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},kb=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=n[t++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=n[t++],l=n[t++],c=n[t++],h=((i&7)<<18|(a&63)<<12|(l&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const a=n[t++],l=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|l&63)}}return e.join("")},zw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const a=n[i],l=i+1<n.length,c=l?n[i+1]:0,h=i+2<n.length,f=h?n[i+2]:0,p=a>>2,_=(a&3)<<4|c>>4;let y=(c&15)<<2|f>>6,E=f&63;h||(E=64,l||(y=64)),r.push(t[p],t[_],t[y],t[E])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray($w(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):kb(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const a=t[n.charAt(i++)],c=i<n.length?t[n.charAt(i)]:0;++i;const f=i<n.length?t[n.charAt(i)]:64;++i;const _=i<n.length?t[n.charAt(i)]:64;if(++i,a==null||c==null||f==null||_==null)throw new bb;const y=a<<2|c>>4;if(r.push(y),f!==64){const E=c<<4&240|f>>2;if(r.push(E),_!==64){const w=f<<6&192|_;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class bb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Sb=function(n){const e=$w(n);return zw.encodeByteArray(e,!0)},jf=function(n){return Sb(n).replace(/\./g,"")},jw=function(n){try{return zw.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ib(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rb=()=>Ib().__FIREBASE_DEFAULTS__,Pb=()=>{if(typeof process>"u"||typeof bv>"u")return;const n=bv.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},Db=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&jw(n[1]);return e&&JSON.parse(e)},Ad=()=>{try{return Rb()||Pb()||Db()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Hw=n=>{var e,t;return(t=(e=Ad())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},qw=n=>{const e=Hw(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},Ww=()=>{var n;return(n=Ad())===null||n===void 0?void 0:n.config},Gw=n=>{var e;return(e=Ad())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kw(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[jf(JSON.stringify(t)),jf(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function On(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Fb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(On())}function Lb(){var n;const e=(n=Ad())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Nb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Ob(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function Mb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Vb(){const n=On();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function Ub(){return!Lb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function $b(){try{return typeof indexedDB=="object"}catch{return!1}}function zb(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jb="FirebaseError";class zi extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=jb,Object.setPrototypeOf(this,zi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,nc.prototype.create)}}class nc{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,a=this.errors[e],l=a?Hb(a,r):"Error",c=`${this.serviceName}: ${l} (${i}).`;return new zi(i,c,r)}}function Hb(n,e){return n.replace(qb,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const qb=/\{\$([^}]+)}/g;function Wb(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function al(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const a=n[i],l=e[i];if(Sv(a)&&Sv(l)){if(!al(a,l))return!1}else if(a!==l)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function Sv(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rc(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function _u(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function vu(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function Gb(n,e){const t=new Kb(n,e);return t.subscribe.bind(t)}class Kb{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");Qb(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=Pp),i.error===void 0&&(i.error=Pp),i.complete===void 0&&(i.complete=Pp);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Qb(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Pp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rt(n){return n&&n._delegate?n._delegate:n}class ro{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $o="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xb{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new Bb;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Zb(e))try{this.getOrInitializeService({instanceIdentifier:$o})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=$o){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=$o){return this.instances.has(e)}getOptions(e=$o){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(a);r===c&&l.resolve(i)}return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),a=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(i,a);const l=this.instances.get(i);return l&&e(l,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Yb(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=$o){return this.component?this.component.multipleInstances?e:$o:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Yb(n){return n===$o?void 0:n}function Zb(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jb{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Xb(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qe;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(qe||(qe={}));const eS={debug:qe.DEBUG,verbose:qe.VERBOSE,info:qe.INFO,warn:qe.WARN,error:qe.ERROR,silent:qe.SILENT},tS=qe.INFO,nS={[qe.DEBUG]:"log",[qe.VERBOSE]:"log",[qe.INFO]:"info",[qe.WARN]:"warn",[qe.ERROR]:"error"},rS=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=nS[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class _g{constructor(e){this.name=e,this._logLevel=tS,this._logHandler=rS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?eS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,qe.DEBUG,...e),this._logHandler(this,qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,qe.VERBOSE,...e),this._logHandler(this,qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,qe.INFO,...e),this._logHandler(this,qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,qe.WARN,...e),this._logHandler(this,qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,qe.ERROR,...e),this._logHandler(this,qe.ERROR,...e)}}const iS=(n,e)=>e.some(t=>n instanceof t);let Iv,Rv;function sS(){return Iv||(Iv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function oS(){return Rv||(Rv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Qw=new WeakMap,vm=new WeakMap,Xw=new WeakMap,Dp=new WeakMap,vg=new WeakMap;function aS(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",a),n.removeEventListener("error",l)},a=()=>{t(Ys(n.result)),i()},l=()=>{r(n.error),i()};n.addEventListener("success",a),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&Qw.set(t,n)}).catch(()=>{}),vg.set(e,n),e}function lS(n){if(vm.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",l),n.removeEventListener("abort",l)},a=()=>{t(),i()},l=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",a),n.addEventListener("error",l),n.addEventListener("abort",l)});vm.set(n,e)}let xm={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return vm.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Xw.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ys(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function uS(n){xm=n(xm)}function cS(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Bp(this),e,...t);return Xw.set(r,e.sort?e.sort():[e]),Ys(r)}:oS().includes(n)?function(...e){return n.apply(Bp(this),e),Ys(Qw.get(this))}:function(...e){return Ys(n.apply(Bp(this),e))}}function hS(n){return typeof n=="function"?cS(n):(n instanceof IDBTransaction&&lS(n),iS(n,sS())?new Proxy(n,xm):n)}function Ys(n){if(n instanceof IDBRequest)return aS(n);if(Dp.has(n))return Dp.get(n);const e=hS(n);return e!==n&&(Dp.set(n,e),vg.set(e,n)),e}const Bp=n=>vg.get(n);function fS(n,e,{blocked:t,upgrade:r,blocking:i,terminated:a}={}){const l=indexedDB.open(n,e),c=Ys(l);return r&&l.addEventListener("upgradeneeded",h=>{r(Ys(l.result),h.oldVersion,h.newVersion,Ys(l.transaction),h)}),t&&l.addEventListener("blocked",h=>t(h.oldVersion,h.newVersion,h)),c.then(h=>{a&&h.addEventListener("close",()=>a()),i&&h.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),c}const dS=["get","getKey","getAll","getAllKeys","count"],pS=["put","add","delete","clear"],Fp=new Map;function Pv(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Fp.get(e))return Fp.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=pS.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||dS.includes(t)))return;const a=async function(l,...c){const h=this.transaction(l,i?"readwrite":"readonly");let f=h.store;return r&&(f=f.index(c.shift())),(await Promise.all([f[t](...c),i&&h.done]))[0]};return Fp.set(e,a),a}uS(n=>({...n,get:(e,t,r)=>Pv(e,t)||n.get(e,t,r),has:(e,t)=>!!Pv(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(gS(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function gS(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Em="@firebase/app",Dv="0.10.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fs=new _g("@firebase/app"),yS="@firebase/app-compat",_S="@firebase/analytics-compat",vS="@firebase/analytics",xS="@firebase/app-check-compat",ES="@firebase/app-check",wS="@firebase/auth",TS="@firebase/auth-compat",AS="@firebase/database",CS="@firebase/data-connect",kS="@firebase/database-compat",bS="@firebase/functions",SS="@firebase/functions-compat",IS="@firebase/installations",RS="@firebase/installations-compat",PS="@firebase/messaging",DS="@firebase/messaging-compat",BS="@firebase/performance",FS="@firebase/performance-compat",LS="@firebase/remote-config",NS="@firebase/remote-config-compat",OS="@firebase/storage",MS="@firebase/storage-compat",VS="@firebase/firestore",US="@firebase/vertexai",$S="@firebase/firestore-compat",zS="firebase",jS="11.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wm="[DEFAULT]",HS={[Em]:"fire-core",[yS]:"fire-core-compat",[vS]:"fire-analytics",[_S]:"fire-analytics-compat",[ES]:"fire-app-check",[xS]:"fire-app-check-compat",[wS]:"fire-auth",[TS]:"fire-auth-compat",[AS]:"fire-rtdb",[CS]:"fire-data-connect",[kS]:"fire-rtdb-compat",[bS]:"fire-fn",[SS]:"fire-fn-compat",[IS]:"fire-iid",[RS]:"fire-iid-compat",[PS]:"fire-fcm",[DS]:"fire-fcm-compat",[BS]:"fire-perf",[FS]:"fire-perf-compat",[LS]:"fire-rc",[NS]:"fire-rc-compat",[OS]:"fire-gcs",[MS]:"fire-gcs-compat",[VS]:"fire-fst",[$S]:"fire-fst-compat",[US]:"fire-vertex","fire-js":"fire-js",[zS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hf=new Map,qS=new Map,Tm=new Map;function Bv(n,e){try{n.container.addComponent(e)}catch(t){fs.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Jo(n){const e=n.name;if(Tm.has(e))return fs.debug(`There were multiple attempts to register component ${e}.`),!1;Tm.set(e,n);for(const t of Hf.values())Bv(t,n);for(const t of qS.values())Bv(t,n);return!0}function Cd(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Kr(n){return n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Zs=new nc("app","Firebase",WS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ro("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Zs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ia=jS;function KS(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:wm,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Zs.create("bad-app-name",{appName:String(i)});if(t||(t=Ww()),!t)throw Zs.create("no-options");const a=Hf.get(i);if(a){if(al(t,a.options)&&al(r,a.config))return a;throw Zs.create("duplicate-app",{appName:i})}const l=new Jb(i);for(const h of Tm.values())l.addComponent(h);const c=new GS(t,r,l);return Hf.set(i,c),c}function xg(n=wm){const e=Hf.get(n);if(!e&&n===wm&&Ww())return KS();if(!e)throw Zs.create("no-app",{appName:n});return e}function Bi(n,e,t){var r;let i=(r=HS[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);const a=i.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${i}" with version "${e}":`];a&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),fs.warn(c.join(" "));return}Jo(new ro(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QS="firebase-heartbeat-database",XS=1,$u="firebase-heartbeat-store";let Lp=null;function Yw(){return Lp||(Lp=fS(QS,XS,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore($u)}catch(t){console.warn(t)}}}}).catch(n=>{throw Zs.create("idb-open",{originalErrorMessage:n.message})})),Lp}async function YS(n){try{const t=(await Yw()).transaction($u),r=await t.objectStore($u).get(Zw(n));return await t.done,r}catch(e){if(e instanceof zi)fs.warn(e.message);else{const t=Zs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});fs.warn(t.message)}}}async function Fv(n,e){try{const r=(await Yw()).transaction($u,"readwrite");await r.objectStore($u).put(e,Zw(n)),await r.done}catch(t){if(t instanceof zi)fs.warn(t.message);else{const r=Zs.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});fs.warn(r.message)}}}function Zw(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZS=1024,JS=30*24*60*60*1e3;class e8{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new n8(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Lv();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(l=>{const c=new Date(l.date).valueOf();return Date.now()-c<=JS}),this._storage.overwrite(this._heartbeatsCache))}catch(r){fs.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Lv(),{heartbeatsToSend:r,unsentEntries:i}=t8(this._heartbeatsCache.heartbeats),a=jf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return fs.warn(t),""}}}function Lv(){return new Date().toISOString().substring(0,10)}function t8(n,e=ZS){const t=[];let r=n.slice();for(const i of n){const a=t.find(l=>l.agent===i.agent);if(a){if(a.dates.push(i.date),Nv(t)>e){a.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),Nv(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class n8{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return $b()?zb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await YS(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return Fv(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return Fv(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Nv(n){return jf(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r8(n){Jo(new ro("platform-logger",e=>new mS(e),"PRIVATE")),Jo(new ro("heartbeat",e=>new e8(e),"PRIVATE")),Bi(Em,Dv,n),Bi(Em,Dv,"esm2017"),Bi("fire-js","")}r8("");function Eg(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function Jw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const i8=Jw,eT=new nc("auth","Firebase",Jw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qf=new _g("@firebase/auth");function s8(n,...e){qf.logLevel<=qe.WARN&&qf.warn(`Auth (${ia}): ${n}`,...e)}function Hh(n,...e){qf.logLevel<=qe.ERROR&&qf.error(`Auth (${ia}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yr(n,...e){throw Tg(n,...e)}function gi(n,...e){return Tg(n,...e)}function wg(n,e,t){const r=Object.assign(Object.assign({},i8()),{[e]:t});return new nc("auth","Firebase",r).create(e,{appName:n.name})}function Fi(n){return wg(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function o8(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&Yr(n,"argument-error"),wg(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Tg(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return eT.create(n,...e)}function Le(n,e,...t){if(!n)throw Tg(e,...t)}function os(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Hh(e),new Error(e)}function ds(n,e){n||os(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Am(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function a8(){return Ov()==="http:"||Ov()==="https:"}function Ov(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l8(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(a8()||Ob()||"connection"in navigator)?navigator.onLine:!0}function u8(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(e,t){this.shortDelay=e,this.longDelay=t,ds(t>e,"Short delay should be less than long delay!"),this.isMobile=Fb()||Mb()}get(){return l8()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ag(n,e){ds(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;os("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;os("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;os("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c8={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h8=new ic(3e4,6e4);function ho(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function fo(n,e,t,r,i={}){return nT(n,i,async()=>{let a={},l={};r&&(e==="GET"?l=r:a={body:JSON.stringify(r)});const c=rc(Object.assign({key:n.config.apiKey},l)).slice(1),h=await n._getAdditionalHeaders();h["Content-Type"]="application/json",n.languageCode&&(h["X-Firebase-Locale"]=n.languageCode);const f=Object.assign({method:e,headers:h},a);return Nb()||(f.referrerPolicy="no-referrer"),tT.fetch()(rT(n,n.config.apiHost,t,c),f)})}async function nT(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},c8),e);try{const i=new d8(n),a=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw Sh(n,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const c=a.ok?l.errorMessage:l.error.message,[h,f]=c.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw Sh(n,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw Sh(n,"email-already-in-use",l);if(h==="USER_DISABLED")throw Sh(n,"user-disabled",l);const p=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw wg(n,p,f);Yr(n,p)}}catch(i){if(i instanceof zi)throw i;Yr(n,"network-request-failed",{message:String(i)})}}async function sc(n,e,t,r,i={}){const a=await fo(n,e,t,r,i);return"mfaPendingCredential"in a&&Yr(n,"multi-factor-auth-required",{_serverResponse:a}),a}function rT(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?Ag(n.config,i):`${n.config.apiScheme}://${i}`}function f8(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class d8{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(gi(this.auth,"network-request-failed")),h8.get())})}}function Sh(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=gi(n,e,r);return i.customData._tokenResponse=t,i}function Mv(n){return n!==void 0&&n.enterprise!==void 0}class p8{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return f8(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function m8(n,e){return fo(n,"GET","/v2/recaptchaConfig",ho(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g8(n,e){return fo(n,"POST","/v1/accounts:delete",e)}async function iT(n,e){return fo(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bu(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function y8(n,e=!1){const t=Rt(n),r=await t.getIdToken(e),i=Cg(r);Le(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,l=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:bu(Np(i.auth_time)),issuedAtTime:bu(Np(i.iat)),expirationTime:bu(Np(i.exp)),signInProvider:l||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Np(n){return Number(n)*1e3}function Cg(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Hh("JWT malformed, contained fewer than 3 sections"),null;try{const i=jw(t);return i?JSON.parse(i):(Hh("Failed to decode base64 JWT payload"),null)}catch(i){return Hh("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Vv(n){const e=Cg(n);return Le(e,"internal-error"),Le(typeof e.exp<"u","internal-error"),Le(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zu(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof zi&&_8(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function _8({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v8{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=bu(this.lastLoginAt),this.creationTime=bu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wf(n){var e;const t=n.auth,r=await n.getIdToken(),i=await zu(n,iT(t,{idToken:r}));Le(i==null?void 0:i.users.length,t,"internal-error");const a=i.users[0];n._notifyReloadListener(a);const l=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?sT(a.providerUserInfo):[],c=E8(n.providerData,l),h=n.isAnonymous,f=!(n.email&&a.passwordHash)&&!(c!=null&&c.length),p=h?f:!1,_={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new Cm(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(n,_)}async function x8(n){const e=Rt(n);await Wf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function E8(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function sT(n){return n.map(e=>{var{providerId:t}=e,r=Eg(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w8(n,e){const t=await nT(n,{},async()=>{const r=rc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=n.config,l=rT(n,i,"/v1/token",`key=${a}`),c=await n._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",tT.fetch()(l,{method:"POST",headers:c,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function T8(n,e){return fo(n,"POST","/v2/accounts:revokeToken",ho(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Le(e.idToken,"internal-error"),Le(typeof e.idToken<"u","internal-error"),Le(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Vv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Le(e.length!==0,"internal-error");const t=Vv(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Le(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:a}=await w8(e,t);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:a}=t,l=new nl;return r&&(Le(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(Le(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),a&&(Le(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new nl,this.toJSON())}_performRefresh(){return os("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zs(n,e){Le(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class as{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,a=Eg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new v8(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Cm(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await zu(this,this.stsTokenManager.getToken(this.auth,e));return Le(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return y8(this,e)}reload(){return x8(this)}_assign(e){this!==e&&(Le(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new as(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Le(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Wf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Kr(this.auth.app))return Promise.reject(Fi(this.auth));const e=await this.getIdToken();return await zu(this,g8(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,a,l,c,h,f,p;const _=(r=t.displayName)!==null&&r!==void 0?r:void 0,y=(i=t.email)!==null&&i!==void 0?i:void 0,E=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,w=(l=t.photoURL)!==null&&l!==void 0?l:void 0,k=(c=t.tenantId)!==null&&c!==void 0?c:void 0,A=(h=t._redirectEventId)!==null&&h!==void 0?h:void 0,L=(f=t.createdAt)!==null&&f!==void 0?f:void 0,b=(p=t.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:S,emailVerified:B,isAnonymous:U,providerData:z,stsTokenManager:I}=t;Le(S&&I,e,"internal-error");const C=nl.fromJSON(this.name,I);Le(typeof S=="string",e,"internal-error"),zs(_,e.name),zs(y,e.name),Le(typeof B=="boolean",e,"internal-error"),Le(typeof U=="boolean",e,"internal-error"),zs(E,e.name),zs(w,e.name),zs(k,e.name),zs(A,e.name),zs(L,e.name),zs(b,e.name);const N=new as({uid:S,auth:e,email:y,emailVerified:B,displayName:_,isAnonymous:U,photoURL:w,phoneNumber:E,tenantId:k,stsTokenManager:C,createdAt:L,lastLoginAt:b});return z&&Array.isArray(z)&&(N.providerData=z.map(P=>Object.assign({},P))),A&&(N._redirectEventId=A),N}static async _fromIdTokenResponse(e,t,r=!1){const i=new nl;i.updateFromServerResponse(t);const a=new as({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Wf(a),a}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];Le(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?sT(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),c=new nl;c.updateFromIdToken(r);const h=new as({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:l}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Cm(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(h,f),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uv=new Map;function ls(n){ds(n instanceof Function,"Expected a class definition");let e=Uv.get(n);return e?(ds(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Uv.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}oT.type="NONE";const $v=oT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qh(n,e,t){return`firebase:${n}:${e}:${t}`}class rl{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=qh(this.userKey,i.apiKey,a),this.fullPersistenceKey=qh("persistence",i.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?as._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new rl(ls($v),e,r);const i=(await Promise.all(t.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let a=i[0]||ls($v);const l=qh(r,e.config.apiKey,e.name);let c=null;for(const f of t)try{const p=await f._get(l);if(p){const _=as._fromJSON(e,p);f!==a&&(c=_),a=f;break}}catch{}const h=i.filter(f=>f._shouldAllowMigration);return!a._shouldAllowMigration||!h.length?new rl(a,e,r):(a=h[0],c&&await a._set(l,c.toJSON()),await Promise.all(t.map(async f=>{if(f!==a)try{await f._remove(l)}catch{}})),new rl(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zv(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(cT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(aT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(fT(e))return"Blackberry";if(dT(e))return"Webos";if(lT(e))return"Safari";if((e.includes("chrome/")||uT(e))&&!e.includes("edge/"))return"Chrome";if(hT(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function aT(n=On()){return/firefox\//i.test(n)}function lT(n=On()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function uT(n=On()){return/crios\//i.test(n)}function cT(n=On()){return/iemobile/i.test(n)}function hT(n=On()){return/android/i.test(n)}function fT(n=On()){return/blackberry/i.test(n)}function dT(n=On()){return/webos/i.test(n)}function kg(n=On()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function A8(n=On()){var e;return kg(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function C8(){return Vb()&&document.documentMode===10}function pT(n=On()){return kg(n)||hT(n)||dT(n)||fT(n)||/windows phone/i.test(n)||cT(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mT(n,e=[]){let t;switch(n){case"Browser":t=zv(On());break;case"Worker":t=`${zv(On())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ia}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k8{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((l,c)=>{try{const h=e(a);l(h)}catch(h){c(h)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b8(n,e={}){return fo(n,"GET","/v2/passwordPolicy",ho(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S8=6;class I8{constructor(e){var t,r,i,a;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=l.minPasswordLength)!==null&&t!==void 0?t:S8,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,a,l,c;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(t=h.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),h.isValid&&(h.isValid=(r=h.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),h.isValid&&(h.isValid=(i=h.containsLowercaseLetter)!==null&&i!==void 0?i:!0),h.isValid&&(h.isValid=(a=h.containsUppercaseLetter)!==null&&a!==void 0?a:!0),h.isValid&&(h.isValid=(l=h.containsNumericCharacter)!==null&&l!==void 0?l:!0),h.isValid&&(h.isValid=(c=h.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),h}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R8{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new jv(this),this.idTokenSubscription=new jv(this),this.beforeStateQueue=new k8(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=eT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ls(t)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await rl.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await iT(this,{idToken:e}),r=await as._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Kr(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,c=i==null?void 0:i._redirectEventId,h=await this.tryRedirectSignIn(e);(!l||l===c)&&(h!=null&&h.user)&&(i=h.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Le(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Wf(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=u8()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Kr(this.app))return Promise.reject(Fi(this));const t=e?Rt(e):null;return t&&Le(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Le(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Kr(this.app)?Promise.reject(Fi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Kr(this.app)?Promise.reject(Fi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ls(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await b8(this),t=new I8(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new nc("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await T8(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ls(e)||this._popupRedirectResolver;Le(t,this,"argument-error"),this.redirectPersistenceManager=await rl.create(this,[ls(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Le(c,this,"internal-error"),c.then(()=>{l||a(this.currentUser)}),typeof t=="function"){const h=e.addObserver(t,r,i);return()=>{l=!0,h()}}else{const h=e.addObserver(t);return()=>{l=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Le(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=mT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&s8(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function _s(n){return Rt(n)}class jv{constructor(e){this.auth=e,this.observer=null,this.addObserver=Gb(t=>this.observer=t)}get next(){return Le(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function P8(n){kd=n}function gT(n){return kd.loadJS(n)}function D8(){return kd.recaptchaEnterpriseScript}function B8(){return kd.gapiScript}function F8(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class L8{constructor(){this.enterprise=new N8}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class N8{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const O8="recaptcha-enterprise",yT="NO_RECAPTCHA";class M8{constructor(e){this.type=O8,this.auth=_s(e)}async verify(e="verify",t=!1){async function r(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(l,c)=>{m8(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const f=new p8(h);return a.tenantId==null?a._agentRecaptchaConfig=f:a._tenantRecaptchaConfigs[a.tenantId]=f,l(f.siteKey)}}).catch(h=>{c(h)})})}function i(a,l,c){const h=window.grecaptcha;Mv(h)?h.enterprise.ready(()=>{h.enterprise.execute(a,{action:e}).then(f=>{l(f)}).catch(()=>{l(yT)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new L8().execute("siteKey",{action:"verify"}):new Promise((a,l)=>{r(this.auth).then(c=>{if(!t&&Mv(window.grecaptcha))i(c,a,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let h=D8();h.length!==0&&(h+=c),gT(h).then(()=>{i(c,a,l)}).catch(f=>{l(f)})}}).catch(c=>{l(c)})})}}async function Hv(n,e,t,r=!1,i=!1){const a=new M8(n);let l;if(i)l=yT;else try{l=await a.verify(t)}catch{l=await a.verify(t,!0)}const c=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const h=c.phoneEnrollmentInfo.phoneNumber,f=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:f,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const h=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:l}):Object.assign(c,{captchaResponse:l}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function km(n,e,t,r,i){var a;if(!((a=n._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await Hv(n,e,t,t==="getOobCode");return r(n,l)}else return r(n,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await Hv(n,e,t,t==="getOobCode");return r(n,c)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V8(n,e){const t=Cd(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),a=t.getOptions();if(al(a,e??{}))return i;Yr(i,"already-initialized")}return t.initialize({options:e})}function U8(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(ls);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function $8(n,e,t){const r=_s(n);Le(r._canInitEmulator,r,"emulator-config-failed"),Le(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=_T(e),{host:l,port:c}=z8(e),h=c===null?"":`:${c}`;r.config.emulator={url:`${a}//${l}${h}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:l,port:c,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),j8()}function _T(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function z8(n){const e=_T(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:qv(r.substr(a.length+1))}}else{const[a,l]=r.split(":");return{host:a,port:qv(l)}}}function qv(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function j8(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return os("not implemented")}_getIdTokenResponse(e){return os("not implemented")}_linkToIdToken(e,t){return os("not implemented")}_getReauthenticationResolver(e){return os("not implemented")}}async function H8(n,e){return fo(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q8(n,e){return sc(n,"POST","/v1/accounts:signInWithPassword",ho(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W8(n,e){return sc(n,"POST","/v1/accounts:signInWithEmailLink",ho(n,e))}async function G8(n,e){return sc(n,"POST","/v1/accounts:signInWithEmailLink",ho(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju extends bg{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new ju(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new ju(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return km(e,t,"signInWithPassword",q8);case"emailLink":return W8(e,{email:this._email,oobCode:this._password});default:Yr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return km(e,r,"signUpPassword",H8);case"emailLink":return G8(e,{idToken:t,email:this._email,oobCode:this._password});default:Yr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function il(n,e){return sc(n,"POST","/v1/accounts:signInWithIdp",ho(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K8="http://localhost";class ea extends bg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ea(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Yr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,a=Eg(t,["providerId","signInMethod"]);if(!r||!i)return null;const l=new ea(r,i);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return il(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,il(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,il(e,t)}buildRequest(){const e={requestUri:K8,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=rc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q8(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function X8(n){const e=_u(vu(n)).link,t=e?_u(vu(e)).deep_link_id:null,r=_u(vu(n)).deep_link_id;return(r?_u(vu(r)).link:null)||r||t||e||n}class Sg{constructor(e){var t,r,i,a,l,c;const h=_u(vu(e)),f=(t=h.apiKey)!==null&&t!==void 0?t:null,p=(r=h.oobCode)!==null&&r!==void 0?r:null,_=Q8((i=h.mode)!==null&&i!==void 0?i:null);Le(f&&p&&_,"argument-error"),this.apiKey=f,this.operation=_,this.code=p,this.continueUrl=(a=h.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(l=h.languageCode)!==null&&l!==void 0?l:null,this.tenantId=(c=h.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const t=X8(e);try{return new Sg(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{constructor(){this.providerId=Tl.PROVIDER_ID}static credential(e,t){return ju._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=Sg.parseLink(t);return Le(r,"argument-error"),ju._fromEmailAndCode(e,r.code,r.tenantId)}}Tl.PROVIDER_ID="password";Tl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Tl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc extends Ig{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs extends oc{constructor(){super("facebook.com")}static credential(e){return ea._fromParams({providerId:Hs.PROVIDER_ID,signInMethod:Hs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Hs.credentialFromTaggedObject(e)}static credentialFromError(e){return Hs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Hs.credential(e.oauthAccessToken)}catch{return null}}}Hs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Hs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs extends oc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ea._fromParams({providerId:qs.PROVIDER_ID,signInMethod:qs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return qs.credentialFromTaggedObject(e)}static credentialFromError(e){return qs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return qs.credential(t,r)}catch{return null}}}qs.GOOGLE_SIGN_IN_METHOD="google.com";qs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws extends oc{constructor(){super("github.com")}static credential(e){return ea._fromParams({providerId:Ws.PROVIDER_ID,signInMethod:Ws.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ws.credentialFromTaggedObject(e)}static credentialFromError(e){return Ws.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ws.credential(e.oauthAccessToken)}catch{return null}}}Ws.GITHUB_SIGN_IN_METHOD="github.com";Ws.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs extends oc{constructor(){super("twitter.com")}static credential(e,t){return ea._fromParams({providerId:Gs.PROVIDER_ID,signInMethod:Gs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Gs.credentialFromTaggedObject(e)}static credentialFromError(e){return Gs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Gs.credential(t,r)}catch{return null}}}Gs.TWITTER_SIGN_IN_METHOD="twitter.com";Gs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vT(n,e){return sc(n,"POST","/v1/accounts:signUp",ho(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const a=await as._fromIdTokenResponse(e,r,i),l=Wv(r);return new ps({user:a,providerId:l,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=Wv(r);return new ps({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function Wv(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fM(n){var e;if(Kr(n.app))return Promise.reject(Fi(n));const t=_s(n);if(await t._initializationPromise,!((e=t.currentUser)===null||e===void 0)&&e.isAnonymous)return new ps({user:t.currentUser,providerId:null,operationType:"signIn"});const r=await vT(t,{returnSecureToken:!0}),i=await ps._fromIdTokenResponse(t,"signIn",r,!0);return await t._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf extends zi{constructor(e,t,r,i){var a;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Gf.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new Gf(e,t,r,i)}}function xT(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Gf._fromErrorAndOperation(n,a,e,r):a})}async function Y8(n,e,t=!1){const r=await zu(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return ps._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z8(n,e,t=!1){const{auth:r}=n;if(Kr(r.app))return Promise.reject(Fi(r));const i="reauthenticate";try{const a=await zu(n,xT(r,i,e,n),t);Le(a.idToken,r,"internal-error");const l=Cg(a.idToken);Le(l,r,"internal-error");const{sub:c}=l;return Le(n.uid===c,r,"user-mismatch"),ps._forOperation(n,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Yr(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ET(n,e,t=!1){if(Kr(n.app))return Promise.reject(Fi(n));const r="signIn",i=await xT(n,r,e),a=await ps._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(a.user),a}async function J8(n,e){return ET(_s(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wT(n){const e=_s(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function dM(n,e,t){if(Kr(n.app))return Promise.reject(Fi(n));const r=_s(n),l=await km(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",vT).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&wT(n),h}),c=await ps._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(c.user),c}function pM(n,e,t){return Kr(n.app)?Promise.reject(Fi(n)):J8(Rt(n),Tl.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&wT(n),r})}function e6(n,e,t,r){return Rt(n).onIdTokenChanged(e,t,r)}function t6(n,e,t){return Rt(n).beforeAuthStateChanged(e,t)}function mM(n,e,t,r){return Rt(n).onAuthStateChanged(e,t,r)}function gM(n){return Rt(n).signOut()}const Kf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Kf,"1"),this.storage.removeItem(Kf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n6=1e3,r6=10;class AT extends TT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=pT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,c,h)=>{this.notifyListeners(l,h)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!t&&this.localCache[r]===l||this.notifyListeners(r,l)},a=this.storage.getItem(r);C8()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,r6):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},n6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}AT.type="LOCAL";const i6=AT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT extends TT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}CT.type="SESSION";const kT=CT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s6(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new bd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:a}=t.data,l=this.handlersMap[i];if(!(l!=null&&l.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const c=Array.from(l).map(async f=>f(t.origin,a)),h=await s6(c);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:h})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}bd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rg(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o6{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,l;return new Promise((c,h)=>{const f=Rg("",20);i.port1.start();const p=setTimeout(()=>{h(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(_){const y=_;if(y.data.eventId===f)switch(y.data.status){case"ack":clearTimeout(p),a=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),c(y.data.response);break;default:clearTimeout(p),clearTimeout(a),h(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:f,data:t},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Li(){return window}function a6(n){Li().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bT(){return typeof Li().WorkerGlobalScope<"u"&&typeof Li().importScripts=="function"}async function l6(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function u6(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function c6(){return bT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ST="firebaseLocalStorageDb",h6=1,Qf="firebaseLocalStorage",IT="fbase_key";class ac{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Sd(n,e){return n.transaction([Qf],e?"readwrite":"readonly").objectStore(Qf)}function f6(){const n=indexedDB.deleteDatabase(ST);return new ac(n).toPromise()}function bm(){const n=indexedDB.open(ST,h6);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Qf,{keyPath:IT})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Qf)?e(r):(r.close(),await f6(),e(await bm()))})})}async function Gv(n,e,t){const r=Sd(n,!0).put({[IT]:e,value:t});return new ac(r).toPromise()}async function d6(n,e){const t=Sd(n,!1).get(e),r=await new ac(t).toPromise();return r===void 0?null:r.value}function Kv(n,e){const t=Sd(n,!0).delete(e);return new ac(t).toPromise()}const p6=800,m6=3;class RT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await bm(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>m6)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return bT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=bd._getInstance(c6()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await l6(),!this.activeServiceWorker)return;this.sender=new o6(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||u6()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await bm();return await Gv(e,Kf,"1"),await Kv(e,Kf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>Gv(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>d6(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Kv(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=Sd(i,!1).getAll();return new ac(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),p6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}RT.type="LOCAL";const g6=RT;new ic(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PT(n,e){return e?ls(e):(Le(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg extends bg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return il(e,this._buildIdpRequest())}_linkToIdToken(e,t){return il(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return il(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function y6(n){return ET(n.auth,new Pg(n),n.bypassAuthState)}function _6(n){const{auth:e,user:t}=n;return Le(t,e,"internal-error"),Z8(t,new Pg(n),n.bypassAuthState)}async function v6(n){const{auth:e,user:t}=n;return Le(t,e,"internal-error"),Y8(t,new Pg(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT{constructor(e,t,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:a,error:l,type:c}=e;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(h))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return y6;case"linkViaPopup":case"linkViaRedirect":return v6;case"reauthViaPopup":case"reauthViaRedirect":return _6;default:Yr(this.auth,"internal-error")}}resolve(e){ds(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ds(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x6=new ic(2e3,1e4);async function yM(n,e,t){if(Kr(n.app))return Promise.reject(gi(n,"operation-not-supported-in-this-environment"));const r=_s(n);o8(n,e,Ig);const i=PT(r,t);return new qo(r,"signInViaPopup",e,i).executeNotNull()}class qo extends DT{constructor(e,t,r,i,a){super(e,t,i,a),this.provider=r,this.authWindow=null,this.pollId=null,qo.currentPopupAction&&qo.currentPopupAction.cancel(),qo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Le(e,this.auth,"internal-error"),e}async onExecution(){ds(this.filter.length===1,"Popup operations only handle one event");const e=Rg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(gi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(gi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,qo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(gi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,x6.get())};e()}}qo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E6="pendingRedirect",Wh=new Map;class w6 extends DT{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Wh.get(this.auth._key());if(!e){try{const r=await T6(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Wh.set(this.auth._key(),e)}return this.bypassAuthState||Wh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function T6(n,e){const t=k6(e),r=C6(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}function A6(n,e){Wh.set(n._key(),e)}function C6(n){return ls(n._redirectPersistence)}function k6(n){return qh(E6,n.config.apiKey,n.name)}async function b6(n,e,t=!1){if(Kr(n.app))return Promise.reject(Fi(n));const r=_s(n),i=PT(r,e),l=await new w6(r,i,t).execute();return l&&!t&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S6=10*60*1e3;class I6{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!R6(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!BT(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(gi(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=S6&&this.cachedEventUids.clear(),this.cachedEventUids.has(Qv(e))}saveEventToCache(e){this.cachedEventUids.add(Qv(e)),this.lastProcessedEventTime=Date.now()}}function Qv(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function BT({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function R6(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return BT(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P6(n,e={}){return fo(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D6=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,B6=/^https?/;async function F6(n){if(n.config.emulator)return;const{authorizedDomains:e}=await P6(n);for(const t of e)try{if(L6(t))return}catch{}Yr(n,"unauthorized-domain")}function L6(n){const e=Am(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===r}if(!B6.test(t))return!1;if(D6.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N6=new ic(3e4,6e4);function Xv(){const n=Li().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function O6(n){return new Promise((e,t)=>{var r,i,a;function l(){Xv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Xv(),t(gi(n,"network-request-failed"))},timeout:N6.get()})}if(!((i=(r=Li().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((a=Li().gapi)===null||a===void 0)&&a.load)l();else{const c=F8("iframefcb");return Li()[c]=()=>{gapi.load?l():t(gi(n,"network-request-failed"))},gT(`${B8()}?onload=${c}`).catch(h=>t(h))}}).catch(e=>{throw Gh=null,e})}let Gh=null;function M6(n){return Gh=Gh||O6(n),Gh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V6=new ic(5e3,15e3),U6="__/auth/iframe",$6="emulator/auth/iframe",z6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},j6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function H6(n){const e=n.config;Le(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Ag(e,$6):`https://${n.config.authDomain}/${U6}`,r={apiKey:e.apiKey,appName:n.name,v:ia},i=j6.get(n.config.apiHost);i&&(r.eid=i);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${rc(r).slice(1)}`}async function q6(n){const e=await M6(n),t=Li().gapi;return Le(t,n,"internal-error"),e.open({where:document.body,url:H6(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:z6,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const l=gi(n,"network-request-failed"),c=Li().setTimeout(()=>{a(l)},V6.get());function h(){Li().clearTimeout(c),i(r)}r.ping(h).then(h,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},G6=500,K6=600,Q6="_blank",X6="http://localhost";class Yv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Y6(n,e,t,r=G6,i=K6){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const h=Object.assign(Object.assign({},W6),{width:r.toString(),height:i.toString(),top:a,left:l}),f=On().toLowerCase();t&&(c=uT(f)?Q6:t),aT(f)&&(e=e||X6,h.scrollbars="yes");const p=Object.entries(h).reduce((y,[E,w])=>`${y}${E}=${w},`,"");if(A8(f)&&c!=="_self")return Z6(e||"",c),new Yv(null);const _=window.open(e||"",c,p);Le(_,n,"popup-blocked");try{_.focus()}catch{}return new Yv(_)}function Z6(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J6="__/auth/handler",eI="emulator/auth/handler",tI=encodeURIComponent("fac");async function Zv(n,e,t,r,i,a){Le(n.config.authDomain,n,"auth-domain-config-required"),Le(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:ia,eventId:i};if(e instanceof Ig){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",Wb(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,_]of Object.entries({}))l[p]=_}if(e instanceof oc){const p=e.getScopes().filter(_=>_!=="");p.length>0&&(l.scopes=p.join(","))}n.tenantId&&(l.tid=n.tenantId);const c=l;for(const p of Object.keys(c))c[p]===void 0&&delete c[p];const h=await n._getAppCheckToken(),f=h?`#${tI}=${encodeURIComponent(h)}`:"";return`${nI(n)}?${rc(c).slice(1)}${f}`}function nI({config:n}){return n.emulator?Ag(n,eI):`https://${n.authDomain}/${J6}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Op="webStorageSupport";class rI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=kT,this._completeRedirectFn=b6,this._overrideRedirectResult=A6}async _openPopup(e,t,r,i){var a;ds((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const l=await Zv(e,t,r,Am(),i);return Y6(e,l,Rg())}async _openRedirect(e,t,r,i){await this._originValidation(e);const a=await Zv(e,t,r,Am(),i);return a6(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:a}=this.eventManagers[t];return i?Promise.resolve(i):(ds(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await q6(e),r=new I6(e);return t.register("authEvent",i=>(Le(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Op,{type:Op},i=>{var a;const l=(a=i==null?void 0:i[0])===null||a===void 0?void 0:a[Op];l!==void 0&&t(!!l),Yr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=F6(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return pT()||lT()||kg()}}const iI=rI;var Jv="@firebase/auth",ex="1.8.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Le(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oI(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function aI(n){Jo(new ro("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=r.options;Le(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:l,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:mT(n)},f=new R8(r,i,a,h);return U8(f,t),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Jo(new ro("auth-internal",e=>{const t=_s(e.getProvider("auth").getImmediate());return(r=>new sI(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Bi(Jv,ex,oI(n)),Bi(Jv,ex,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lI=5*60,uI=Gw("authIdTokenMaxAge")||lI;let tx=null;const cI=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>uI)return;const i=t==null?void 0:t.token;tx!==i&&(tx=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function _M(n=xg()){const e=Cd(n,"auth");if(e.isInitialized())return e.getImmediate();const t=V8(n,{popupRedirectResolver:iI,persistence:[g6,i6,kT]}),r=Gw("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const l=cI(a.toString());t6(t,l,()=>l(t.currentUser)),e6(t,c=>l(c))}}const i=Hw("auth");return i&&$8(t,`http://${i}`),t}function hI(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}P8({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const a=gi("internal-error");a.customData=i,t(a)},r.type="text/javascript",r.charset="UTF-8",hI().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});aI("Browser");var fI="firebase",dI="11.2.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Bi(fI,dI,"app");var nx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Js,FT;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,C){function N(){}N.prototype=C.prototype,I.D=C.prototype,I.prototype=new N,I.prototype.constructor=I,I.C=function(P,D,V){for(var F=Array(arguments.length-2),ce=2;ce<arguments.length;ce++)F[ce-2]=arguments[ce];return C.prototype[D].apply(P,F)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(I,C,N){N||(N=0);var P=Array(16);if(typeof C=="string")for(var D=0;16>D;++D)P[D]=C.charCodeAt(N++)|C.charCodeAt(N++)<<8|C.charCodeAt(N++)<<16|C.charCodeAt(N++)<<24;else for(D=0;16>D;++D)P[D]=C[N++]|C[N++]<<8|C[N++]<<16|C[N++]<<24;C=I.g[0],N=I.g[1],D=I.g[2];var V=I.g[3],F=C+(V^N&(D^V))+P[0]+3614090360&4294967295;C=N+(F<<7&4294967295|F>>>25),F=V+(D^C&(N^D))+P[1]+3905402710&4294967295,V=C+(F<<12&4294967295|F>>>20),F=D+(N^V&(C^N))+P[2]+606105819&4294967295,D=V+(F<<17&4294967295|F>>>15),F=N+(C^D&(V^C))+P[3]+3250441966&4294967295,N=D+(F<<22&4294967295|F>>>10),F=C+(V^N&(D^V))+P[4]+4118548399&4294967295,C=N+(F<<7&4294967295|F>>>25),F=V+(D^C&(N^D))+P[5]+1200080426&4294967295,V=C+(F<<12&4294967295|F>>>20),F=D+(N^V&(C^N))+P[6]+2821735955&4294967295,D=V+(F<<17&4294967295|F>>>15),F=N+(C^D&(V^C))+P[7]+4249261313&4294967295,N=D+(F<<22&4294967295|F>>>10),F=C+(V^N&(D^V))+P[8]+1770035416&4294967295,C=N+(F<<7&4294967295|F>>>25),F=V+(D^C&(N^D))+P[9]+2336552879&4294967295,V=C+(F<<12&4294967295|F>>>20),F=D+(N^V&(C^N))+P[10]+4294925233&4294967295,D=V+(F<<17&4294967295|F>>>15),F=N+(C^D&(V^C))+P[11]+2304563134&4294967295,N=D+(F<<22&4294967295|F>>>10),F=C+(V^N&(D^V))+P[12]+1804603682&4294967295,C=N+(F<<7&4294967295|F>>>25),F=V+(D^C&(N^D))+P[13]+4254626195&4294967295,V=C+(F<<12&4294967295|F>>>20),F=D+(N^V&(C^N))+P[14]+2792965006&4294967295,D=V+(F<<17&4294967295|F>>>15),F=N+(C^D&(V^C))+P[15]+1236535329&4294967295,N=D+(F<<22&4294967295|F>>>10),F=C+(D^V&(N^D))+P[1]+4129170786&4294967295,C=N+(F<<5&4294967295|F>>>27),F=V+(N^D&(C^N))+P[6]+3225465664&4294967295,V=C+(F<<9&4294967295|F>>>23),F=D+(C^N&(V^C))+P[11]+643717713&4294967295,D=V+(F<<14&4294967295|F>>>18),F=N+(V^C&(D^V))+P[0]+3921069994&4294967295,N=D+(F<<20&4294967295|F>>>12),F=C+(D^V&(N^D))+P[5]+3593408605&4294967295,C=N+(F<<5&4294967295|F>>>27),F=V+(N^D&(C^N))+P[10]+38016083&4294967295,V=C+(F<<9&4294967295|F>>>23),F=D+(C^N&(V^C))+P[15]+3634488961&4294967295,D=V+(F<<14&4294967295|F>>>18),F=N+(V^C&(D^V))+P[4]+3889429448&4294967295,N=D+(F<<20&4294967295|F>>>12),F=C+(D^V&(N^D))+P[9]+568446438&4294967295,C=N+(F<<5&4294967295|F>>>27),F=V+(N^D&(C^N))+P[14]+3275163606&4294967295,V=C+(F<<9&4294967295|F>>>23),F=D+(C^N&(V^C))+P[3]+4107603335&4294967295,D=V+(F<<14&4294967295|F>>>18),F=N+(V^C&(D^V))+P[8]+1163531501&4294967295,N=D+(F<<20&4294967295|F>>>12),F=C+(D^V&(N^D))+P[13]+2850285829&4294967295,C=N+(F<<5&4294967295|F>>>27),F=V+(N^D&(C^N))+P[2]+4243563512&4294967295,V=C+(F<<9&4294967295|F>>>23),F=D+(C^N&(V^C))+P[7]+1735328473&4294967295,D=V+(F<<14&4294967295|F>>>18),F=N+(V^C&(D^V))+P[12]+2368359562&4294967295,N=D+(F<<20&4294967295|F>>>12),F=C+(N^D^V)+P[5]+4294588738&4294967295,C=N+(F<<4&4294967295|F>>>28),F=V+(C^N^D)+P[8]+2272392833&4294967295,V=C+(F<<11&4294967295|F>>>21),F=D+(V^C^N)+P[11]+1839030562&4294967295,D=V+(F<<16&4294967295|F>>>16),F=N+(D^V^C)+P[14]+4259657740&4294967295,N=D+(F<<23&4294967295|F>>>9),F=C+(N^D^V)+P[1]+2763975236&4294967295,C=N+(F<<4&4294967295|F>>>28),F=V+(C^N^D)+P[4]+1272893353&4294967295,V=C+(F<<11&4294967295|F>>>21),F=D+(V^C^N)+P[7]+4139469664&4294967295,D=V+(F<<16&4294967295|F>>>16),F=N+(D^V^C)+P[10]+3200236656&4294967295,N=D+(F<<23&4294967295|F>>>9),F=C+(N^D^V)+P[13]+681279174&4294967295,C=N+(F<<4&4294967295|F>>>28),F=V+(C^N^D)+P[0]+3936430074&4294967295,V=C+(F<<11&4294967295|F>>>21),F=D+(V^C^N)+P[3]+3572445317&4294967295,D=V+(F<<16&4294967295|F>>>16),F=N+(D^V^C)+P[6]+76029189&4294967295,N=D+(F<<23&4294967295|F>>>9),F=C+(N^D^V)+P[9]+3654602809&4294967295,C=N+(F<<4&4294967295|F>>>28),F=V+(C^N^D)+P[12]+3873151461&4294967295,V=C+(F<<11&4294967295|F>>>21),F=D+(V^C^N)+P[15]+530742520&4294967295,D=V+(F<<16&4294967295|F>>>16),F=N+(D^V^C)+P[2]+3299628645&4294967295,N=D+(F<<23&4294967295|F>>>9),F=C+(D^(N|~V))+P[0]+4096336452&4294967295,C=N+(F<<6&4294967295|F>>>26),F=V+(N^(C|~D))+P[7]+1126891415&4294967295,V=C+(F<<10&4294967295|F>>>22),F=D+(C^(V|~N))+P[14]+2878612391&4294967295,D=V+(F<<15&4294967295|F>>>17),F=N+(V^(D|~C))+P[5]+4237533241&4294967295,N=D+(F<<21&4294967295|F>>>11),F=C+(D^(N|~V))+P[12]+1700485571&4294967295,C=N+(F<<6&4294967295|F>>>26),F=V+(N^(C|~D))+P[3]+2399980690&4294967295,V=C+(F<<10&4294967295|F>>>22),F=D+(C^(V|~N))+P[10]+4293915773&4294967295,D=V+(F<<15&4294967295|F>>>17),F=N+(V^(D|~C))+P[1]+2240044497&4294967295,N=D+(F<<21&4294967295|F>>>11),F=C+(D^(N|~V))+P[8]+1873313359&4294967295,C=N+(F<<6&4294967295|F>>>26),F=V+(N^(C|~D))+P[15]+4264355552&4294967295,V=C+(F<<10&4294967295|F>>>22),F=D+(C^(V|~N))+P[6]+2734768916&4294967295,D=V+(F<<15&4294967295|F>>>17),F=N+(V^(D|~C))+P[13]+1309151649&4294967295,N=D+(F<<21&4294967295|F>>>11),F=C+(D^(N|~V))+P[4]+4149444226&4294967295,C=N+(F<<6&4294967295|F>>>26),F=V+(N^(C|~D))+P[11]+3174756917&4294967295,V=C+(F<<10&4294967295|F>>>22),F=D+(C^(V|~N))+P[2]+718787259&4294967295,D=V+(F<<15&4294967295|F>>>17),F=N+(V^(D|~C))+P[9]+3951481745&4294967295,I.g[0]=I.g[0]+C&4294967295,I.g[1]=I.g[1]+(D+(F<<21&4294967295|F>>>11))&4294967295,I.g[2]=I.g[2]+D&4294967295,I.g[3]=I.g[3]+V&4294967295}r.prototype.u=function(I,C){C===void 0&&(C=I.length);for(var N=C-this.blockSize,P=this.B,D=this.h,V=0;V<C;){if(D==0)for(;V<=N;)i(this,I,V),V+=this.blockSize;if(typeof I=="string"){for(;V<C;)if(P[D++]=I.charCodeAt(V++),D==this.blockSize){i(this,P),D=0;break}}else for(;V<C;)if(P[D++]=I[V++],D==this.blockSize){i(this,P),D=0;break}}this.h=D,this.o+=C},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var C=1;C<I.length-8;++C)I[C]=0;var N=8*this.o;for(C=I.length-8;C<I.length;++C)I[C]=N&255,N/=256;for(this.u(I),I=Array(16),C=N=0;4>C;++C)for(var P=0;32>P;P+=8)I[N++]=this.g[C]>>>P&255;return I};function a(I,C){var N=c;return Object.prototype.hasOwnProperty.call(N,I)?N[I]:N[I]=C(I)}function l(I,C){this.h=C;for(var N=[],P=!0,D=I.length-1;0<=D;D--){var V=I[D]|0;P&&V==C||(N[D]=V,P=!1)}this.g=N}var c={};function h(I){return-128<=I&&128>I?a(I,function(C){return new l([C|0],0>C?-1:0)}):new l([I|0],0>I?-1:0)}function f(I){if(isNaN(I)||!isFinite(I))return _;if(0>I)return A(f(-I));for(var C=[],N=1,P=0;I>=N;P++)C[P]=I/N|0,N*=4294967296;return new l(C,0)}function p(I,C){if(I.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(I.charAt(0)=="-")return A(p(I.substring(1),C));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var N=f(Math.pow(C,8)),P=_,D=0;D<I.length;D+=8){var V=Math.min(8,I.length-D),F=parseInt(I.substring(D,D+V),C);8>V?(V=f(Math.pow(C,V)),P=P.j(V).add(f(F))):(P=P.j(N),P=P.add(f(F)))}return P}var _=h(0),y=h(1),E=h(16777216);n=l.prototype,n.m=function(){if(k(this))return-A(this).m();for(var I=0,C=1,N=0;N<this.g.length;N++){var P=this.i(N);I+=(0<=P?P:4294967296+P)*C,C*=4294967296}return I},n.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(w(this))return"0";if(k(this))return"-"+A(this).toString(I);for(var C=f(Math.pow(I,6)),N=this,P="";;){var D=B(N,C).g;N=L(N,D.j(C));var V=((0<N.g.length?N.g[0]:N.h)>>>0).toString(I);if(N=D,w(N))return V+P;for(;6>V.length;)V="0"+V;P=V+P}},n.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function w(I){if(I.h!=0)return!1;for(var C=0;C<I.g.length;C++)if(I.g[C]!=0)return!1;return!0}function k(I){return I.h==-1}n.l=function(I){return I=L(this,I),k(I)?-1:w(I)?0:1};function A(I){for(var C=I.g.length,N=[],P=0;P<C;P++)N[P]=~I.g[P];return new l(N,~I.h).add(y)}n.abs=function(){return k(this)?A(this):this},n.add=function(I){for(var C=Math.max(this.g.length,I.g.length),N=[],P=0,D=0;D<=C;D++){var V=P+(this.i(D)&65535)+(I.i(D)&65535),F=(V>>>16)+(this.i(D)>>>16)+(I.i(D)>>>16);P=F>>>16,V&=65535,F&=65535,N[D]=F<<16|V}return new l(N,N[N.length-1]&-2147483648?-1:0)};function L(I,C){return I.add(A(C))}n.j=function(I){if(w(this)||w(I))return _;if(k(this))return k(I)?A(this).j(A(I)):A(A(this).j(I));if(k(I))return A(this.j(A(I)));if(0>this.l(E)&&0>I.l(E))return f(this.m()*I.m());for(var C=this.g.length+I.g.length,N=[],P=0;P<2*C;P++)N[P]=0;for(P=0;P<this.g.length;P++)for(var D=0;D<I.g.length;D++){var V=this.i(P)>>>16,F=this.i(P)&65535,ce=I.i(D)>>>16,ge=I.i(D)&65535;N[2*P+2*D]+=F*ge,b(N,2*P+2*D),N[2*P+2*D+1]+=V*ge,b(N,2*P+2*D+1),N[2*P+2*D+1]+=F*ce,b(N,2*P+2*D+1),N[2*P+2*D+2]+=V*ce,b(N,2*P+2*D+2)}for(P=0;P<C;P++)N[P]=N[2*P+1]<<16|N[2*P];for(P=C;P<2*C;P++)N[P]=0;return new l(N,0)};function b(I,C){for(;(I[C]&65535)!=I[C];)I[C+1]+=I[C]>>>16,I[C]&=65535,C++}function S(I,C){this.g=I,this.h=C}function B(I,C){if(w(C))throw Error("division by zero");if(w(I))return new S(_,_);if(k(I))return C=B(A(I),C),new S(A(C.g),A(C.h));if(k(C))return C=B(I,A(C)),new S(A(C.g),C.h);if(30<I.g.length){if(k(I)||k(C))throw Error("slowDivide_ only works with positive integers.");for(var N=y,P=C;0>=P.l(I);)N=U(N),P=U(P);var D=z(N,1),V=z(P,1);for(P=z(P,2),N=z(N,2);!w(P);){var F=V.add(P);0>=F.l(I)&&(D=D.add(N),V=F),P=z(P,1),N=z(N,1)}return C=L(I,D.j(C)),new S(D,C)}for(D=_;0<=I.l(C);){for(N=Math.max(1,Math.floor(I.m()/C.m())),P=Math.ceil(Math.log(N)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),V=f(N),F=V.j(C);k(F)||0<F.l(I);)N-=P,V=f(N),F=V.j(C);w(V)&&(V=y),D=D.add(V),I=L(I,F)}return new S(D,I)}n.A=function(I){return B(this,I).h},n.and=function(I){for(var C=Math.max(this.g.length,I.g.length),N=[],P=0;P<C;P++)N[P]=this.i(P)&I.i(P);return new l(N,this.h&I.h)},n.or=function(I){for(var C=Math.max(this.g.length,I.g.length),N=[],P=0;P<C;P++)N[P]=this.i(P)|I.i(P);return new l(N,this.h|I.h)},n.xor=function(I){for(var C=Math.max(this.g.length,I.g.length),N=[],P=0;P<C;P++)N[P]=this.i(P)^I.i(P);return new l(N,this.h^I.h)};function U(I){for(var C=I.g.length+1,N=[],P=0;P<C;P++)N[P]=I.i(P)<<1|I.i(P-1)>>>31;return new l(N,I.h)}function z(I,C){var N=C>>5;C%=32;for(var P=I.g.length-N,D=[],V=0;V<P;V++)D[V]=0<C?I.i(V+N)>>>C|I.i(V+N+1)<<32-C:I.i(V+N);return new l(D,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,FT=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=f,l.fromString=p,Js=l}).apply(typeof nx<"u"?nx:typeof self<"u"?self:typeof window<"u"?window:{});var Ih=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var LT,xu,NT,Kh,Sm,OT,MT,VT;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,v,T){return d==Array.prototype||d==Object.prototype||(d[v]=T.value),d};function t(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ih=="object"&&Ih];for(var v=0;v<d.length;++v){var T=d[v];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=t(this);function i(d,v){if(v)e:{var T=r;d=d.split(".");for(var O=0;O<d.length-1;O++){var K=d[O];if(!(K in T))break e;T=T[K]}d=d[d.length-1],O=T[d],v=v(O),v!=O&&v!=null&&e(T,d,{configurable:!0,writable:!0,value:v})}}function a(d,v){d instanceof String&&(d+="");var T=0,O=!1,K={next:function(){if(!O&&T<d.length){var J=T++;return{value:v(J,d[J]),done:!1}}return O=!0,{done:!0,value:void 0}}};return K[Symbol.iterator]=function(){return K},K}i("Array.prototype.values",function(d){return d||function(){return a(this,function(v,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function h(d){var v=typeof d;return v=v!="object"?v:d?Array.isArray(d)?"array":v:"null",v=="array"||v=="object"&&typeof d.length=="number"}function f(d){var v=typeof d;return v=="object"&&d!=null||v=="function"}function p(d,v,T){return d.call.apply(d.bind,arguments)}function _(d,v,T){if(!d)throw Error();if(2<arguments.length){var O=Array.prototype.slice.call(arguments,2);return function(){var K=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(K,O),d.apply(v,K)}}return function(){return d.apply(v,arguments)}}function y(d,v,T){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:_,y.apply(null,arguments)}function E(d,v){var T=Array.prototype.slice.call(arguments,1);return function(){var O=T.slice();return O.push.apply(O,arguments),d.apply(this,O)}}function w(d,v){function T(){}T.prototype=v.prototype,d.aa=v.prototype,d.prototype=new T,d.prototype.constructor=d,d.Qb=function(O,K,J){for(var de=Array(arguments.length-2),it=2;it<arguments.length;it++)de[it-2]=arguments[it];return v.prototype[K].apply(O,de)}}function k(d){const v=d.length;if(0<v){const T=Array(v);for(let O=0;O<v;O++)T[O]=d[O];return T}return[]}function A(d,v){for(let T=1;T<arguments.length;T++){const O=arguments[T];if(h(O)){const K=d.length||0,J=O.length||0;d.length=K+J;for(let de=0;de<J;de++)d[K+de]=O[de]}else d.push(O)}}class L{constructor(v,T){this.i=v,this.j=T,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function b(d){return/^[\s\xa0]*$/.test(d)}function S(){var d=c.navigator;return d&&(d=d.userAgent)?d:""}function B(d){return B[" "](d),d}B[" "]=function(){};var U=S().indexOf("Gecko")!=-1&&!(S().toLowerCase().indexOf("webkit")!=-1&&S().indexOf("Edge")==-1)&&!(S().indexOf("Trident")!=-1||S().indexOf("MSIE")!=-1)&&S().indexOf("Edge")==-1;function z(d,v,T){for(const O in d)v.call(T,d[O],O,d)}function I(d,v){for(const T in d)v.call(void 0,d[T],T,d)}function C(d){const v={};for(const T in d)v[T]=d[T];return v}const N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(d,v){let T,O;for(let K=1;K<arguments.length;K++){O=arguments[K];for(T in O)d[T]=O[T];for(let J=0;J<N.length;J++)T=N[J],Object.prototype.hasOwnProperty.call(O,T)&&(d[T]=O[T])}}function D(d){var v=1;d=d.split(":");const T=[];for(;0<v&&d.length;)T.push(d.shift()),v--;return d.length&&T.push(d.join(":")),T}function V(d){c.setTimeout(()=>{throw d},0)}function F(){var d=he;let v=null;return d.g&&(v=d.g,d.g=d.g.next,d.g||(d.h=null),v.next=null),v}class ce{constructor(){this.h=this.g=null}add(v,T){const O=ge.get();O.set(v,T),this.h?this.h.next=O:this.g=O,this.h=O}}var ge=new L(()=>new Ce,d=>d.reset());class Ce{constructor(){this.next=this.g=this.h=null}set(v,T){this.h=v,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let pe,ee=!1,he=new ce,ie=()=>{const d=c.Promise.resolve(void 0);pe=()=>{d.then(M)}};var M=()=>{for(var d;d=F();){try{d.h.call(d.g)}catch(T){V(T)}var v=ge;v.j(d),100>v.h&&(v.h++,d.next=v.g,v.g=d)}ee=!1};function j(){this.s=this.s,this.C=this.C}j.prototype.s=!1,j.prototype.ma=function(){this.s||(this.s=!0,this.N())},j.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function G(d,v){this.type=d,this.g=this.target=v,this.defaultPrevented=!1}G.prototype.h=function(){this.defaultPrevented=!0};var Z=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var d=!1,v=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const T=()=>{};c.addEventListener("test",T,v),c.removeEventListener("test",T,v)}catch{}return d}();function fe(d,v){if(G.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var T=this.type=d.type,O=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=v,v=d.relatedTarget){if(U){e:{try{B(v.nodeName);var K=!0;break e}catch{}K=!1}K||(v=null)}}else T=="mouseover"?v=d.fromElement:T=="mouseout"&&(v=d.toElement);this.relatedTarget=v,O?(this.clientX=O.clientX!==void 0?O.clientX:O.pageX,this.clientY=O.clientY!==void 0?O.clientY:O.pageY,this.screenX=O.screenX||0,this.screenY=O.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:ve[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&fe.aa.h.call(this)}}w(fe,G);var ve={2:"touch",3:"pen",4:"mouse"};fe.prototype.h=function(){fe.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Be="closure_listenable_"+(1e6*Math.random()|0),me=0;function He(d,v,T,O,K){this.listener=d,this.proxy=null,this.src=v,this.type=T,this.capture=!!O,this.ha=K,this.key=++me,this.da=this.fa=!1}function ot(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function An(d){this.src=d,this.g={},this.h=0}An.prototype.add=function(d,v,T,O,K){var J=d.toString();d=this.g[J],d||(d=this.g[J]=[],this.h++);var de=Tt(d,v,O,K);return-1<de?(v=d[de],T||(v.fa=!1)):(v=new He(v,this.src,J,!!O,K),v.fa=T,d.push(v)),v};function qt(d,v){var T=v.type;if(T in d.g){var O=d.g[T],K=Array.prototype.indexOf.call(O,v,void 0),J;(J=0<=K)&&Array.prototype.splice.call(O,K,1),J&&(ot(v),d.g[T].length==0&&(delete d.g[T],d.h--))}}function Tt(d,v,T,O){for(var K=0;K<d.length;++K){var J=d[K];if(!J.da&&J.listener==v&&J.capture==!!T&&J.ha==O)return K}return-1}var nt="closure_lm_"+(1e6*Math.random()|0),Mn={};function Vn(d,v,T,O,K){if(Array.isArray(v)){for(var J=0;J<v.length;J++)Vn(d,v[J],T,O,K);return null}return T=zn(T),d&&d[Be]?d.K(v,T,f(O)?!!O.capture:!1,K):hn(d,v,T,!1,O,K)}function hn(d,v,T,O,K,J){if(!v)throw Error("Invalid event type");var de=f(K)?!!K.capture:!!K,it=Wt(d);if(it||(d[nt]=it=new An(d)),T=it.add(v,T,O,de,J),T.proxy)return T;if(O=Un(),T.proxy=O,O.src=d,O.listener=T,d.addEventListener)Z||(K=de),K===void 0&&(K=!1),d.addEventListener(v.toString(),O,K);else if(d.attachEvent)d.attachEvent(At(v.toString()),O);else if(d.addListener&&d.removeListener)d.addListener(O);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Un(){function d(T){return v.call(d.src,d.listener,T)}const v=Vt;return d}function $n(d,v,T,O,K){if(Array.isArray(v))for(var J=0;J<v.length;J++)$n(d,v[J],T,O,K);else O=f(O)?!!O.capture:!!O,T=zn(T),d&&d[Be]?(d=d.i,v=String(v).toString(),v in d.g&&(J=d.g[v],T=Tt(J,T,O,K),-1<T&&(ot(J[T]),Array.prototype.splice.call(J,T,1),J.length==0&&(delete d.g[v],d.h--)))):d&&(d=Wt(d))&&(v=d.g[v.toString()],d=-1,v&&(d=Tt(v,T,O,K)),(T=-1<d?v[d]:null)&&en(T))}function en(d){if(typeof d!="number"&&d&&!d.da){var v=d.src;if(v&&v[Be])qt(v.i,d);else{var T=d.type,O=d.proxy;v.removeEventListener?v.removeEventListener(T,O,d.capture):v.detachEvent?v.detachEvent(At(T),O):v.addListener&&v.removeListener&&v.removeListener(O),(T=Wt(v))?(qt(T,d),T.h==0&&(T.src=null,v[nt]=null)):ot(d)}}}function At(d){return d in Mn?Mn[d]:Mn[d]="on"+d}function Vt(d,v){if(d.da)d=!0;else{v=new fe(v,this);var T=d.listener,O=d.ha||d.src;d.fa&&en(d),d=T.call(O,v)}return d}function Wt(d){return d=d[nt],d instanceof An?d:null}var fn="__closure_events_fn_"+(1e9*Math.random()>>>0);function zn(d){return typeof d=="function"?d:(d[fn]||(d[fn]=function(v){return d.handleEvent(v)}),d[fn])}function Ze(){j.call(this),this.i=new An(this),this.M=this,this.F=null}w(Ze,j),Ze.prototype[Be]=!0,Ze.prototype.removeEventListener=function(d,v,T,O){$n(this,d,v,T,O)};function at(d,v){var T,O=d.F;if(O)for(T=[];O;O=O.F)T.push(O);if(d=d.M,O=v.type||v,typeof v=="string")v=new G(v,d);else if(v instanceof G)v.target=v.target||d;else{var K=v;v=new G(O,d),P(v,K)}if(K=!0,T)for(var J=T.length-1;0<=J;J--){var de=v.g=T[J];K=rr(de,O,!0,v)&&K}if(de=v.g=d,K=rr(de,O,!0,v)&&K,K=rr(de,O,!1,v)&&K,T)for(J=0;J<T.length;J++)de=v.g=T[J],K=rr(de,O,!1,v)&&K}Ze.prototype.N=function(){if(Ze.aa.N.call(this),this.i){var d=this.i,v;for(v in d.g){for(var T=d.g[v],O=0;O<T.length;O++)ot(T[O]);delete d.g[v],d.h--}}this.F=null},Ze.prototype.K=function(d,v,T,O){return this.i.add(String(d),v,!1,T,O)},Ze.prototype.L=function(d,v,T,O){return this.i.add(String(d),v,!0,T,O)};function rr(d,v,T,O){if(v=d.i.g[String(v)],!v)return!0;v=v.concat();for(var K=!0,J=0;J<v.length;++J){var de=v[J];if(de&&!de.da&&de.capture==T){var it=de.listener,Qt=de.ha||de.src;de.fa&&qt(d.i,de),K=it.call(Qt,O)!==!1&&K}}return K&&!O.defaultPrevented}function Jr(d,v,T){if(typeof d=="function")T&&(d=y(d,T));else if(d&&typeof d.handleEvent=="function")d=y(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:c.setTimeout(d,v||0)}function jn(d){d.g=Jr(()=>{d.g=null,d.i&&(d.i=!1,jn(d))},d.l);const v=d.h;d.h=null,d.m.apply(null,v)}class dn extends j{constructor(v,T){super(),this.m=v,this.l=T,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:jn(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function tn(d){j.call(this),this.h=d,this.g={}}w(tn,j);var Br=[];function nn(d){z(d.g,function(v,T){this.g.hasOwnProperty(T)&&en(v)},d),d.g={}}tn.prototype.N=function(){tn.aa.N.call(this),nn(this)},tn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Hn=c.JSON.stringify,ei=c.JSON.parse,ti=class{stringify(d){return c.JSON.stringify(d,void 0)}parse(d){return c.JSON.parse(d,void 0)}};function Fr(){}Fr.prototype.h=null;function wr(d){return d.h||(d.h=d.i())}function ir(){}var Cn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Gt(){G.call(this,"d")}w(Gt,G);function vi(){G.call(this,"c")}w(vi,G);var sr={},mt=null;function pn(){return mt=mt||new Ze}sr.La="serverreachability";function ji(d){G.call(this,sr.La,d)}w(ji,G);function or(d){const v=pn();at(v,new ji(v))}sr.STAT_EVENT="statevent";function Lr(d,v){G.call(this,sr.STAT_EVENT,d),this.stat=v}w(Lr,G);function gt(d){const v=pn();at(v,new Lr(v,d))}sr.Ma="timingevent";function Nr(d,v){G.call(this,sr.Ma,d),this.size=v}w(Nr,G);function ct(d,v){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){d()},v)}function ht(){this.g=!0}ht.prototype.xa=function(){this.g=!1};function qn(d,v,T,O,K,J){d.info(function(){if(d.g)if(J)for(var de="",it=J.split("&"),Qt=0;Qt<it.length;Qt++){var Xe=it[Qt].split("=");if(1<Xe.length){var sn=Xe[0];Xe=Xe[1];var $t=sn.split("_");de=2<=$t.length&&$t[1]=="type"?de+(sn+"="+Xe+"&"):de+(sn+"=redacted&")}}else de=null;else de=J;return"XMLHTTP REQ ("+O+") [attempt "+K+"]: "+v+`
`+T+`
`+de})}function ni(d,v,T,O,K,J,de){d.info(function(){return"XMLHTTP RESP ("+O+") [ attempt "+K+"]: "+v+`
`+T+`
`+J+" "+de})}function ar(d,v,T,O){d.info(function(){return"XMLHTTP TEXT ("+v+"): "+fa(d,T)+(O?" "+O:"")})}function Hi(d,v){d.info(function(){return"TIMEOUT: "+v})}ht.prototype.info=function(){};function fa(d,v){if(!d.g)return v;if(!v)return null;try{var T=JSON.parse(v);if(T){for(d=0;d<T.length;d++)if(Array.isArray(T[d])){var O=T[d];if(!(2>O.length)){var K=O[1];if(Array.isArray(K)&&!(1>K.length)){var J=K[0];if(J!="noop"&&J!="stop"&&J!="close")for(var de=1;de<K.length;de++)K[de]=""}}}}return Hn(T)}catch{return v}}var kn={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},vo={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},lr;function xi(){}w(xi,Fr),xi.prototype.g=function(){return new XMLHttpRequest},xi.prototype.i=function(){return{}},lr=new xi;function ur(d,v,T,O){this.j=d,this.i=v,this.l=T,this.R=O||1,this.U=new tn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new da}function da(){this.i=null,this.g="",this.h=!1}var be={},q={};function ae(d,v,T){d.L=1,d.v=Ts(Ar(v)),d.m=T,d.P=!0,Ee(d,null)}function Ee(d,v){d.F=Date.now(),Ve(d),d.A=Ar(d.v);var T=d.A,O=d.R;Array.isArray(O)||(O=[String(O)]),Cs(T.i,"t",O),d.C=0,T=d.j.J,d.h=new da,d.g=Dc(d.j,T?v:null,!d.m),0<d.O&&(d.M=new dn(y(d.Y,d,d.g),d.O)),v=d.U,T=d.g,O=d.ca;var K="readystatechange";Array.isArray(K)||(K&&(Br[0]=K.toString()),K=Br);for(var J=0;J<K.length;J++){var de=Vn(T,K[J],O||v.handleEvent,!1,v.h||v);if(!de)break;v.g[de.key]=de}v=d.H?C(d.H):{},d.m?(d.u||(d.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,v)):(d.u="GET",d.g.ea(d.A,d.u,null,v)),or(),qn(d.i,d.u,d.A,d.l,d.R,d.m)}ur.prototype.ca=function(d){d=d.target;const v=this.M;v&&fr(d)==3?v.j():this.Y(d)},ur.prototype.Y=function(d){try{if(d==this.g)e:{const $t=fr(this.g);var v=this.g.Ba();const Mr=this.g.Z();if(!(3>$t)&&($t!=3||this.g&&(this.h.h||this.g.oa()||Ll(this.g)))){this.J||$t!=4||v==7||(v==8||0>=Mr?or(3):or(2)),rn(this);var T=this.g.Z();this.X=T;t:if(rt(this)){var O=Ll(this.g);d="";var K=O.length,J=fr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){lt(this),cr(this);var de="";break t}this.h.i=new c.TextDecoder}for(v=0;v<K;v++)this.h.h=!0,d+=this.h.i.decode(O[v],{stream:!(J&&v==K-1)});O.length=0,this.h.g+=d,this.C=0,de=this.h.g}else de=this.g.oa();if(this.o=T==200,ni(this.i,this.u,this.A,this.l,this.R,$t,T),this.o){if(this.T&&!this.K){t:{if(this.g){var it,Qt=this.g;if((it=Qt.g?Qt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!b(it)){var Xe=it;break t}}Xe=null}if(T=Xe)ar(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,vs(this,T);else{this.o=!1,this.s=3,gt(12),lt(this),cr(this);break e}}if(this.P){T=!0;let kr;for(;!this.J&&this.C<de.length;)if(kr=Ut(this,de),kr==q){$t==4&&(this.s=4,gt(14),T=!1),ar(this.i,this.l,null,"[Incomplete Response]");break}else if(kr==be){this.s=4,gt(15),ar(this.i,this.l,de,"[Invalid Chunk]"),T=!1;break}else ar(this.i,this.l,kr,null),vs(this,kr);if(rt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),$t!=4||de.length!=0||this.h.h||(this.s=1,gt(16),T=!1),this.o=this.o&&T,!T)ar(this.i,this.l,de,"[Invalid Chunked Response]"),lt(this),cr(this);else if(0<de.length&&!this.W){this.W=!0;var sn=this.j;sn.g==this&&sn.ba&&!sn.M&&(sn.j.info("Great, no buffering proxy detected. Bytes received: "+de.length),Ol(sn),sn.M=!0,gt(11))}}else ar(this.i,this.l,de,null),vs(this,de);$t==4&&lt(this),this.o&&!this.J&&($t==4?Aa(this.j,this):(this.o=!1,Ve(this)))}else va(this.g),T==400&&0<de.indexOf("Unknown SID")?(this.s=3,gt(12)):(this.s=0,gt(13)),lt(this),cr(this)}}}catch{}finally{}};function rt(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function Ut(d,v){var T=d.C,O=v.indexOf(`
`,T);return O==-1?q:(T=Number(v.substring(T,O)),isNaN(T)?be:(O+=1,O+T>v.length?q:(v=v.slice(O,O+T),d.C=O+T,v)))}ur.prototype.cancel=function(){this.J=!0,lt(this)};function Ve(d){d.S=Date.now()+d.I,Kt(d,d.I)}function Kt(d,v){if(d.B!=null)throw Error("WatchDog timer not null");d.B=ct(y(d.ba,d),v)}function rn(d){d.B&&(c.clearTimeout(d.B),d.B=null)}ur.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(Hi(this.i,this.A),this.L!=2&&(or(),gt(17)),lt(this),this.s=2,cr(this)):Kt(this,this.S-d)};function cr(d){d.j.G==0||d.J||Aa(d.j,d)}function lt(d){rn(d);var v=d.M;v&&typeof v.ma=="function"&&v.ma(),d.M=null,nn(d.U),d.g&&(v=d.g,d.g=null,v.abort(),v.ma())}function vs(d,v){try{var T=d.j;if(T.G!=0&&(T.g==d||Wn(T.h,d))){if(!d.K&&Wn(T.h,d)&&T.G==3){try{var O=T.Da.g.parse(v)}catch{O=null}if(Array.isArray(O)&&O.length==3){var K=O;if(K[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<d.F)Ta(T),ai(T);else break e;wa(T),gt(18)}}else T.za=K[1],0<T.za-T.T&&37500>K[2]&&T.F&&T.v==0&&!T.C&&(T.C=ct(y(T.Za,T),6e3));if(1>=_c(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else Qi(T,11)}else if((d.K||T.g==d)&&Ta(T),!b(v))for(K=T.Da.g.parse(v),v=0;v<K.length;v++){let Xe=K[v];if(T.T=Xe[0],Xe=Xe[1],T.G==2)if(Xe[0]=="c"){T.K=Xe[1],T.ia=Xe[2];const sn=Xe[3];sn!=null&&(T.la=sn,T.j.info("VER="+T.la));const $t=Xe[4];$t!=null&&(T.Aa=$t,T.j.info("SVER="+T.Aa));const Mr=Xe[5];Mr!=null&&typeof Mr=="number"&&0<Mr&&(O=1.5*Mr,T.L=O,T.j.info("backChannelRequestTimeoutMs_="+O)),O=T;const kr=d.g;if(kr){const bo=kr.g?kr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(bo){var J=O.h;J.g||bo.indexOf("spdy")==-1&&bo.indexOf("quic")==-1&&bo.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(Pl(J,J.h),J.h=null))}if(O.D){const ka=kr.g?kr.g.getResponseHeader("X-HTTP-Session-Id"):null;ka&&(O.ya=ka,ft(O.I,O.D,ka))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-d.F,T.j.info("Handshake RTT: "+T.R+"ms")),O=T;var de=d;if(O.qa=Pc(O,O.J?O.ia:null,O.W),de.K){vc(O.h,de);var it=de,Qt=O.L;Qt&&(it.I=Qt),it.B&&(rn(it),Ve(it)),O.g=de}else ko(O);0<T.i.length&&Ai(T)}else Xe[0]!="stop"&&Xe[0]!="close"||Qi(T,7);else T.G==3&&(Xe[0]=="stop"||Xe[0]=="close"?Xe[0]=="stop"?Qi(T,7):gn(T):Xe[0]!="noop"&&T.l&&T.l.ta(Xe),T.v=0)}}or(4)}catch{}}var xo=class{constructor(d,v){this.g=d,this.map=v}};function Eo(d){this.l=d||10,c.PerformanceNavigationTiming?(d=c.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Tr(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function _c(d){return d.h?1:d.g?d.g.size:0}function Wn(d,v){return d.h?d.h==v:d.g?d.g.has(v):!1}function Pl(d,v){d.g?d.g.add(v):d.h=v}function vc(d,v){d.h&&d.h==v?d.h=null:d.g&&d.g.has(v)&&d.g.delete(v)}Eo.prototype.cancel=function(){if(this.i=xc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function xc(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let v=d.i;for(const T of d.g.values())v=v.concat(T.D);return v}return k(d.i)}function pa(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(h(d)){for(var v=[],T=d.length,O=0;O<T;O++)v.push(d[O]);return v}v=[],T=0;for(O in d)v[T++]=d[O];return v}function ma(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(h(d)||typeof d=="string"){var v=[];d=d.length;for(var T=0;T<d;T++)v.push(T);return v}v=[],T=0;for(const O in d)v[T++]=O;return v}}}function xs(d,v){if(d.forEach&&typeof d.forEach=="function")d.forEach(v,void 0);else if(h(d)||typeof d=="string")Array.prototype.forEach.call(d,v,void 0);else for(var T=ma(d),O=pa(d),K=O.length,J=0;J<K;J++)v.call(void 0,O[J],T&&T[J],d)}var wo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function t0(d,v){if(d){d=d.split("&");for(var T=0;T<d.length;T++){var O=d[T].indexOf("="),K=null;if(0<=O){var J=d[T].substring(0,O);K=d[T].substring(O+1)}else J=d[T];v(J,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function qi(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof qi){this.h=d.h,To(this,d.j),this.o=d.o,this.g=d.g,Es(this,d.s),this.l=d.l;var v=d.i,T=new Ei;T.i=v.i,v.g&&(T.g=new Map(v.g),T.h=v.h),ws(this,T),this.m=d.m}else d&&(v=String(d).match(wo))?(this.h=!1,To(this,v[1]||"",!0),this.o=Ge(v[2]||""),this.g=Ge(v[3]||"",!0),Es(this,v[4]),this.l=Ge(v[5]||"",!0),ws(this,v[6]||"",!0),this.m=Ge(v[7]||"")):(this.h=!1,this.i=new Ei(null,this.h))}qi.prototype.toString=function(){var d=[],v=this.j;v&&d.push(As(v,ga,!0),":");var T=this.g;return(T||v=="file")&&(d.push("//"),(v=this.o)&&d.push(As(v,ga,!0),"@"),d.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&d.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&d.push("/"),d.push(As(T,T.charAt(0)=="/"?Tc:wc,!0))),(T=this.i.toString())&&d.push("?",T),(T=this.m)&&d.push("#",As(T,Dl)),d.join("")};function Ar(d){return new qi(d)}function To(d,v,T){d.j=T?Ge(v,!0):v,d.j&&(d.j=d.j.replace(/:$/,""))}function Es(d,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);d.s=v}else d.s=null}function ws(d,v,T){v instanceof Ei?(d.i=v,wi(d.i,d.h)):(T||(v=As(v,Ac)),d.i=new Ei(v,d.h))}function ft(d,v,T){d.i.set(v,T)}function Ts(d){return ft(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Ge(d,v){return d?v?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function As(d,v,T){return typeof d=="string"?(d=encodeURI(d).replace(v,Ec),T&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Ec(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var ga=/[#\/\?@]/g,wc=/[#\?:]/g,Tc=/[#\?]/g,Ac=/[#\?@]/g,Dl=/#/g;function Ei(d,v){this.h=this.g=null,this.i=d||null,this.j=!!v}function mn(d){d.g||(d.g=new Map,d.h=0,d.i&&t0(d.i,function(v,T){d.add(decodeURIComponent(v.replace(/\+/g," ")),T)}))}n=Ei.prototype,n.add=function(d,v){mn(this),this.i=null,d=Or(this,d);var T=this.g.get(d);return T||this.g.set(d,T=[]),T.push(v),this.h+=1,this};function ri(d,v){mn(d),v=Or(d,v),d.g.has(v)&&(d.i=null,d.h-=d.g.get(v).length,d.g.delete(v))}function ii(d,v){return mn(d),v=Or(d,v),d.g.has(v)}n.forEach=function(d,v){mn(this),this.g.forEach(function(T,O){T.forEach(function(K){d.call(v,K,O,this)},this)},this)},n.na=function(){mn(this);const d=Array.from(this.g.values()),v=Array.from(this.g.keys()),T=[];for(let O=0;O<v.length;O++){const K=d[O];for(let J=0;J<K.length;J++)T.push(v[O])}return T},n.V=function(d){mn(this);let v=[];if(typeof d=="string")ii(this,d)&&(v=v.concat(this.g.get(Or(this,d))));else{d=Array.from(this.g.values());for(let T=0;T<d.length;T++)v=v.concat(d[T])}return v},n.set=function(d,v){return mn(this),this.i=null,d=Or(this,d),ii(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[v]),this.h+=1,this},n.get=function(d,v){return d?(d=this.V(d),0<d.length?String(d[0]):v):v};function Cs(d,v,T){ri(d,v),0<T.length&&(d.i=null,d.g.set(Or(d,v),k(T)),d.h+=T.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],v=Array.from(this.g.keys());for(var T=0;T<v.length;T++){var O=v[T];const J=encodeURIComponent(String(O)),de=this.V(O);for(O=0;O<de.length;O++){var K=J;de[O]!==""&&(K+="="+encodeURIComponent(String(de[O]))),d.push(K)}}return this.i=d.join("&")};function Or(d,v){return v=String(v),d.j&&(v=v.toLowerCase()),v}function wi(d,v){v&&!d.j&&(mn(d),d.i=null,d.g.forEach(function(T,O){var K=O.toLowerCase();O!=K&&(ri(this,O),Cs(this,K,T))},d)),d.j=v}function n0(d,v){const T=new ht;if(c.Image){const O=new Image;O.onload=E(hr,T,"TestLoadImage: loaded",!0,v,O),O.onerror=E(hr,T,"TestLoadImage: error",!1,v,O),O.onabort=E(hr,T,"TestLoadImage: abort",!1,v,O),O.ontimeout=E(hr,T,"TestLoadImage: timeout",!1,v,O),c.setTimeout(function(){O.ontimeout&&O.ontimeout()},1e4),O.src=d}else v(!1)}function Cc(d,v){const T=new ht,O=new AbortController,K=setTimeout(()=>{O.abort(),hr(T,"TestPingServer: timeout",!1,v)},1e4);fetch(d,{signal:O.signal}).then(J=>{clearTimeout(K),J.ok?hr(T,"TestPingServer: ok",!0,v):hr(T,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(K),hr(T,"TestPingServer: error",!1,v)})}function hr(d,v,T,O,K){try{K&&(K.onload=null,K.onerror=null,K.onabort=null,K.ontimeout=null),O(T)}catch{}}function r0(){this.g=new ti}function kc(d,v,T){const O=T||"";try{xs(d,function(K,J){let de=K;f(K)&&(de=Hn(K)),v.push(O+J+"="+encodeURIComponent(de))})}catch(K){throw v.push(O+"type="+encodeURIComponent("_badmap")),K}}function Wi(d){this.l=d.Ub||null,this.j=d.eb||!1}w(Wi,Fr),Wi.prototype.g=function(){return new Ao(this.l,this.j)},Wi.prototype.i=function(d){return function(){return d}}({});function Ao(d,v){Ze.call(this),this.D=d,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(Ao,Ze),n=Ao.prototype,n.open=function(d,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=v,this.readyState=1,oi(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(v.body=d),(this.D||c).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,si(this)),this.readyState=0},n.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,oi(this)),this.g&&(this.readyState=3,oi(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;bc(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function bc(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}n.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var v=d.value?d.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!d.done}))&&(this.response=this.responseText+=v)}d.done?si(this):oi(this),this.readyState==3&&bc(this)}},n.Ra=function(d){this.g&&(this.response=this.responseText=d,si(this))},n.Qa=function(d){this.g&&(this.response=d,si(this))},n.ga=function(){this.g&&si(this)};function si(d){d.readyState=4,d.l=null,d.j=null,d.v=null,oi(d)}n.setRequestHeader=function(d,v){this.u.append(d,v)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],v=this.h.entries();for(var T=v.next();!T.done;)T=T.value,d.push(T[0]+": "+T[1]),T=v.next();return d.join(`\r
`)};function oi(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Ao.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Gi(d){let v="";return z(d,function(T,O){v+=O,v+=":",v+=T,v+=`\r
`}),v}function ks(d,v,T){e:{for(O in T){var O=!1;break e}O=!0}O||(T=Gi(T),typeof d=="string"?T!=null&&encodeURIComponent(String(T)):ft(d,v,T))}function Ct(d){Ze.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(Ct,Ze);var i0=/^https?$/i,Bl=["POST","PUT"];n=Ct.prototype,n.Ha=function(d){this.J=d},n.ea=function(d,v,T,O){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);v=v?v.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():lr.g(),this.v=this.o?wr(this.o):wr(lr),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(v,String(d),!0),this.B=!1}catch(J){Co(this,J);return}if(d=T||"",T=new Map(this.headers),O)if(Object.getPrototypeOf(O)===Object.prototype)for(var K in O)T.set(K,O[K]);else if(typeof O.keys=="function"&&typeof O.get=="function")for(const J of O.keys())T.set(J,O.get(J));else throw Error("Unknown input type for opt_headers: "+String(O));O=Array.from(T.keys()).find(J=>J.toLowerCase()=="content-type"),K=c.FormData&&d instanceof c.FormData,!(0<=Array.prototype.indexOf.call(Bl,v,void 0))||O||K||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,de]of T)this.g.setRequestHeader(J,de);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{_a(this),this.u=!0,this.g.send(d),this.u=!1}catch(J){Co(this,J)}};function Co(d,v){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=v,d.m=5,ya(d),Cr(d)}function ya(d){d.A||(d.A=!0,at(d,"complete"),at(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,at(this,"complete"),at(this,"abort"),Cr(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Cr(this,!0)),Ct.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Fl(this):this.bb())},n.bb=function(){Fl(this)};function Fl(d){if(d.h&&typeof l<"u"&&(!d.v[1]||fr(d)!=4||d.Z()!=2)){if(d.u&&fr(d)==4)Jr(d.Ea,0,d);else if(at(d,"readystatechange"),fr(d)==4){d.h=!1;try{const de=d.Z();e:switch(de){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var T;if(!(T=v)){var O;if(O=de===0){var K=String(d.D).match(wo)[1]||null;!K&&c.self&&c.self.location&&(K=c.self.location.protocol.slice(0,-1)),O=!i0.test(K?K.toLowerCase():"")}T=O}if(T)at(d,"complete"),at(d,"success");else{d.m=6;try{var J=2<fr(d)?d.g.statusText:""}catch{J=""}d.l=J+" ["+d.Z()+"]",ya(d)}}finally{Cr(d)}}}}function Cr(d,v){if(d.g){_a(d);const T=d.g,O=d.v[0]?()=>{}:null;d.g=null,d.v=null,v||at(d,"ready");try{T.onreadystatechange=O}catch{}}}function _a(d){d.I&&(c.clearTimeout(d.I),d.I=null)}n.isActive=function(){return!!this.g};function fr(d){return d.g?d.g.readyState:0}n.Z=function(){try{return 2<fr(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(d){if(this.g){var v=this.g.responseText;return d&&v.indexOf(d)==0&&(v=v.substring(d.length)),ei(v)}};function Ll(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function va(d){const v={};d=(d.g&&2<=fr(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let O=0;O<d.length;O++){if(b(d[O]))continue;var T=D(d[O]);const K=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const J=v[K]||[];v[K]=J,J.push(T)}I(v,function(O){return O.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ti(d,v,T){return T&&T.internalChannelParams&&T.internalChannelParams[d]||v}function Nl(d){this.Aa=0,this.i=[],this.j=new ht,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ti("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ti("baseRetryDelayMs",5e3,d),this.cb=Ti("retryDelaySeedMs",1e4,d),this.Wa=Ti("forwardChannelMaxRetries",2,d),this.wa=Ti("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new Eo(d&&d.concurrentRequestLimit),this.Da=new r0,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Nl.prototype,n.la=8,n.G=1,n.connect=function(d,v,T,O){gt(0),this.W=d,this.H=v||{},T&&O!==void 0&&(this.H.OSID=T,this.H.OAID=O),this.F=this.X,this.I=Pc(this,null,this.W),Ai(this)};function gn(d){if(xa(d),d.G==3){var v=d.U++,T=Ar(d.I);if(ft(T,"SID",d.K),ft(T,"RID",v),ft(T,"TYPE","terminate"),Ki(d,T),v=new ur(d,d.j,v),v.L=2,v.v=Ts(Ar(T)),T=!1,c.navigator&&c.navigator.sendBeacon)try{T=c.navigator.sendBeacon(v.v.toString(),"")}catch{}!T&&c.Image&&(new Image().src=v.v,T=!0),T||(v.g=Dc(v.j,null),v.g.ea(v.v)),v.F=Date.now(),Ve(v)}Rc(d)}function ai(d){d.g&&(Ol(d),d.g.cancel(),d.g=null)}function xa(d){ai(d),d.u&&(c.clearTimeout(d.u),d.u=null),Ta(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&c.clearTimeout(d.s),d.s=null)}function Ai(d){if(!Tr(d.h)&&!d.s){d.s=!0;var v=d.Ga;pe||ie(),ee||(pe(),ee=!0),he.add(v,d),d.B=0}}function s0(d,v){return _c(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=v.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=ct(y(d.Ga,d,v),Ic(d,d.B)),d.B++,!0)}n.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const K=new ur(this,this.j,d);let J=this.o;if(this.S&&(J?(J=C(J),P(J,this.S)):J=this.S),this.m!==null||this.O||(K.H=J,J=null),this.P)e:{for(var v=0,T=0;T<this.i.length;T++){t:{var O=this.i[T];if("__data__"in O.map&&(O=O.map.__data__,typeof O=="string")){O=O.length;break t}O=void 0}if(O===void 0)break;if(v+=O,4096<v){v=T;break e}if(v===4096||T===this.i.length-1){v=T+1;break e}}v=1e3}else v=1e3;v=bs(this,K,v),T=Ar(this.I),ft(T,"RID",d),ft(T,"CVER",22),this.D&&ft(T,"X-HTTP-Session-Id",this.D),Ki(this,T),J&&(this.O?v="headers="+encodeURIComponent(String(Gi(J)))+"&"+v:this.m&&ks(T,this.m,J)),Pl(this.h,K),this.Ua&&ft(T,"TYPE","init"),this.P?(ft(T,"$req",v),ft(T,"SID","null"),K.T=!0,ae(K,T,null)):ae(K,T,v),this.G=2}}else this.G==3&&(d?Ea(this,d):this.i.length==0||Tr(this.h)||Ea(this))};function Ea(d,v){var T;v?T=v.l:T=d.U++;const O=Ar(d.I);ft(O,"SID",d.K),ft(O,"RID",T),ft(O,"AID",d.T),Ki(d,O),d.m&&d.o&&ks(O,d.m,d.o),T=new ur(d,d.j,T,d.B+1),d.m===null&&(T.H=d.o),v&&(d.i=v.D.concat(d.i)),v=bs(d,T,1e3),T.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),Pl(d.h,T),ae(T,O,v)}function Ki(d,v){d.H&&z(d.H,function(T,O){ft(v,O,T)}),d.l&&xs({},function(T,O){ft(v,O,T)})}function bs(d,v,T){T=Math.min(d.i.length,T);var O=d.l?y(d.l.Na,d.l,d):null;e:{var K=d.i;let J=-1;for(;;){const de=["count="+T];J==-1?0<T?(J=K[0].g,de.push("ofs="+J)):J=0:de.push("ofs="+J);let it=!0;for(let Qt=0;Qt<T;Qt++){let Xe=K[Qt].g;const sn=K[Qt].map;if(Xe-=J,0>Xe)J=Math.max(0,K[Qt].g-100),it=!1;else try{kc(sn,de,"req"+Xe+"_")}catch{O&&O(sn)}}if(it){O=de.join("&");break e}}}return d=d.i.splice(0,T),v.D=d,O}function ko(d){if(!d.g&&!d.u){d.Y=1;var v=d.Fa;pe||ie(),ee||(pe(),ee=!0),he.add(v,d),d.v=0}}function wa(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=ct(y(d.Fa,d),Ic(d,d.v)),d.v++,!0)}n.Fa=function(){if(this.u=null,Sc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=ct(y(this.ab,this),d)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,gt(10),ai(this),Sc(this))};function Ol(d){d.A!=null&&(c.clearTimeout(d.A),d.A=null)}function Sc(d){d.g=new ur(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var v=Ar(d.qa);ft(v,"RID","rpc"),ft(v,"SID",d.K),ft(v,"AID",d.T),ft(v,"CI",d.F?"0":"1"),!d.F&&d.ja&&ft(v,"TO",d.ja),ft(v,"TYPE","xmlhttp"),Ki(d,v),d.m&&d.o&&ks(v,d.m,d.o),d.L&&(d.g.I=d.L);var T=d.g;d=d.ia,T.L=1,T.v=Ts(Ar(v)),T.m=null,T.P=!0,Ee(T,d)}n.Za=function(){this.C!=null&&(this.C=null,ai(this),wa(this),gt(19))};function Ta(d){d.C!=null&&(c.clearTimeout(d.C),d.C=null)}function Aa(d,v){var T=null;if(d.g==v){Ta(d),Ol(d),d.g=null;var O=2}else if(Wn(d.h,v))T=v.D,vc(d.h,v),O=1;else return;if(d.G!=0){if(v.o)if(O==1){T=v.m?v.m.length:0,v=Date.now()-v.F;var K=d.B;O=pn(),at(O,new Nr(O,T)),Ai(d)}else ko(d);else if(K=v.s,K==3||K==0&&0<v.X||!(O==1&&s0(d,v)||O==2&&wa(d)))switch(T&&0<T.length&&(v=d.h,v.i=v.i.concat(T)),K){case 1:Qi(d,5);break;case 4:Qi(d,10);break;case 3:Qi(d,6);break;default:Qi(d,2)}}}function Ic(d,v){let T=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(T*=2),T*v}function Qi(d,v){if(d.j.info("Error code "+v),v==2){var T=y(d.fb,d),O=d.Xa;const K=!O;O=new qi(O||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||To(O,"https"),Ts(O),K?n0(O.toString(),T):Cc(O.toString(),T)}else gt(2);d.G=0,d.l&&d.l.sa(v),Rc(d),xa(d)}n.fb=function(d){d?(this.j.info("Successfully pinged google.com"),gt(2)):(this.j.info("Failed to ping google.com"),gt(1))};function Rc(d){if(d.G=0,d.ka=[],d.l){const v=xc(d.h);(v.length!=0||d.i.length!=0)&&(A(d.ka,v),A(d.ka,d.i),d.h.i.length=0,k(d.i),d.i.length=0),d.l.ra()}}function Pc(d,v,T){var O=T instanceof qi?Ar(T):new qi(T);if(O.g!="")v&&(O.g=v+"."+O.g),Es(O,O.s);else{var K=c.location;O=K.protocol,v=v?v+"."+K.hostname:K.hostname,K=+K.port;var J=new qi(null);O&&To(J,O),v&&(J.g=v),K&&Es(J,K),T&&(J.l=T),O=J}return T=d.D,v=d.ya,T&&v&&ft(O,T,v),ft(O,"VER",d.la),Ki(d,O),O}function Dc(d,v,T){if(v&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=d.Ca&&!d.pa?new Ct(new Wi({eb:T})):new Ct(d.pa),v.Ha(d.J),v}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ml(){}n=Ml.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Ca(){}Ca.prototype.g=function(d,v){return new Gn(d,v)};function Gn(d,v){Ze.call(this),this.g=new Nl(v),this.l=d,this.h=v&&v.messageUrlParams||null,d=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(d?d["X-WebChannel-Content-Type"]=v.messageContentType:d={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(d?d["X-WebChannel-Client-Profile"]=v.va:d={"X-WebChannel-Client-Profile":v.va}),this.g.S=d,(d=v&&v.Sb)&&!b(d)&&(this.g.m=d),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!b(v)&&(this.g.D=v,d=this.h,d!==null&&v in d&&(d=this.h,v in d&&delete d[v])),this.j=new Ci(this)}w(Gn,Ze),Gn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Gn.prototype.close=function(){gn(this.g)},Gn.prototype.o=function(d){var v=this.g;if(typeof d=="string"){var T={};T.__data__=d,d=T}else this.u&&(T={},T.__data__=Hn(d),d=T);v.i.push(new xo(v.Ya++,d)),v.G==3&&Ai(v)},Gn.prototype.N=function(){this.g.l=null,delete this.j,gn(this.g),delete this.g,Gn.aa.N.call(this)};function Bc(d){Gt.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var v=d.__sm__;if(v){e:{for(const T in v){d=T;break e}d=void 0}(this.i=d)&&(d=this.i,v=v!==null&&d in v?v[d]:void 0),this.data=v}else this.data=d}w(Bc,Gt);function Fc(){vi.call(this),this.status=1}w(Fc,vi);function Ci(d){this.g=d}w(Ci,Ml),Ci.prototype.ua=function(){at(this.g,"a")},Ci.prototype.ta=function(d){at(this.g,new Bc(d))},Ci.prototype.sa=function(d){at(this.g,new Fc)},Ci.prototype.ra=function(){at(this.g,"b")},Ca.prototype.createWebChannel=Ca.prototype.g,Gn.prototype.send=Gn.prototype.o,Gn.prototype.open=Gn.prototype.m,Gn.prototype.close=Gn.prototype.close,VT=function(){return new Ca},MT=function(){return pn()},OT=sr,Sm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},kn.NO_ERROR=0,kn.TIMEOUT=8,kn.HTTP_ERROR=6,Kh=kn,vo.COMPLETE="complete",NT=vo,ir.EventType=Cn,Cn.OPEN="a",Cn.CLOSE="b",Cn.ERROR="c",Cn.MESSAGE="d",Ze.prototype.listen=Ze.prototype.K,xu=ir,Ct.prototype.listenOnce=Ct.prototype.L,Ct.prototype.getLastError=Ct.prototype.Ka,Ct.prototype.getLastErrorCode=Ct.prototype.Ba,Ct.prototype.getStatus=Ct.prototype.Z,Ct.prototype.getResponseJson=Ct.prototype.Oa,Ct.prototype.getResponseText=Ct.prototype.oa,Ct.prototype.send=Ct.prototype.ea,Ct.prototype.setWithCredentials=Ct.prototype.Ha,LT=Ct}).apply(typeof Ih<"u"?Ih:typeof self<"u"?self:typeof window<"u"?window:{});const rx="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Fn.UNAUTHENTICATED=new Fn(null),Fn.GOOGLE_CREDENTIALS=new Fn("google-credentials-uid"),Fn.FIRST_PARTY=new Fn("first-party-uid"),Fn.MOCK_USER=new Fn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Al="11.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ta=new _g("@firebase/firestore");function Ga(){return ta.logLevel}function _e(n,...e){if(ta.logLevel<=qe.DEBUG){const t=e.map(Dg);ta.debug(`Firestore (${Al}): ${n}`,...t)}}function ms(n,...e){if(ta.logLevel<=qe.ERROR){const t=e.map(Dg);ta.error(`Firestore (${Al}): ${n}`,...t)}}function ll(n,...e){if(ta.logLevel<=qe.WARN){const t=e.map(Dg);ta.warn(`Firestore (${Al}): ${n}`,...t)}}function Dg(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oe(n="Unexpected state"){const e=`FIRESTORE (${Al}) INTERNAL ASSERTION FAILED: `+n;throw ms(e),new Error(e)}function tt(n,e){n||Oe()}function Ue(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Te extends zi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class pI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Fn.UNAUTHENTICATED))}shutdown(){}}class mI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class gI{constructor(e){this.t=e,this.currentUser=Fn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){tt(this.o===void 0);let r=this.i;const i=h=>this.i!==r?(r=this.i,t(h)):Promise.resolve();let a=new Qo;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Qo,e.enqueueRetryable(()=>i(this.currentUser))};const l=()=>{const h=a;e.enqueueRetryable(async()=>{await h.promise,await i(this.currentUser)})},c=h=>{_e("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(h=>c(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?c(h):(_e("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Qo)}},0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(_e("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(tt(typeof r.accessToken=="string"),new UT(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return tt(e===null||typeof e=="string"),new Fn(e)}}class yI{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=Fn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class _I{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new yI(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Fn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class vI{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class xI{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){tt(this.o===void 0);const r=a=>{a.error!=null&&_e("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.R;return this.R=a.token,_e("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{_e("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?i(a):_e("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(tt(typeof t.token=="string"),this.R=t.token,new vI(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EI(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=EI(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<t&&(r+=e.charAt(i[a]%e.length))}return r}}function Ke(n,e){return n<e?-1:n>e?1:0}function ul(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{static now(){return Zt.fromMillis(Date.now())}static fromDate(e){return Zt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Zt(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Te(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Te(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Te(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Te(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ke(this.nanoseconds,e.nanoseconds):Ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{static fromTimestamp(e){return new Me(e)}static min(){return new Me(new Zt(0,0))}static max(){return new Me(new Zt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(e,t,r){t===void 0?t=0:t>e.length&&Oe(),r===void 0?r=e.length-t:r>e.length-t&&Oe(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Pi.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Pi?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const a=Pi.compareSegments(e.get(i),t.get(i));if(a!==0)return a}return Math.sign(e.length-t.length)}static compareSegments(e,t){const r=Pi.isNumericId(e),i=Pi.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?Pi.extractNumericId(e).compare(Pi.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Js.fromString(e.substring(4,e.length-2))}}class Et extends Pi{construct(e,t,r){return new Et(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Te(ne.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Et(t)}static emptyPath(){return new Et([])}}const wI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class wn extends Pi{construct(e,t,r){return new wn(e,t,r)}static isValidIdentifier(e){return wI.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),wn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new wn(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const a=()=>{if(r.length===0)throw new Te(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new Te(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[i+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new Te(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,i+=2}else c==="`"?(l=!l,i++):c!=="."||l?(r+=c,i++):(a(),i++)}if(a(),l)throw new Te(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new wn(t)}static emptyPath(){return new wn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e){this.path=e}static fromPath(e){return new Ie(Et.fromString(e))}static fromName(e){return new Ie(Et.fromString(e).popFirst(5))}static empty(){return new Ie(Et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Et.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ie(new Et(e.slice()))}}function TI(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Me.fromTimestamp(r===1e9?new Zt(t+1,0):new Zt(t,r));return new io(i,Ie.empty(),e)}function AI(n){return new io(n.readTime,n.key,-1)}class io{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new io(Me.min(),Ie.empty(),-1)}static max(){return new io(Me.max(),Ie.empty(),-1)}}function CI(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ie.comparator(n.documentKey,e.documentKey),t!==0?t:Ke(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class bI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cl(n){if(n.code!==ne.FAILED_PRECONDITION||n.message!==kI)throw n;_e("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Oe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new te((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof te?t:te.resolve(t)}catch(t){return te.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):te.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):te.reject(t)}static resolve(e){return new te((t,r)=>{t(e)})}static reject(e){return new te((t,r)=>{r(e)})}static waitFor(e){return new te((t,r)=>{let i=0,a=0,l=!1;e.forEach(c=>{++i,c.next(()=>{++a,l&&a===i&&t()},h=>r(h))}),l=!0,a===i&&t()})}static or(e){let t=te.resolve(!1);for(const r of e)t=t.next(i=>i?te.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,a)=>{r.push(t.call(this,i,a))}),this.waitFor(r)}static mapArray(e,t){return new te((r,i)=>{const a=e.length,l=new Array(a);let c=0;for(let h=0;h<a;h++){const f=h;t(e[f]).next(p=>{l[f]=p,++c,c===a&&r(l)},p=>i(p))}})}static doWhile(e,t){return new te((r,i)=>{const a=()=>{e()===!0?t().next(()=>{a()},i):r()};a()})}}function SI(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function kl(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ie(r),this.se=r=>t.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Id.oe=-1;function Rd(n){return n==null}function Xf(n){return n===0&&1/n==-1/0}function II(n){return typeof n=="number"&&Number.isInteger(n)&&!Xf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RI(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=ix(e)),e=PI(n.get(t),e);return ix(e)}function PI(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const a=n.charAt(i);switch(a){case"\0":t+="";break;case"":t+="";break;default:t+=a}}return t}function ix(n){return n+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sx(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function po(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function zT(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e,t){this.comparator=e,this.root=t||En.EMPTY}insert(e,t){return new Pt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,En.BLACK,null,null))}remove(e){return new Pt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,En.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Rh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Rh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Rh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Rh(this.root,e,this.comparator,!0)}}class Rh{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class En{constructor(e,t,r,i,a){this.key=e,this.value=t,this.color=r??En.RED,this.left=i??En.EMPTY,this.right=a??En.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,a){return new En(e??this.key,t??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,r),null):a===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return En.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return En.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,En.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,En.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Oe();const e=this.left.check();if(e!==this.right.check())throw Oe();return e+(this.isRed()?0:1)}}En.EMPTY=null,En.RED=!0,En.BLACK=!1;En.EMPTY=new class{constructor(){this.size=0}get key(){throw Oe()}get value(){throw Oe()}get color(){throw Oe()}get left(){throw Oe()}get right(){throw Oe()}copy(e,t,r,i,a){return this}insert(e,t,r){return new En(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.comparator=e,this.data=new Pt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ox(this.data.getIterator())}getIteratorFrom(e){return new ox(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Jt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Jt(this.comparator);return t.data=e,t}}class ox{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(e){this.fields=e,e.sort(wn.comparator)}static empty(){return new Rr([])}unionWith(e){let t=new Jt(wn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Rr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ul(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new jT("Invalid base64 string: "+a):a}}(e);return new Tn(t)}static fromUint8Array(e){const t=function(i){let a="";for(let l=0;l<i.length;++l)a+=String.fromCharCode(i[l]);return a}(e);return new Tn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Tn.EMPTY_BYTE_STRING=new Tn("");const DI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function so(n){if(tt(!!n),typeof n=="string"){let e=0;const t=DI.exec(n);if(tt(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Mt(n.seconds),nanos:Mt(n.nanos)}}function Mt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function oo(n){return typeof n=="string"?Tn.fromBase64String(n):Tn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bg(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function Pd(n){const e=n.mapValue.fields.__previous_value__;return Bg(e)?Pd(e):e}function Hu(n){const e=so(n.mapValue.fields.__local_write_time__.timestampValue);return new Zt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(e,t,r,i,a,l,c,h,f){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=h,this.useFetchStreams=f}}class qu{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new qu("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof qu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ph={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ao(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Bg(n)?4:LI(n)?9007199254740991:FI(n)?10:11:Oe()}function $i(n,e){if(n===e)return!0;const t=ao(n);if(t!==ao(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Hu(n).isEqual(Hu(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const l=so(i.timestampValue),c=so(a.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,a){return oo(i.bytesValue).isEqual(oo(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,a){return Mt(i.geoPointValue.latitude)===Mt(a.geoPointValue.latitude)&&Mt(i.geoPointValue.longitude)===Mt(a.geoPointValue.longitude)}(n,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return Mt(i.integerValue)===Mt(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const l=Mt(i.doubleValue),c=Mt(a.doubleValue);return l===c?Xf(l)===Xf(c):isNaN(l)&&isNaN(c)}return!1}(n,e);case 9:return ul(n.arrayValue.values||[],e.arrayValue.values||[],$i);case 10:case 11:return function(i,a){const l=i.mapValue.fields||{},c=a.mapValue.fields||{};if(sx(l)!==sx(c))return!1;for(const h in l)if(l.hasOwnProperty(h)&&(c[h]===void 0||!$i(l[h],c[h])))return!1;return!0}(n,e);default:return Oe()}}function Wu(n,e){return(n.values||[]).find(t=>$i(t,e))!==void 0}function cl(n,e){if(n===e)return 0;const t=ao(n),r=ao(e);if(t!==r)return Ke(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ke(n.booleanValue,e.booleanValue);case 2:return function(a,l){const c=Mt(a.integerValue||a.doubleValue),h=Mt(l.integerValue||l.doubleValue);return c<h?-1:c>h?1:c===h?0:isNaN(c)?isNaN(h)?0:-1:1}(n,e);case 3:return ax(n.timestampValue,e.timestampValue);case 4:return ax(Hu(n),Hu(e));case 5:return Ke(n.stringValue,e.stringValue);case 6:return function(a,l){const c=oo(a),h=oo(l);return c.compareTo(h)}(n.bytesValue,e.bytesValue);case 7:return function(a,l){const c=a.split("/"),h=l.split("/");for(let f=0;f<c.length&&f<h.length;f++){const p=Ke(c[f],h[f]);if(p!==0)return p}return Ke(c.length,h.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,l){const c=Ke(Mt(a.latitude),Mt(l.latitude));return c!==0?c:Ke(Mt(a.longitude),Mt(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return lx(n.arrayValue,e.arrayValue);case 10:return function(a,l){var c,h,f,p;const _=a.fields||{},y=l.fields||{},E=(c=_.value)===null||c===void 0?void 0:c.arrayValue,w=(h=y.value)===null||h===void 0?void 0:h.arrayValue,k=Ke(((f=E==null?void 0:E.values)===null||f===void 0?void 0:f.length)||0,((p=w==null?void 0:w.values)===null||p===void 0?void 0:p.length)||0);return k!==0?k:lx(E,w)}(n.mapValue,e.mapValue);case 11:return function(a,l){if(a===Ph.mapValue&&l===Ph.mapValue)return 0;if(a===Ph.mapValue)return 1;if(l===Ph.mapValue)return-1;const c=a.fields||{},h=Object.keys(c),f=l.fields||{},p=Object.keys(f);h.sort(),p.sort();for(let _=0;_<h.length&&_<p.length;++_){const y=Ke(h[_],p[_]);if(y!==0)return y;const E=cl(c[h[_]],f[p[_]]);if(E!==0)return E}return Ke(h.length,p.length)}(n.mapValue,e.mapValue);default:throw Oe()}}function ax(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ke(n,e);const t=so(n),r=so(e),i=Ke(t.seconds,r.seconds);return i!==0?i:Ke(t.nanos,r.nanos)}function lx(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const a=cl(t[i],r[i]);if(a)return a}return Ke(t.length,r.length)}function hl(n){return Im(n)}function Im(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=so(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return oo(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Ie.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const a of t.values||[])i?i=!1:r+=",",r+=Im(a);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",a=!0;for(const l of r)a?a=!1:i+=",",i+=`${l}:${Im(t.fields[l])}`;return i+"}"}(n.mapValue):Oe()}function Qh(n){switch(ao(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Pd(n);return e?16+Qh(e):16;case 5:return 2*n.stringValue.length;case 6:return oo(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,a)=>i+Qh(a),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return po(r.fields,(a,l)=>{i+=a.length+Qh(l)}),i}(n.mapValue);default:throw Oe()}}function ux(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Rm(n){return!!n&&"integerValue"in n}function Fg(n){return!!n&&"arrayValue"in n}function cx(n){return!!n&&"nullValue"in n}function hx(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Xh(n){return!!n&&"mapValue"in n}function FI(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function Su(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return po(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Su(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Su(n.arrayValue.values[t]);return e}return Object.assign({},n)}function LI(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(e){this.value=e}static empty(){return new xr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Xh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Su(t)}setAll(e){let t=wn.emptyPath(),r={},i=[];e.forEach((l,c)=>{if(!t.isImmediateParentOf(c)){const h=this.getFieldsMap(t);this.applyChanges(h,r,i),r={},i=[],t=c.popLast()}l?r[c.lastSegment()]=Su(l):i.push(c.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,i)}delete(e){const t=this.field(e.popLast());Xh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return $i(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Xh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){po(t,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new xr(Su(this.value))}}function HT(n){const e=[];return po(n.fields,(t,r)=>{const i=new wn([t]);if(Xh(r)){const a=HT(r.mapValue).fields;if(a.length===0)e.push(i);else for(const l of a)e.push(i.child(l))}else e.push(i)}),new Rr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e,t,r,i,a,l,c){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=a,this.data=l,this.documentState=c}static newInvalidDocument(e){return new Ln(e,0,Me.min(),Me.min(),Me.min(),xr.empty(),0)}static newFoundDocument(e,t,r,i){return new Ln(e,1,t,Me.min(),r,i,0)}static newNoDocument(e,t){return new Ln(e,2,t,Me.min(),Me.min(),xr.empty(),0)}static newUnknownDocument(e,t){return new Ln(e,3,t,Me.min(),Me.min(),xr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Me.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=xr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=xr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Me.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ln&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ln(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yf{constructor(e,t){this.position=e,this.inclusive=t}}function fx(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const a=e[i],l=n.position[i];if(a.field.isKeyField()?r=Ie.comparator(Ie.fromName(l.referenceValue),t.key):r=cl(l,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function dx(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!$i(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu{constructor(e,t="asc"){this.field=e,this.dir=t}}function NI(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{}class Ht extends qT{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new MI(e,t,r):t==="array-contains"?new $I(e,r):t==="in"?new zI(e,r):t==="not-in"?new jI(e,r):t==="array-contains-any"?new HI(e,r):new Ht(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new VI(e,r):new UI(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(cl(t,this.value)):t!==null&&ao(this.value)===ao(t)&&this.matchesComparison(cl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Oe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class _i extends qT{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new _i(e,t)}matches(e){return WT(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function WT(n){return n.op==="and"}function GT(n){return OI(n)&&WT(n)}function OI(n){for(const e of n.filters)if(e instanceof _i)return!1;return!0}function Pm(n){if(n instanceof Ht)return n.field.canonicalString()+n.op.toString()+hl(n.value);if(GT(n))return n.filters.map(e=>Pm(e)).join(",");{const e=n.filters.map(t=>Pm(t)).join(",");return`${n.op}(${e})`}}function KT(n,e){return n instanceof Ht?function(r,i){return i instanceof Ht&&r.op===i.op&&r.field.isEqual(i.field)&&$i(r.value,i.value)}(n,e):n instanceof _i?function(r,i){return i instanceof _i&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((a,l,c)=>a&&KT(l,i.filters[c]),!0):!1}(n,e):void Oe()}function QT(n){return n instanceof Ht?function(t){return`${t.field.canonicalString()} ${t.op} ${hl(t.value)}`}(n):n instanceof _i?function(t){return t.op.toString()+" {"+t.getFilters().map(QT).join(" ,")+"}"}(n):"Filter"}class MI extends Ht{constructor(e,t,r){super(e,t,r),this.key=Ie.fromName(r.referenceValue)}matches(e){const t=Ie.comparator(e.key,this.key);return this.matchesComparison(t)}}class VI extends Ht{constructor(e,t){super(e,"in",t),this.keys=XT("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class UI extends Ht{constructor(e,t){super(e,"not-in",t),this.keys=XT("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function XT(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>Ie.fromName(r.referenceValue))}class $I extends Ht{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Fg(t)&&Wu(t.arrayValue,this.value)}}class zI extends Ht{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Wu(this.value.arrayValue,t)}}class jI extends Ht{constructor(e,t){super(e,"not-in",t)}matches(e){if(Wu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Wu(this.value.arrayValue,t)}}class HI extends Ht{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Fg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Wu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{constructor(e,t=null,r=[],i=[],a=null,l=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=l,this.endAt=c,this.ue=null}}function px(n,e=null,t=[],r=[],i=null,a=null,l=null){return new qI(n,e,t,r,i,a,l)}function Lg(n){const e=Ue(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Pm(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),Rd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>hl(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>hl(r)).join(",")),e.ue=t}return e.ue}function Ng(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!NI(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!KT(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!dx(n.startAt,e.startAt)&&dx(n.endAt,e.endAt)}function Dm(n){return Ie.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{constructor(e,t=null,r=[],i=[],a=null,l="F",c=null,h=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=l,this.startAt=c,this.endAt=h,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function WI(n,e,t,r,i,a,l,c){return new bl(n,e,t,r,i,a,l,c)}function Og(n){return new bl(n)}function mx(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function YT(n){return n.collectionGroup!==null}function Iu(n){const e=Ue(n);if(e.ce===null){e.ce=[];const t=new Set;for(const a of e.explicitOrderBy)e.ce.push(a),t.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new Jt(wn.comparator);return l.filters.forEach(h=>{h.getFlattenedFilters().forEach(f=>{f.isInequality()&&(c=c.add(f.field))})}),c})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.ce.push(new Gu(a,r))}),t.has(wn.keyField().canonicalString())||e.ce.push(new Gu(wn.keyField(),r))}return e.ce}function Ni(n){const e=Ue(n);return e.le||(e.le=GI(e,Iu(n))),e.le}function GI(n,e){if(n.limitType==="F")return px(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new Gu(i.field,a)});const t=n.endAt?new Yf(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Yf(n.startAt.position,n.startAt.inclusive):null;return px(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Bm(n,e){const t=n.filters.concat([e]);return new bl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Zf(n,e,t){return new bl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Dd(n,e){return Ng(Ni(n),Ni(e))&&n.limitType===e.limitType}function ZT(n){return`${Lg(Ni(n))}|lt:${n.limitType}`}function Ka(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>QT(i)).join(", ")}]`),Rd(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>hl(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>hl(i)).join(",")),`Target(${r})`}(Ni(n))}; limitType=${n.limitType})`}function Bd(n,e){return e.isFoundDocument()&&function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Ie.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(n,e)&&function(r,i){for(const a of Iu(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(n,e)&&function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(l,c,h){const f=fx(l,c,h);return l.inclusive?f<=0:f<0}(r.startAt,Iu(r),i)||r.endAt&&!function(l,c,h){const f=fx(l,c,h);return l.inclusive?f>=0:f>0}(r.endAt,Iu(r),i))}(n,e)}function KI(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function JT(n){return(e,t)=>{let r=!1;for(const i of Iu(n)){const a=QI(i,e,t);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function QI(n,e,t){const r=n.field.isKeyField()?Ie.comparator(e.key,t.key):function(a,l,c){const h=l.data.field(a),f=c.data.field(a);return h!==null&&f!==null?cl(h,f):Oe()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Oe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){po(this.inner,(t,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return zT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XI=new Pt(Ie.comparator);function gs(){return XI}const e4=new Pt(Ie.comparator);function Eu(...n){let e=e4;for(const t of n)e=e.insert(t.key,t);return e}function t4(n){let e=e4;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Wo(){return Ru()}function n4(){return Ru()}function Ru(){return new sa(n=>n.toString(),(n,e)=>n.isEqual(e))}const YI=new Pt(Ie.comparator),ZI=new Jt(Ie.comparator);function We(...n){let e=ZI;for(const t of n)e=e.add(t);return e}const JI=new Jt(Ke);function e5(){return JI}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mg(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xf(e)?"-0":e}}function r4(n){return{integerValue:""+n}}function t5(n,e){return II(e)?r4(e):Mg(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(){this._=void 0}}function n5(n,e,t){return n instanceof Jf?function(i,a){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&Bg(a)&&(a=Pd(a)),a&&(l.fields.__previous_value__=a),{mapValue:l}}(t,e):n instanceof fl?s4(n,e):n instanceof dl?o4(n,e):function(i,a){const l=i4(i,a),c=gx(l)+gx(i.Pe);return Rm(l)&&Rm(i.Pe)?r4(c):Mg(i.serializer,c)}(n,e)}function r5(n,e,t){return n instanceof fl?s4(n,e):n instanceof dl?o4(n,e):t}function i4(n,e){return n instanceof ed?function(r){return Rm(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class Jf extends Fd{}class fl extends Fd{constructor(e){super(),this.elements=e}}function s4(n,e){const t=a4(e);for(const r of n.elements)t.some(i=>$i(i,r))||t.push(r);return{arrayValue:{values:t}}}class dl extends Fd{constructor(e){super(),this.elements=e}}function o4(n,e){let t=a4(e);for(const r of n.elements)t=t.filter(i=>!$i(i,r));return{arrayValue:{values:t}}}class ed extends Fd{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function gx(n){return Mt(n.integerValue||n.doubleValue)}function a4(n){return Fg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l4{constructor(e,t){this.field=e,this.transform=t}}function i5(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof fl&&i instanceof fl||r instanceof dl&&i instanceof dl?ul(r.elements,i.elements,$i):r instanceof ed&&i instanceof ed?$i(r.Pe,i.Pe):r instanceof Jf&&i instanceof Jf}(n.transform,e.transform)}class s5{constructor(e,t){this.version=e,this.transformResults=t}}class yi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new yi}static exists(e){return new yi(void 0,e)}static updateTime(e){return new yi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Yh(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Ld{}function u4(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Vg(n.key,yi.none()):new lc(n.key,n.data,yi.none());{const t=n.data,r=xr.empty();let i=new Jt(wn.comparator);for(let a of e.fields)if(!i.has(a)){let l=t.field(a);l===null&&a.length>1&&(a=a.popLast(),l=t.field(a)),l===null?r.delete(a):r.set(a,l),i=i.add(a)}return new mo(n.key,r,new Rr(i.toArray()),yi.none())}}function o5(n,e,t){n instanceof lc?function(i,a,l){const c=i.value.clone(),h=_x(i.fieldTransforms,a,l.transformResults);c.setAll(h),a.convertToFoundDocument(l.version,c).setHasCommittedMutations()}(n,e,t):n instanceof mo?function(i,a,l){if(!Yh(i.precondition,a))return void a.convertToUnknownDocument(l.version);const c=_x(i.fieldTransforms,a,l.transformResults),h=a.data;h.setAll(c4(i)),h.setAll(c),a.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(n,e,t):function(i,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,t)}function Pu(n,e,t,r){return n instanceof lc?function(a,l,c,h){if(!Yh(a.precondition,l))return c;const f=a.value.clone(),p=vx(a.fieldTransforms,h,l);return f.setAll(p),l.convertToFoundDocument(l.version,f).setHasLocalMutations(),null}(n,e,t,r):n instanceof mo?function(a,l,c,h){if(!Yh(a.precondition,l))return c;const f=vx(a.fieldTransforms,h,l),p=l.data;return p.setAll(c4(a)),p.setAll(f),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),c===null?null:c.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(_=>_.field))}(n,e,t,r):function(a,l,c){return Yh(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c}(n,e,t)}function a5(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),a=i4(r.transform,i||null);a!=null&&(t===null&&(t=xr.empty()),t.set(r.field,a))}return t||null}function yx(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ul(r,i,(a,l)=>i5(a,l))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class lc extends Ld{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class mo extends Ld{constructor(e,t,r,i,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function c4(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function _x(n,e,t){const r=new Map;tt(n.length===t.length);for(let i=0;i<t.length;i++){const a=n[i],l=a.transform,c=e.data.field(a.field);r.set(a.field,r5(l,c,t[i]))}return r}function vx(n,e,t){const r=new Map;for(const i of n){const a=i.transform,l=t.data.field(i.field);r.set(i.field,n5(a,l,e))}return r}class Vg extends Ld{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class l5 extends Ld{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u5{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&o5(a,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Pu(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Pu(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=n4();return this.mutations.forEach(i=>{const a=e.get(i.key),l=a.overlayedDocument;let c=this.applyToLocalView(l,a.mutatedFields);c=t.has(i.key)?null:c;const h=u4(l,c);h!==null&&r.set(i.key,h),l.isValidDocument()||l.convertToNoDocument(Me.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),We())}isEqual(e){return this.batchId===e.batchId&&ul(this.mutations,e.mutations,(t,r)=>yx(t,r))&&ul(this.baseMutations,e.baseMutations,(t,r)=>yx(t,r))}}class Ug{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){tt(e.mutations.length===r.length);let i=function(){return YI}();const a=e.mutations;for(let l=0;l<a.length;l++)i=i.insert(a[l].key,r[l].version);return new Ug(e,t,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c5{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h5{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jt,Ye;function f5(n){switch(n){default:return Oe();case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0}}function h4(n){if(n===void 0)return ms("GRPC error has no .code"),ne.UNKNOWN;switch(n){case jt.OK:return ne.OK;case jt.CANCELLED:return ne.CANCELLED;case jt.UNKNOWN:return ne.UNKNOWN;case jt.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case jt.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case jt.INTERNAL:return ne.INTERNAL;case jt.UNAVAILABLE:return ne.UNAVAILABLE;case jt.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case jt.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case jt.NOT_FOUND:return ne.NOT_FOUND;case jt.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case jt.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case jt.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case jt.ABORTED:return ne.ABORTED;case jt.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case jt.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case jt.DATA_LOSS:return ne.DATA_LOSS;default:return Oe()}}(Ye=jt||(jt={}))[Ye.OK=0]="OK",Ye[Ye.CANCELLED=1]="CANCELLED",Ye[Ye.UNKNOWN=2]="UNKNOWN",Ye[Ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ye[Ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ye[Ye.NOT_FOUND=5]="NOT_FOUND",Ye[Ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ye[Ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ye[Ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ye[Ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ye[Ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ye[Ye.ABORTED=10]="ABORTED",Ye[Ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ye[Ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ye[Ye.INTERNAL=13]="INTERNAL",Ye[Ye.UNAVAILABLE=14]="UNAVAILABLE",Ye[Ye.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d5(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p5=new Js([4294967295,4294967295],0);function xx(n){const e=d5().encode(n),t=new FT;return t.update(e),new Uint8Array(t.digest())}function Ex(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Js([t,r],0),new Js([i,a],0)]}class $g{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new wu(`Invalid padding: ${t}`);if(r<0)throw new wu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new wu(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new wu(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ie=Js.fromNumber(this.Te)}de(e,t,r){let i=e.add(t.multiply(Js.fromNumber(r)));return i.compare(p5)===1&&(i=new Js([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ie).toNumber()}Ee(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const t=xx(e),[r,i]=Ex(t);for(let a=0;a<this.hashCount;a++){const l=this.de(r,i,a);if(!this.Ee(l))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new $g(a,i,t);return r.forEach(c=>l.insert(c)),l}insert(e){if(this.Te===0)return;const t=xx(e),[r,i]=Ex(t);for(let a=0;a<this.hashCount;a++){const l=this.de(r,i,a);this.Ae(l)}}Ae(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class wu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(e,t,r,i,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,uc.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Nd(Me.min(),i,new Pt(Ke),gs(),We())}}class uc{constructor(e,t,r,i,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new uc(r,t,We(),We(),We())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(e,t,r,i){this.Re=e,this.removedTargetIds=t,this.key=r,this.Ve=i}}class f4{constructor(e,t){this.targetId=e,this.me=t}}class d4{constructor(e,t,r=Tn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class wx{constructor(){this.fe=0,this.ge=Tx(),this.pe=Tn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=We(),t=We(),r=We();return this.ge.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Oe()}}),new uc(this.pe,this.ye,e,t,r)}Ce(){this.we=!1,this.ge=Tx()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,tt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class m5{constructor(e){this.Be=e,this.Le=new Map,this.ke=gs(),this.qe=Dh(),this.Qe=Dh(),this.Ke=new Pt(Ke)}$e(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(t,e.Ve):this.We(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.We(t,e.key,e.Ve)}Ge(e){this.forEachTarget(e,t=>{const r=this.ze(t);switch(e.state){case 0:this.je(t)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(t);break;case 3:this.je(t)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),r.De(e.resumeToken));break;default:Oe()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Le.forEach((r,i)=>{this.je(i)&&t(i)})}Je(e){const t=e.targetId,r=e.me.count,i=this.Ye(t);if(i){const a=i.target;if(Dm(a))if(r===0){const l=new Ie(a.path);this.We(t,l,Ln.newNoDocument(l,Me.min()))}else tt(r===1);else{const l=this.Ze(t);if(l!==r){const c=this.Xe(e),h=c?this.et(c,e,l):1;if(h!==0){this.He(t);const f=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,f)}}}}}Xe(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=t;let l,c;try{l=oo(r).toUint8Array()}catch(h){if(h instanceof jT)return ll("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{c=new $g(l,i,a)}catch(h){return ll(h instanceof wu?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return c.Te===0?null:c}et(e,t,r){return t.me.count===r-this.rt(e,t.targetId)?0:2}rt(e,t){const r=this.Be.getRemoteKeysForTarget(t);let i=0;return r.forEach(a=>{const l=this.Be.nt(),c=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(c)||(this.We(t,a,null),i++)}),i}it(e){const t=new Map;this.Le.forEach((a,l)=>{const c=this.Ye(l);if(c){if(a.current&&Dm(c.target)){const h=new Ie(c.target.path);this.st(h).has(l)||this.ot(l,h)||this.We(l,h,Ln.newNoDocument(h,e))}a.be&&(t.set(l,a.ve()),a.Ce())}});let r=We();this.Qe.forEach((a,l)=>{let c=!0;l.forEachWhile(h=>{const f=this.Ye(h);return!f||f.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(a))}),this.ke.forEach((a,l)=>l.setReadTime(e));const i=new Nd(e,t,this.Ke,this.ke,r);return this.ke=gs(),this.qe=Dh(),this.Qe=Dh(),this.Ke=new Pt(Ke),i}Ue(e,t){if(!this.je(e))return;const r=this.ot(e,t.key)?2:0;this.ze(e).Fe(t.key,r),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e)),this.Qe=this.Qe.insert(t.key,this._t(t.key).add(e))}We(e,t,r){if(!this.je(e))return;const i=this.ze(e);this.ot(e,t)?i.Fe(t,1):i.Me(t),this.Qe=this.Qe.insert(t,this._t(t).delete(e)),this.Qe=this.Qe.insert(t,this._t(t).add(e)),r&&(this.ke=this.ke.insert(t,r))}removeTarget(e){this.Le.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let t=this.Le.get(e);return t||(t=new wx,this.Le.set(e,t)),t}_t(e){let t=this.Qe.get(e);return t||(t=new Jt(Ke),this.Qe=this.Qe.insert(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Jt(Ke),this.qe=this.qe.insert(e,t)),t}je(e){const t=this.Ye(e)!==null;return t||_e("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.Le.get(e);return t&&t.Se?null:this.Be.ut(e)}He(e){this.Le.set(e,new wx),this.Be.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}ot(e,t){return this.Be.getRemoteKeysForTarget(e).has(t)}}function Dh(){return new Pt(Ie.comparator)}function Tx(){return new Pt(Ie.comparator)}const g5={asc:"ASCENDING",desc:"DESCENDING"},y5={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_5={and:"AND",or:"OR"};class v5{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Fm(n,e){return n.useProto3Json||Rd(e)?e:{value:e}}function td(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function p4(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function x5(n,e){return td(n,e.toTimestamp())}function Oi(n){return tt(!!n),Me.fromTimestamp(function(t){const r=so(t);return new Zt(r.seconds,r.nanos)}(n))}function zg(n,e){return Lm(n,e).canonicalString()}function Lm(n,e){const t=function(i){return new Et(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function m4(n){const e=Et.fromString(n);return tt(x4(e)),e}function Nm(n,e){return zg(n.databaseId,e.path)}function Mp(n,e){const t=m4(e);if(t.get(1)!==n.databaseId.projectId)throw new Te(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Te(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ie(y4(t))}function g4(n,e){return zg(n.databaseId,e)}function E5(n){const e=m4(n);return e.length===4?Et.emptyPath():y4(e)}function Om(n){return new Et(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function y4(n){return tt(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function Ax(n,e,t){return{name:Nm(n,e),fields:t.value.mapValue.fields}}function w5(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Oe()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(f,p){return f.useProto3Json?(tt(p===void 0||typeof p=="string"),Tn.fromBase64String(p||"")):(tt(p===void 0||p instanceof Buffer||p instanceof Uint8Array),Tn.fromUint8Array(p||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&function(f){const p=f.code===void 0?ne.UNKNOWN:h4(f.code);return new Te(p,f.message||"")}(l);t=new d4(r,i,a,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Mp(n,r.document.name),a=Oi(r.document.updateTime),l=r.document.createTime?Oi(r.document.createTime):Me.min(),c=new xr({mapValue:{fields:r.document.fields}}),h=Ln.newFoundDocument(i,a,l,c),f=r.targetIds||[],p=r.removedTargetIds||[];t=new Zh(f,p,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Mp(n,r.document),a=r.readTime?Oi(r.readTime):Me.min(),l=Ln.newNoDocument(i,a),c=r.removedTargetIds||[];t=new Zh([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Mp(n,r.document),a=r.removedTargetIds||[];t=new Zh([],a,i,null)}else{if(!("filter"in e))return Oe();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,l=new h5(i,a),c=r.targetId;t=new f4(c,l)}}return t}function T5(n,e){let t;if(e instanceof lc)t={update:Ax(n,e.key,e.value)};else if(e instanceof Vg)t={delete:Nm(n,e.key)};else if(e instanceof mo)t={update:Ax(n,e.key,e.data),updateMask:D5(e.fieldMask)};else{if(!(e instanceof l5))return Oe();t={verify:Nm(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(a,l){const c=l.transform;if(c instanceof Jf)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof fl)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof dl)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof ed)return{fieldPath:l.field.canonicalString(),increment:c.Pe};throw Oe()}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:x5(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Oe()}(n,e.precondition)),t}function A5(n,e){return n&&n.length>0?(tt(e!==void 0),n.map(t=>function(i,a){let l=i.updateTime?Oi(i.updateTime):Oi(a);return l.isEqual(Me.min())&&(l=Oi(a)),new s5(l,i.transformResults||[])}(t,e))):[]}function C5(n,e){return{documents:[g4(n,e.path)]}}function k5(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=g4(n,i);const a=function(f){if(f.length!==0)return v4(_i.create(f,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const l=function(f){if(f.length!==0)return f.map(p=>function(y){return{field:Qa(y.field),direction:I5(y.dir)}}(p))}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const c=Fm(n,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(e.endAt)),{ct:t,parent:i}}function b5(n){let e=E5(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){tt(r===1);const p=t.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let a=[];t.where&&(a=function(_){const y=_4(_);return y instanceof _i&&GT(y)?y.getFilters():[y]}(t.where));let l=[];t.orderBy&&(l=function(_){return _.map(y=>function(w){return new Gu(Xa(w.field),function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(y))}(t.orderBy));let c=null;t.limit&&(c=function(_){let y;return y=typeof _=="object"?_.value:_,Rd(y)?null:y}(t.limit));let h=null;t.startAt&&(h=function(_){const y=!!_.before,E=_.values||[];return new Yf(E,y)}(t.startAt));let f=null;return t.endAt&&(f=function(_){const y=!_.before,E=_.values||[];return new Yf(E,y)}(t.endAt)),WI(e,i,l,a,c,"F",h,f)}function S5(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Oe()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function _4(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Xa(t.unaryFilter.field);return Ht.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Xa(t.unaryFilter.field);return Ht.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Xa(t.unaryFilter.field);return Ht.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Xa(t.unaryFilter.field);return Ht.create(l,"!=",{nullValue:"NULL_VALUE"});default:return Oe()}}(n):n.fieldFilter!==void 0?function(t){return Ht.create(Xa(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Oe()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return _i.create(t.compositeFilter.filters.map(r=>_4(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Oe()}}(t.compositeFilter.op))}(n):Oe()}function I5(n){return g5[n]}function R5(n){return y5[n]}function P5(n){return _5[n]}function Qa(n){return{fieldPath:n.canonicalString()}}function Xa(n){return wn.fromServerFormat(n.fieldPath)}function v4(n){return n instanceof Ht?function(t){if(t.op==="=="){if(hx(t.value))return{unaryFilter:{field:Qa(t.field),op:"IS_NAN"}};if(cx(t.value))return{unaryFilter:{field:Qa(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(hx(t.value))return{unaryFilter:{field:Qa(t.field),op:"IS_NOT_NAN"}};if(cx(t.value))return{unaryFilter:{field:Qa(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Qa(t.field),op:R5(t.op),value:t.value}}}(n):n instanceof _i?function(t){const r=t.getFilters().map(i=>v4(i));return r.length===1?r[0]:{compositeFilter:{op:P5(t.op),filters:r}}}(n):Oe()}function D5(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function x4(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(e,t,r,i,a=Me.min(),l=Me.min(),c=Tn.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=h}withSequenceNumber(e){return new Qs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Qs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Qs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Qs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B5{constructor(e){this.ht=e}}function F5(n){const e=b5({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Zf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L5{constructor(){this.ln=new N5}addToCollectionParentIndex(e,t){return this.ln.add(t),te.resolve()}getCollectionParents(e,t){return te.resolve(this.ln.getEntries(t))}addFieldIndex(e,t){return te.resolve()}deleteFieldIndex(e,t){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,t){return te.resolve()}getDocumentsMatchingTarget(e,t){return te.resolve(null)}getIndexType(e,t){return te.resolve(0)}getFieldIndexes(e,t){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,t){return te.resolve(io.min())}getMinOffsetFromCollectionGroup(e,t){return te.resolve(io.min())}updateCollectionGroup(e,t,r){return te.resolve()}updateIndexEntries(e,t){return te.resolve()}}class N5{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Jt(Et.comparator),a=!i.has(r);return this.index[t]=i.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Jt(Et.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class vr{static withCacheSize(e){return new vr(e,vr.DEFAULT_COLLECTION_PERCENTILE,vr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vr.DEFAULT_COLLECTION_PERCENTILE=10,vr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vr.DEFAULT=new vr(41943040,vr.DEFAULT_COLLECTION_PERCENTILE,vr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vr.DISABLED=new vr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new pl(0)}static Qn(){return new pl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kx([n,e],[t,r]){const i=Ke(n,t);return i===0?Ke(e,r):i}class O5{constructor(e){this.Gn=e,this.buffer=new Jt(kx),this.zn=0}jn(){return++this.zn}Hn(e){const t=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();kx(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class M5{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){_e("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){kl(t)?_e("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await Cl(t)}await this.Yn(3e5)})}}class V5{constructor(e,t){this.Zn=e,this.params=t}calculateTargetCount(e,t){return this.Zn.Xn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return te.resolve(Id.oe);const r=new O5(t);return this.Zn.forEachTarget(e,i=>r.Hn(i.sequenceNumber)).next(()=>this.Zn.er(e,i=>r.Hn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Zn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Zn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(_e("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(Cx)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(_e("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Cx):this.tr(e,t))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,t){let r,i,a,l,c,h,f;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(_e("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),i=this.params.maximumSequenceNumbersToCollect):i=_,l=Date.now(),this.nthSequenceNumber(e,i))).next(_=>(r=_,c=Date.now(),this.removeTargets(e,r,t))).next(_=>(a=_,h=Date.now(),this.removeOrphanedDocuments(e,r))).next(_=>(f=Date.now(),Ga()<=qe.DEBUG&&_e("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-p}ms
	Determined least recently used ${i} in `+(c-l)+`ms
	Removed ${a} targets in `+(h-c)+`ms
	Removed ${_} documents in `+(f-h)+`ms
Total Duration: ${f-p}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:_})))}}function U5(n,e){return new V5(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $5{constructor(){this.changes=new sa(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ln.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?te.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z5{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j5{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Pu(r.mutation,i,Rr.empty(),Zt.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,We()).next(()=>r))}getLocalViewOfDocuments(e,t,r=We()){const i=Wo();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(a=>{let l=Eu();return a.forEach((c,h)=>{l=l.insert(c,h.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const r=Wo();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,We()))}populateOverlays(e,t,r){const i=[];return r.forEach(a=>{t.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((l,c)=>{t.set(l,c)})})}computeViews(e,t,r,i){let a=gs();const l=Ru(),c=function(){return Ru()}();return t.forEach((h,f)=>{const p=r.get(f.key);i.has(f.key)&&(p===void 0||p.mutation instanceof mo)?a=a.insert(f.key,f):p!==void 0?(l.set(f.key,p.mutation.getFieldMask()),Pu(p.mutation,f,p.mutation.getFieldMask(),Zt.now())):l.set(f.key,Rr.empty())}),this.recalculateAndSaveOverlays(e,a).next(h=>(h.forEach((f,p)=>l.set(f,p)),t.forEach((f,p)=>{var _;return c.set(f,new z5(p,(_=l.get(f))!==null&&_!==void 0?_:null))}),c))}recalculateAndSaveOverlays(e,t){const r=Ru();let i=new Pt((l,c)=>l-c),a=We();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const c of l)c.keys().forEach(h=>{const f=t.get(h);if(f===null)return;let p=r.get(h)||Rr.empty();p=c.applyToLocalView(f,p),r.set(h,p);const _=(i.get(c.batchId)||We()).add(h);i=i.insert(c.batchId,_)})}).next(()=>{const l=[],c=i.getReverseIterator();for(;c.hasNext();){const h=c.getNext(),f=h.key,p=h.value,_=n4();p.forEach(y=>{if(!a.has(y)){const E=u4(t.get(y),r.get(y));E!==null&&_.set(y,E),a=a.add(y)}}),l.push(this.documentOverlayCache.saveOverlays(e,f,_))}return te.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(l){return Ie.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):YT(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(a=>{const l=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-a.size):te.resolve(Wo());let c=-1,h=a;return l.next(f=>te.forEach(f,(p,_)=>(c<_.largestBatchId&&(c=_.largestBatchId),a.get(p)?te.resolve():this.remoteDocumentCache.getEntry(e,p).next(y=>{h=h.insert(p,y)}))).next(()=>this.populateOverlays(e,f,a)).next(()=>this.computeViews(e,h,f,We())).next(p=>({batchId:c,changes:t4(p)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ie(t)).next(r=>{let i=Eu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const a=t.collectionGroup;let l=Eu();return this.indexManager.getCollectionParents(e,a).next(c=>te.forEach(c,h=>{const f=function(_,y){return new bl(y,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(t,h.child(a));return this.getDocumentsMatchingCollectionQuery(e,f,r,i).next(p=>{p.forEach((_,y)=>{l=l.insert(_,y)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,i))).next(l=>{a.forEach((h,f)=>{const p=f.getKey();l.get(p)===null&&(l=l.insert(p,Ln.newInvalidDocument(p)))});let c=Eu();return l.forEach((h,f)=>{const p=a.get(h);p!==void 0&&Pu(p.mutation,f,Rr.empty(),Zt.now()),Bd(t,f)&&(c=c.insert(h,f))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H5{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,t){return te.resolve(this.Tr.get(t))}saveBundleMetadata(e,t){return this.Tr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:Oi(i.createTime)}}(t)),te.resolve()}getNamedQuery(e,t){return te.resolve(this.Ir.get(t))}saveNamedQuery(e,t){return this.Ir.set(t.name,function(i){return{name:i.name,query:F5(i.bundledQuery),readTime:Oi(i.readTime)}}(t)),te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q5{constructor(){this.overlays=new Pt(Ie.comparator),this.dr=new Map}getOverlay(e,t){return te.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Wo();return te.forEach(t,i=>this.getOverlay(e,i).next(a=>{a!==null&&r.set(i,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,a)=>{this.Tt(e,t,a)}),te.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.dr.get(r);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.dr.delete(r)),te.resolve()}getOverlaysForCollection(e,t,r){const i=Wo(),a=t.length+1,l=new Ie(t.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const h=c.getNext().value,f=h.getKey();if(!t.isPrefixOf(f.path))break;f.path.length===a&&h.largestBatchId>r&&i.set(h.getKey(),h)}return te.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let a=new Pt((f,p)=>f-p);const l=this.overlays.getIterator();for(;l.hasNext();){const f=l.getNext().value;if(f.getKey().getCollectionGroup()===t&&f.largestBatchId>r){let p=a.get(f.largestBatchId);p===null&&(p=Wo(),a=a.insert(f.largestBatchId,p)),p.set(f.getKey(),f)}}const c=Wo(),h=a.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((f,p)=>c.set(f,p)),!(c.size()>=i)););return te.resolve(c)}Tt(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.dr.get(i.largestBatchId).delete(r.key);this.dr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new c5(t,r));let a=this.dr.get(t);a===void 0&&(a=We(),this.dr.set(t,a)),this.dr.set(t,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W5{constructor(){this.sessionToken=Tn.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,te.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jg{constructor(){this.Er=new Jt(un.Ar),this.Rr=new Jt(un.Vr)}isEmpty(){return this.Er.isEmpty()}addReference(e,t){const r=new un(e,t);this.Er=this.Er.add(r),this.Rr=this.Rr.add(r)}mr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.gr(new un(e,t))}pr(e,t){e.forEach(r=>this.removeReference(r,t))}yr(e){const t=new Ie(new Et([])),r=new un(t,e),i=new un(t,e+1),a=[];return this.Rr.forEachInRange([r,i],l=>{this.gr(l),a.push(l.key)}),a}wr(){this.Er.forEach(e=>this.gr(e))}gr(e){this.Er=this.Er.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const t=new Ie(new Et([])),r=new un(t,e),i=new un(t,e+1);let a=We();return this.Rr.forEachInRange([r,i],l=>{a=a.add(l.key)}),a}containsKey(e){const t=new un(e,0),r=this.Er.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class un{constructor(e,t){this.key=e,this.br=t}static Ar(e,t){return Ie.comparator(e.key,t.key)||Ke(e.br,t.br)}static Vr(e,t){return Ke(e.br,t.br)||Ie.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G5{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Dr=1,this.vr=new Jt(un.Ar)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const a=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new u5(a,t,r,i);this.mutationQueue.push(l);for(const c of i)this.vr=this.vr.add(new un(c.key,a)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return te.resolve(l)}lookupMutationBatch(e,t){return te.resolve(this.Cr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.Fr(r),a=i<0?0:i;return te.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new un(t,0),i=new un(t,Number.POSITIVE_INFINITY),a=[];return this.vr.forEachInRange([r,i],l=>{const c=this.Cr(l.br);a.push(c)}),te.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Jt(Ke);return t.forEach(i=>{const a=new un(i,0),l=new un(i,Number.POSITIVE_INFINITY);this.vr.forEachInRange([a,l],c=>{r=r.add(c.br)})}),te.resolve(this.Mr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let a=r;Ie.isDocumentKey(a)||(a=a.child(""));const l=new un(new Ie(a),0);let c=new Jt(Ke);return this.vr.forEachWhile(h=>{const f=h.key.path;return!!r.isPrefixOf(f)&&(f.length===i&&(c=c.add(h.br)),!0)},l),te.resolve(this.Mr(c))}Mr(e){const t=[];return e.forEach(r=>{const i=this.Cr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){tt(this.Or(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.vr;return te.forEach(t.mutations,i=>{const a=new un(i.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.vr=r})}Bn(e){}containsKey(e,t){const r=new un(t,0),i=this.vr.firstAfterOrEqual(r);return te.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}Or(e,t){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const t=this.Fr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K5{constructor(e){this.Nr=e,this.docs=function(){return new Pt(Ie.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),a=i?i.size:0,l=this.Nr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return te.resolve(r?r.document.mutableCopy():Ln.newInvalidDocument(t))}getEntries(e,t){let r=gs();return t.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():Ln.newInvalidDocument(i))}),te.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let a=gs();const l=t.path,c=new Ie(l.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(c);for(;h.hasNext();){const{key:f,value:{document:p}}=h.getNext();if(!l.isPrefixOf(f.path))break;f.path.length>l.length+1||CI(AI(p),r)<=0||(i.has(p.key)||Bd(t,p))&&(a=a.insert(p.key,p.mutableCopy()))}return te.resolve(a)}getAllFromCollectionGroup(e,t,r,i){Oe()}Br(e,t){return te.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new Q5(this)}getSize(e){return te.resolve(this.size)}}class Q5 extends $5{constructor(e){super(),this.hr=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.hr.addEntry(e,i)):this.hr.removeEntry(r)}),te.waitFor(t)}getFromCache(e,t){return this.hr.getEntry(e,t)}getAllFromCache(e,t){return this.hr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X5{constructor(e){this.persistence=e,this.Lr=new sa(t=>Lg(t),Ng),this.lastRemoteSnapshotVersion=Me.min(),this.highestTargetId=0,this.kr=0,this.qr=new jg,this.targetCount=0,this.Qr=pl.qn()}forEachTarget(e,t){return this.Lr.forEach((r,i)=>t(i)),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.kr&&(this.kr=t),te.resolve()}Un(e){this.Lr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Qr=new pl(t),this.highestTargetId=t),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,t){return this.Un(t),this.targetCount+=1,te.resolve()}updateTargetData(e,t){return this.Un(t),te.resolve()}removeTargetData(e,t){return this.Lr.delete(t.target),this.qr.yr(t.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,t,r){let i=0;const a=[];return this.Lr.forEach((l,c)=>{c.sequenceNumber<=t&&r.get(c.targetId)===null&&(this.Lr.delete(l),a.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),te.waitFor(a).next(()=>i)}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,t){const r=this.Lr.get(t)||null;return te.resolve(r)}addMatchingKeys(e,t,r){return this.qr.mr(t,r),te.resolve()}removeMatchingKeys(e,t,r){this.qr.pr(t,r);const i=this.persistence.referenceDelegate,a=[];return i&&t.forEach(l=>{a.push(i.markPotentiallyOrphaned(e,l))}),te.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.qr.yr(t),te.resolve()}getMatchingKeysForTargetId(e,t){const r=this.qr.Sr(t);return te.resolve(r)}containsKey(e,t){return te.resolve(this.qr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E4{constructor(e,t){this.Kr={},this.overlays={},this.$r=new Id(0),this.Ur=!1,this.Ur=!0,this.Wr=new W5,this.referenceDelegate=e(this),this.Gr=new X5(this),this.indexManager=new L5,this.remoteDocumentCache=function(i){return new K5(i)}(r=>this.referenceDelegate.zr(r)),this.serializer=new B5(t),this.jr=new H5(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new q5,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Kr[e.toKey()];return r||(r=new G5(t,this.referenceDelegate),this.Kr[e.toKey()]=r),r}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,t,r){_e("MemoryPersistence","Starting transaction:",e);const i=new Y5(this.$r.next());return this.referenceDelegate.Hr(),r(i).next(a=>this.referenceDelegate.Jr(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Yr(e,t){return te.or(Object.values(this.Kr).map(r=>()=>r.containsKey(e,t)))}}class Y5 extends bI{constructor(e){super(),this.currentSequenceNumber=e}}class Hg{constructor(e){this.persistence=e,this.Zr=new jg,this.Xr=null}static ei(e){return new Hg(e)}get ti(){if(this.Xr)return this.Xr;throw Oe()}addReference(e,t,r){return this.Zr.addReference(r,t),this.ti.delete(r.toString()),te.resolve()}removeReference(e,t,r){return this.Zr.removeReference(r,t),this.ti.add(r.toString()),te.resolve()}markPotentiallyOrphaned(e,t){return this.ti.add(t.toString()),te.resolve()}removeTarget(e,t){this.Zr.yr(t.targetId).forEach(i=>this.ti.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(a=>this.ti.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}Hr(){this.Xr=new Set}Jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.ti,r=>{const i=Ie.fromPath(r);return this.ni(e,i).next(a=>{a||t.removeEntry(i,Me.min())})}).next(()=>(this.Xr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ni(e,t).next(r=>{r?this.ti.delete(t.toString()):this.ti.add(t.toString())})}zr(e){return 0}ni(e,t){return te.or([()=>te.resolve(this.Zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Yr(e,t)])}}class nd{constructor(e,t){this.persistence=e,this.ri=new sa(r=>RI(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=U5(this,t)}static ei(e,t){return new nd(e,t)}Hr(){}Jr(e){return te.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Xn(e){const t=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}nr(e){let t=0;return this.er(e,r=>{t++}).next(()=>t)}er(e,t){return te.forEach(this.ri,(r,i)=>this.ir(e,r,i).next(a=>a?te.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.Br(e,l=>this.ir(e,l,t).next(c=>{c||(r++,a.removeEntry(l,Me.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.ri.set(t,e.currentSequenceNumber),te.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.ri.set(r,e.currentSequenceNumber),te.resolve()}removeReference(e,t,r){return this.ri.set(r,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,t){return this.ri.set(t,e.currentSequenceNumber),te.resolve()}zr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Qh(e.data.value)),t}ir(e,t,r){return te.or([()=>this.persistence.Yr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.ri.get(t);return te.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Wi=r,this.Gi=i}static zi(e,t){let r=We(),i=We();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new qg(e,t.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z5{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J5{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return Ub()?8:SI(On())>0?6:4}()}initialize(e,t){this.Zi=e,this.indexManager=t,this.ji=!0}getDocumentsMatchingQuery(e,t,r,i){const a={result:null};return this.Xi(e,t).next(l=>{a.result=l}).next(()=>{if(!a.result)return this.es(e,t,i,r).next(l=>{a.result=l})}).next(()=>{if(a.result)return;const l=new Z5;return this.ts(e,t,l).next(c=>{if(a.result=c,this.Hi)return this.ns(e,t,l,c.size)})}).next(()=>a.result)}ns(e,t,r,i){return r.documentReadCount<this.Ji?(Ga()<=qe.DEBUG&&_e("QueryEngine","SDK will not create cache indexes for query:",Ka(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),te.resolve()):(Ga()<=qe.DEBUG&&_e("QueryEngine","Query:",Ka(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Yi*i?(Ga()<=qe.DEBUG&&_e("QueryEngine","The SDK decides to create cache indexes for query:",Ka(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ni(t))):te.resolve())}Xi(e,t){if(mx(t))return te.resolve(null);let r=Ni(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=Zf(t,null,"F"),r=Ni(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const l=We(...a);return this.Zi.getDocuments(e,l).next(c=>this.indexManager.getMinOffset(e,r).next(h=>{const f=this.rs(t,c);return this.ss(t,f,l,h.readTime)?this.Xi(e,Zf(t,null,"F")):this.os(e,f,t,h)}))})))}es(e,t,r,i){return mx(t)||i.isEqual(Me.min())?te.resolve(null):this.Zi.getDocuments(e,r).next(a=>{const l=this.rs(t,a);return this.ss(t,l,r,i)?te.resolve(null):(Ga()<=qe.DEBUG&&_e("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ka(t)),this.os(e,l,t,TI(i,-1)).next(c=>c))})}rs(e,t){let r=new Jt(JT(e));return t.forEach((i,a)=>{Bd(e,a)&&(r=r.add(a))}),r}ss(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}ts(e,t,r){return Ga()<=qe.DEBUG&&_e("QueryEngine","Using full collection scan to execute query:",Ka(t)),this.Zi.getDocumentsMatchingQuery(e,t,io.min(),r)}os(e,t,r,i){return this.Zi.getDocumentsMatchingQuery(e,r,i).next(a=>(t.forEach(l=>{a=a.insert(l.key,l)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{constructor(e,t,r,i){this.persistence=e,this._s=t,this.serializer=i,this.us=new Pt(Ke),this.cs=new sa(a=>Lg(a),Ng),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(r)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new j5(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.us))}}function tR(n,e,t,r){return new eR(n,e,t,r)}async function w4(n,e){const t=Ue(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,t.Ps(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const l=[],c=[];let h=We();for(const f of i){l.push(f.batchId);for(const p of f.mutations)h=h.add(p.key)}for(const f of a){c.push(f.batchId);for(const p of f.mutations)h=h.add(p.key)}return t.localDocuments.getDocuments(r,h).next(f=>({Ts:f,removedBatchIds:l,addedBatchIds:c}))})})}function nR(n,e){const t=Ue(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=t.hs.newChangeBuffer({trackRemovals:!0});return function(c,h,f,p){const _=f.batch,y=_.keys();let E=te.resolve();return y.forEach(w=>{E=E.next(()=>p.getEntry(h,w)).next(k=>{const A=f.docVersions.get(w);tt(A!==null),k.version.compareTo(A)<0&&(_.applyToRemoteDocument(k,f),k.isValidDocument()&&(k.setReadTime(f.commitVersion),p.addEntry(k)))})}),E.next(()=>c.mutationQueue.removeMutationBatch(h,_))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let h=We();for(let f=0;f<c.mutationResults.length;++f)c.mutationResults[f].transformResults.length>0&&(h=h.add(c.batch.mutations[f].key));return h}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function T4(n){const e=Ue(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Gr.getLastRemoteSnapshotVersion(t))}function rR(n,e){const t=Ue(n),r=e.snapshotVersion;let i=t.us;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const l=t.hs.newChangeBuffer({trackRemovals:!0});i=t.us;const c=[];e.targetChanges.forEach((p,_)=>{const y=i.get(_);if(!y)return;c.push(t.Gr.removeMatchingKeys(a,p.removedDocuments,_).next(()=>t.Gr.addMatchingKeys(a,p.addedDocuments,_)));let E=y.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(_)!==null?E=E.withResumeToken(Tn.EMPTY_BYTE_STRING,Me.min()).withLastLimboFreeSnapshotVersion(Me.min()):p.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(p.resumeToken,r)),i=i.insert(_,E),function(k,A,L){return k.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=3e8?!0:L.addedDocuments.size+L.modifiedDocuments.size+L.removedDocuments.size>0}(y,E,p)&&c.push(t.Gr.updateTargetData(a,E))});let h=gs(),f=We();if(e.documentUpdates.forEach(p=>{e.resolvedLimboDocuments.has(p)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(a,p))}),c.push(iR(a,l,e.documentUpdates).next(p=>{h=p.Is,f=p.ds})),!r.isEqual(Me.min())){const p=t.Gr.getLastRemoteSnapshotVersion(a).next(_=>t.Gr.setTargetsMetadata(a,a.currentSequenceNumber,r));c.push(p)}return te.waitFor(c).next(()=>l.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,h,f)).next(()=>h)}).then(a=>(t.us=i,a))}function iR(n,e,t){let r=We(),i=We();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let l=gs();return t.forEach((c,h)=>{const f=a.get(c);h.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(c)),h.isNoDocument()&&h.version.isEqual(Me.min())?(e.removeEntry(c,h.readTime),l=l.insert(c,h)):!f.isValidDocument()||h.version.compareTo(f.version)>0||h.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(h),l=l.insert(c,h)):_e("LocalStore","Ignoring outdated watch update for ",c,". Current version:",f.version," Watch version:",h.version)}),{Is:l,ds:i}})}function sR(n,e){const t=Ue(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function oR(n,e){const t=Ue(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Gr.getTargetData(r,e).next(a=>a?(i=a,te.resolve(i)):t.Gr.allocateTargetId(r).next(l=>(i=new Qs(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.Gr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.us.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.us=t.us.insert(r.targetId,r),t.cs.set(e,r.targetId)),r})}async function Mm(n,e,t){const r=Ue(n),i=r.us.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,l=>r.persistence.referenceDelegate.removeTarget(l,i))}catch(l){if(!kl(l))throw l;_e("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}r.us=r.us.remove(e),r.cs.delete(i.target)}function bx(n,e,t){const r=Ue(n);let i=Me.min(),a=We();return r.persistence.runTransaction("Execute query","readwrite",l=>function(h,f,p){const _=Ue(h),y=_.cs.get(p);return y!==void 0?te.resolve(_.us.get(y)):_.Gr.getTargetData(f,p)}(r,l,Ni(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Gr.getMatchingKeysForTargetId(l,c.targetId).next(h=>{a=h})}).next(()=>r._s.getDocumentsMatchingQuery(l,e,t?i:Me.min(),t?a:We())).next(c=>(aR(r,KI(e),c),{documents:c,Es:a})))}function aR(n,e,t){let r=n.ls.get(e)||Me.min();t.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.ls.set(e,r)}class Sx{constructor(){this.activeTargetIds=e5()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class lR{constructor(){this._o=new Sx,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,t,r){this.ao[e]=t}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new Sx,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){_e("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){_e("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bh=null;function Vp(){return Bh===null?Bh=function(){return 268435456+Math.round(2147483648*Math.random())}():Bh++,"0x"+Bh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pn="WebChannelConnection";class fR extends class{get Co(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Fo=r+"://"+t.host,this.Mo=`projects/${i}/databases/${a}`,this.xo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${a}`}Oo(t,r,i,a,l){const c=Vp(),h=this.No(t,r.toUriEncodedString());_e("RestConnection",`Sending RPC '${t}' ${c}:`,h,i);const f={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Bo(f,a,l),this.Lo(t,h,f,i).then(p=>(_e("RestConnection",`Received RPC '${t}' ${c}: `,p),p),p=>{throw ll("RestConnection",`RPC '${t}' ${c} failed with error: `,p,"url: ",h,"request:",i),p})}ko(t,r,i,a,l,c){return this.Oo(t,r,i,a,l)}Bo(t,r,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Al}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((a,l)=>t[l]=a),i&&i.headers.forEach((a,l)=>t[l]=a)}No(t,r){const i=cR[t];return`${this.Fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Lo(e,t,r,i){const a=Vp();return new Promise((l,c)=>{const h=new LT;h.setWithCredentials(!0),h.listenOnce(NT.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case Kh.NO_ERROR:const p=h.getResponseJson();_e(Pn,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(p)),l(p);break;case Kh.TIMEOUT:_e(Pn,`RPC '${e}' ${a} timed out`),c(new Te(ne.DEADLINE_EXCEEDED,"Request time out"));break;case Kh.HTTP_ERROR:const _=h.getStatus();if(_e(Pn,`RPC '${e}' ${a} failed with status:`,_,"response text:",h.getResponseText()),_>0){let y=h.getResponseJson();Array.isArray(y)&&(y=y[0]);const E=y==null?void 0:y.error;if(E&&E.status&&E.message){const w=function(A){const L=A.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(L)>=0?L:ne.UNKNOWN}(E.status);c(new Te(w,E.message))}else c(new Te(ne.UNKNOWN,"Server responded with status "+h.getStatus()))}else c(new Te(ne.UNAVAILABLE,"Connection failed."));break;default:Oe()}}finally{_e(Pn,`RPC '${e}' ${a} completed.`)}});const f=JSON.stringify(i);_e(Pn,`RPC '${e}' ${a} sending request:`,i),h.send(t,"POST",f,r,15)})}qo(e,t,r){const i=Vp(),a=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=VT(),c=MT(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(h.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Bo(h.initMessageHeaders,t,r),h.encodeInitMessageHeaders=!0;const p=a.join("");_e(Pn,`Creating RPC '${e}' stream ${i}: ${p}`,h);const _=l.createWebChannel(p,h);let y=!1,E=!1;const w=new hR({Eo:A=>{E?_e(Pn,`Not sending because RPC '${e}' stream ${i} is closed:`,A):(y||(_e(Pn,`Opening RPC '${e}' stream ${i} transport.`),_.open(),y=!0),_e(Pn,`RPC '${e}' stream ${i} sending:`,A),_.send(A))},Ao:()=>_.close()}),k=(A,L,b)=>{A.listen(L,S=>{try{b(S)}catch(B){setTimeout(()=>{throw B},0)}})};return k(_,xu.EventType.OPEN,()=>{E||(_e(Pn,`RPC '${e}' stream ${i} transport opened.`),w.So())}),k(_,xu.EventType.CLOSE,()=>{E||(E=!0,_e(Pn,`RPC '${e}' stream ${i} transport closed`),w.Do())}),k(_,xu.EventType.ERROR,A=>{E||(E=!0,ll(Pn,`RPC '${e}' stream ${i} transport errored:`,A),w.Do(new Te(ne.UNAVAILABLE,"The operation could not be completed")))}),k(_,xu.EventType.MESSAGE,A=>{var L;if(!E){const b=A.data[0];tt(!!b);const S=b,B=(S==null?void 0:S.error)||((L=S[0])===null||L===void 0?void 0:L.error);if(B){_e(Pn,`RPC '${e}' stream ${i} received error:`,B);const U=B.status;let z=function(N){const P=jt[N];if(P!==void 0)return h4(P)}(U),I=B.message;z===void 0&&(z=ne.INTERNAL,I="Unknown error status: "+U+" with message "+B.message),E=!0,w.Do(new Te(z,I)),_.close()}else _e(Pn,`RPC '${e}' stream ${i} received:`,b),w.vo(b)}}),k(c,OT.STAT_EVENT,A=>{A.stat===Sm.PROXY?_e(Pn,`RPC '${e}' stream ${i} detected buffering proxy`):A.stat===Sm.NOPROXY&&_e(Pn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{w.bo()},0),w}}function Up(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Od(n){return new v5(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A4{constructor(e,t,r=1e3,i=1.5,a=6e4){this.li=e,this.timerId=t,this.Qo=r,this.Ko=i,this.$o=a,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const t=Math.floor(this.Uo+this.Ho()),r=Math.max(0,Date.now()-this.Go),i=Math.max(0,t-r);i>0&&_e("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Uo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,i,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C4{constructor(e,t,r,i,a,l,c,h){this.li=e,this.Yo=r,this.Zo=i,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=h,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new A4(e,t)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,t){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():t&&t.code===ne.RESOURCE_EXHAUSTED?(ms(t.toString()),ms("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):t&&t.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(t)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),t=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Xo===t&&this.I_(r,i)},r=>{e(()=>{const i=new Te(ne.UNKNOWN,"Fetching auth token failed: "+r.message);return this.d_(i)})})}I_(e,t){const r=this.T_(this.Xo);this.stream=this.E_(e,t),this.stream.Ro(()=>{r(()=>this.listener.Ro())}),this.stream.mo(()=>{r(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(i=>{r(()=>this.d_(i))}),this.stream.onMessage(i=>{r(()=>++this.n_==1?this.A_(i):this.onNext(i))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}d_(e){return _e("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return t=>{this.li.enqueueAndForget(()=>this.Xo===e?t():(_e("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class dR extends C4{constructor(e,t,r,i,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,l),this.serializer=a}E_(e,t){return this.connection.qo("Listen",e,t)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const t=w5(this.serializer,e),r=function(a){if(!("targetChange"in a))return Me.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?Me.min():l.readTime?Oi(l.readTime):Me.min()}(e);return this.listener.R_(t,r)}V_(e){const t={};t.database=Om(this.serializer),t.addTarget=function(a,l){let c;const h=l.target;if(c=Dm(h)?{documents:C5(a,h)}:{query:k5(a,h).ct},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=p4(a,l.resumeToken);const f=Fm(a,l.expectedCount);f!==null&&(c.expectedCount=f)}else if(l.snapshotVersion.compareTo(Me.min())>0){c.readTime=td(a,l.snapshotVersion.toTimestamp());const f=Fm(a,l.expectedCount);f!==null&&(c.expectedCount=f)}return c}(this.serializer,e);const r=S5(this.serializer,e);r&&(t.labels=r),this.c_(t)}m_(e){const t={};t.database=Om(this.serializer),t.removeTarget=e,this.c_(t)}}class pR extends C4{constructor(e,t,r,i,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,l),this.serializer=a}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}E_(e,t){return this.connection.qo("Write",e,t)}A_(e){return tt(!!e.streamToken),this.lastStreamToken=e.streamToken,tt(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){tt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const t=A5(e.writeResults,e.commitTime),r=Oi(e.commitTime);return this.listener.y_(r,t)}w_(){const e={};e.database=Om(this.serializer),this.c_(e)}g_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>T5(this.serializer,r))};this.c_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.S_=!1}b_(){if(this.S_)throw new Te(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,t,r,i){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Oo(e,Lm(t,r),i,a,l)).catch(a=>{throw a.name==="FirebaseError"?(a.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Te(ne.UNKNOWN,a.toString())})}ko(e,t,r,i,a){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.ko(e,Lm(t,r),i,l,c,a)).catch(l=>{throw l.name==="FirebaseError"?(l.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Te(ne.UNKNOWN,l.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class gR{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(ms(t),this.C_=!1):_e("OnlineStateTracker",t)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(e,t,r,i,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.B_=[],this.L_=new Map,this.k_=new Set,this.q_=[],this.Q_=a,this.Q_.uo(l=>{r.enqueueAndForget(async()=>{oa(this)&&(_e("RemoteStore","Restarting streams for network reachability change."),await async function(h){const f=Ue(h);f.k_.add(4),await cc(f),f.K_.set("Unknown"),f.k_.delete(4),await Md(f)}(this))})}),this.K_=new gR(r,i)}}async function Md(n){if(oa(n))for(const e of n.q_)await e(!0)}async function cc(n){for(const e of n.q_)await e(!1)}function k4(n,e){const t=Ue(n);t.L_.has(e.targetId)||(t.L_.set(e.targetId,e),Qg(t)?Kg(t):Sl(t).s_()&&Gg(t,e))}function Wg(n,e){const t=Ue(n),r=Sl(t);t.L_.delete(e),r.s_()&&b4(t,e),t.L_.size===0&&(r.s_()?r.a_():oa(t)&&t.K_.set("Unknown"))}function Gg(n,e){if(n.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Me.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Sl(n).V_(e)}function b4(n,e){n.U_.xe(e),Sl(n).m_(e)}function Kg(n){n.U_=new m5({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>n.L_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),Sl(n).start(),n.K_.F_()}function Qg(n){return oa(n)&&!Sl(n).i_()&&n.L_.size>0}function oa(n){return Ue(n).k_.size===0}function S4(n){n.U_=void 0}async function _R(n){n.K_.set("Online")}async function vR(n){n.L_.forEach((e,t)=>{Gg(n,e)})}async function xR(n,e){S4(n),Qg(n)?(n.K_.O_(e),Kg(n)):n.K_.set("Unknown")}async function ER(n,e,t){if(n.K_.set("Online"),e instanceof d4&&e.state===2&&e.cause)try{await async function(i,a){const l=a.cause;for(const c of a.targetIds)i.L_.has(c)&&(await i.remoteSyncer.rejectListen(c,l),i.L_.delete(c),i.U_.removeTarget(c))}(n,e)}catch(r){_e("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await rd(n,r)}else if(e instanceof Zh?n.U_.$e(e):e instanceof f4?n.U_.Je(e):n.U_.Ge(e),!t.isEqual(Me.min()))try{const r=await T4(n.localStore);t.compareTo(r)>=0&&await function(a,l){const c=a.U_.it(l);return c.targetChanges.forEach((h,f)=>{if(h.resumeToken.approximateByteSize()>0){const p=a.L_.get(f);p&&a.L_.set(f,p.withResumeToken(h.resumeToken,l))}}),c.targetMismatches.forEach((h,f)=>{const p=a.L_.get(h);if(!p)return;a.L_.set(h,p.withResumeToken(Tn.EMPTY_BYTE_STRING,p.snapshotVersion)),b4(a,h);const _=new Qs(p.target,h,f,p.sequenceNumber);Gg(a,_)}),a.remoteSyncer.applyRemoteEvent(c)}(n,t)}catch(r){_e("RemoteStore","Failed to raise snapshot:",r),await rd(n,r)}}async function rd(n,e,t){if(!kl(e))throw e;n.k_.add(1),await cc(n),n.K_.set("Offline"),t||(t=()=>T4(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{_e("RemoteStore","Retrying IndexedDB access"),await t(),n.k_.delete(1),await Md(n)})}function I4(n,e){return e().catch(t=>rd(n,t,e))}async function Vd(n){const e=Ue(n),t=lo(e);let r=e.B_.length>0?e.B_[e.B_.length-1].batchId:-1;for(;wR(e);)try{const i=await sR(e.localStore,r);if(i===null){e.B_.length===0&&t.a_();break}r=i.batchId,TR(e,i)}catch(i){await rd(e,i)}R4(e)&&P4(e)}function wR(n){return oa(n)&&n.B_.length<10}function TR(n,e){n.B_.push(e);const t=lo(n);t.s_()&&t.f_&&t.g_(e.mutations)}function R4(n){return oa(n)&&!lo(n).i_()&&n.B_.length>0}function P4(n){lo(n).start()}async function AR(n){lo(n).w_()}async function CR(n){const e=lo(n);for(const t of n.B_)e.g_(t.mutations)}async function kR(n,e,t){const r=n.B_.shift(),i=Ug.from(r,e,t);await I4(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await Vd(n)}async function bR(n,e){e&&lo(n).f_&&await async function(r,i){if(function(l){return f5(l)&&l!==ne.ABORTED}(i.code)){const a=r.B_.shift();lo(r).__(),await I4(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i)),await Vd(r)}}(n,e),R4(n)&&P4(n)}async function Rx(n,e){const t=Ue(n);t.asyncQueue.verifyOperationInProgress(),_e("RemoteStore","RemoteStore received new credentials");const r=oa(t);t.k_.add(3),await cc(t),r&&t.K_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.k_.delete(3),await Md(t)}async function SR(n,e){const t=Ue(n);e?(t.k_.delete(2),await Md(t)):e||(t.k_.add(2),await cc(t),t.K_.set("Unknown"))}function Sl(n){return n.W_||(n.W_=function(t,r,i){const a=Ue(t);return a.b_(),new dR(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(n.datastore,n.asyncQueue,{Ro:_R.bind(null,n),mo:vR.bind(null,n),po:xR.bind(null,n),R_:ER.bind(null,n)}),n.q_.push(async e=>{e?(n.W_.__(),Qg(n)?Kg(n):n.K_.set("Unknown")):(await n.W_.stop(),S4(n))})),n.W_}function lo(n){return n.G_||(n.G_=function(t,r,i){const a=Ue(t);return a.b_(),new pR(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(n.datastore,n.asyncQueue,{Ro:()=>Promise.resolve(),mo:AR.bind(null,n),po:bR.bind(null,n),p_:CR.bind(null,n),y_:kR.bind(null,n)}),n.q_.push(async e=>{e?(n.G_.__(),await Vd(n)):(await n.G_.stop(),n.B_.length>0&&(_e("RemoteStore",`Stopping write stream with ${n.B_.length} pending writes`),n.B_=[]))})),n.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xg{constructor(e,t,r,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Qo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,a){const l=Date.now()+r,c=new Xg(e,t,l,i,a);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Te(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Yg(n,e){if(ms("AsyncQueue",`${e}: ${n}`),kl(n))return new Te(ne.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{static emptySet(e){return new sl(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ie.comparator(t.key,r.key):(t,r)=>Ie.comparator(t.key,r.key),this.keyedMap=Eu(),this.sortedSet=new Pt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof sl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new sl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px{constructor(){this.z_=new Pt(Ie.comparator)}track(e){const t=e.doc.key,r=this.z_.get(t);r?e.type!==0&&r.type===3?this.z_=this.z_.insert(t,e):e.type===3&&r.type!==1?this.z_=this.z_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.z_=this.z_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.z_=this.z_.remove(t):e.type===1&&r.type===2?this.z_=this.z_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):Oe():this.z_=this.z_.insert(t,e)}j_(){const e=[];return this.z_.inorderTraversal((t,r)=>{e.push(r)}),e}}class ml{constructor(e,t,r,i,a,l,c,h,f){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=h,this.hasCachedResults=f}static fromInitialDocuments(e,t,r,i,a){const l=[];return t.forEach(c=>{l.push({type:0,doc:c})}),new ml(e,t,sl.emptySet(t),l,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Dd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class RR{constructor(){this.queries=Dx(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(t,r){const i=Ue(t),a=i.queries;i.queries=Dx(),a.forEach((l,c)=>{for(const h of c.J_)h.onError(r)})})(this,new Te(ne.ABORTED,"Firestore shutting down"))}}function Dx(){return new sa(n=>ZT(n),Dd)}async function PR(n,e){const t=Ue(n);let r=3;const i=e.query;let a=t.queries.get(i);a?!a.Y_()&&e.Z_()&&(r=2):(a=new IR,r=e.Z_()?0:1);try{switch(r){case 0:a.H_=await t.onListen(i,!0);break;case 1:a.H_=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(l){const c=Yg(l,`Initialization of query '${Ka(e.query)}' failed`);return void e.onError(c)}t.queries.set(i,a),a.J_.push(e),e.ea(t.onlineState),a.H_&&e.ta(a.H_)&&Zg(t)}async function DR(n,e){const t=Ue(n),r=e.query;let i=3;const a=t.queries.get(r);if(a){const l=a.J_.indexOf(e);l>=0&&(a.J_.splice(l,1),a.J_.length===0?i=e.Z_()?0:1:!a.Y_()&&e.Z_()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function BR(n,e){const t=Ue(n);let r=!1;for(const i of e){const a=i.query,l=t.queries.get(a);if(l){for(const c of l.J_)c.ta(i)&&(r=!0);l.H_=i}}r&&Zg(t)}function FR(n,e,t){const r=Ue(n),i=r.queries.get(e);if(i)for(const a of i.J_)a.onError(t);r.queries.delete(e)}function Zg(n){n.X_.forEach(e=>{e.next()})}var Vm,Bx;(Bx=Vm||(Vm={})).na="default",Bx.Cache="cache";class LR{constructor(e,t,r){this.query=e,this.ra=t,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=r||{}}ta(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new ml(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ia?this.oa(e)&&(this.ra.next(e),t=!0):this._a(e,this.onlineState)&&(this.aa(e),t=!0),this.sa=e,t}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let t=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),t=!0),t}_a(e,t){if(!e.fromCache||!this.Z_())return!0;const r=t!=="Offline";return(!this.options.ua||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const t=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}aa(e){e=ml.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==Vm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D4{constructor(e){this.key=e}}class B4{constructor(e){this.key=e}}class NR{constructor(e,t){this.query=e,this.Ea=t,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=We(),this.mutatedKeys=We(),this.Va=JT(e),this.ma=new sl(this.Va)}get fa(){return this.Ea}ga(e,t){const r=t?t.pa:new Px,i=t?t.ma:this.ma;let a=t?t.mutatedKeys:this.mutatedKeys,l=i,c=!1;const h=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((p,_)=>{const y=i.get(p),E=Bd(this.query,_)?_:null,w=!!y&&this.mutatedKeys.has(y.key),k=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let A=!1;y&&E?y.data.isEqual(E.data)?w!==k&&(r.track({type:3,doc:E}),A=!0):this.ya(y,E)||(r.track({type:2,doc:E}),A=!0,(h&&this.Va(E,h)>0||f&&this.Va(E,f)<0)&&(c=!0)):!y&&E?(r.track({type:0,doc:E}),A=!0):y&&!E&&(r.track({type:1,doc:y}),A=!0,(h||f)&&(c=!0)),A&&(E?(l=l.add(E),a=k?a.add(p):a.delete(p)):(l=l.delete(p),a=a.delete(p)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const p=this.query.limitType==="F"?l.last():l.first();l=l.delete(p.key),a=a.delete(p.key),r.track({type:1,doc:p})}return{ma:l,pa:r,ss:c,mutatedKeys:a}}ya(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const a=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const l=e.pa.j_();l.sort((p,_)=>function(E,w){const k=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Oe()}};return k(E)-k(w)}(p.type,_.type)||this.Va(p.doc,_.doc)),this.wa(r),i=i!=null&&i;const c=t&&!i?this.Sa():[],h=this.Ra.size===0&&this.current&&!i?1:0,f=h!==this.Aa;return this.Aa=h,l.length!==0||f?{snapshot:new ml(this.query,e.ma,a,l,e.mutatedKeys,h===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),ba:c}:{ba:c}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new Px,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.Ea.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(t=>this.Ea=this.Ea.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ea=this.Ea.delete(t)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=We(),this.ma.forEach(r=>{this.Da(r.key)&&(this.Ra=this.Ra.add(r.key))});const t=[];return e.forEach(r=>{this.Ra.has(r)||t.push(new B4(r))}),this.Ra.forEach(r=>{e.has(r)||t.push(new D4(r))}),t}va(e){this.Ea=e.Es,this.Ra=We();const t=this.ga(e.documents);return this.applyChanges(t,!0)}Ca(){return ml.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class OR{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class MR{constructor(e){this.key=e,this.Fa=!1}}class VR{constructor(e,t,r,i,a,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.Ma={},this.xa=new sa(c=>ZT(c),Dd),this.Oa=new Map,this.Na=new Set,this.Ba=new Pt(Ie.comparator),this.La=new Map,this.ka=new jg,this.qa={},this.Qa=new Map,this.Ka=pl.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function UR(n,e,t=!0){const r=V4(n);let i;const a=r.xa.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.Ca()):i=await F4(r,e,t,!0),i}async function $R(n,e){const t=V4(n);await F4(t,e,!0,!1)}async function F4(n,e,t,r){const i=await oR(n.localStore,Ni(e)),a=i.targetId,l=n.sharedClientState.addLocalQueryTarget(a,t);let c;return r&&(c=await zR(n,e,a,l==="current",i.resumeToken)),n.isPrimaryClient&&t&&k4(n.remoteStore,i),c}async function zR(n,e,t,r,i){n.Ua=(_,y,E)=>async function(k,A,L,b){let S=A.view.ga(L);S.ss&&(S=await bx(k.localStore,A.query,!1).then(({documents:I})=>A.view.ga(I,S)));const B=b&&b.targetChanges.get(A.targetId),U=b&&b.targetMismatches.get(A.targetId)!=null,z=A.view.applyChanges(S,k.isPrimaryClient,B,U);return Lx(k,A.targetId,z.ba),z.snapshot}(n,_,y,E);const a=await bx(n.localStore,e,!0),l=new NR(e,a.Es),c=l.ga(a.documents),h=uc.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),f=l.applyChanges(c,n.isPrimaryClient,h);Lx(n,t,f.ba);const p=new OR(e,t,l);return n.xa.set(e,p),n.Oa.has(t)?n.Oa.get(t).push(e):n.Oa.set(t,[e]),f.snapshot}async function jR(n,e,t){const r=Ue(n),i=r.xa.get(e),a=r.Oa.get(i.targetId);if(a.length>1)return r.Oa.set(i.targetId,a.filter(l=>!Dd(l,e))),void r.xa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Mm(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&Wg(r.remoteStore,i.targetId),Um(r,i.targetId)}).catch(Cl)):(Um(r,i.targetId),await Mm(r.localStore,i.targetId,!0))}async function HR(n,e){const t=Ue(n),r=t.xa.get(e),i=t.Oa.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Wg(t.remoteStore,r.targetId))}async function qR(n,e,t){const r=ZR(n);try{const i=await function(l,c){const h=Ue(l),f=Zt.now(),p=c.reduce((E,w)=>E.add(w.key),We());let _,y;return h.persistence.runTransaction("Locally write mutations","readwrite",E=>{let w=gs(),k=We();return h.hs.getEntries(E,p).next(A=>{w=A,w.forEach((L,b)=>{b.isValidDocument()||(k=k.add(L))})}).next(()=>h.localDocuments.getOverlayedDocuments(E,w)).next(A=>{_=A;const L=[];for(const b of c){const S=a5(b,_.get(b.key).overlayedDocument);S!=null&&L.push(new mo(b.key,S,HT(S.value.mapValue),yi.exists(!0)))}return h.mutationQueue.addMutationBatch(E,f,L,c)}).next(A=>{y=A;const L=A.applyToLocalDocumentSet(_,k);return h.documentOverlayCache.saveOverlays(E,A.batchId,L)})}).then(()=>({batchId:y.batchId,changes:t4(_)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(l,c,h){let f=l.qa[l.currentUser.toKey()];f||(f=new Pt(Ke)),f=f.insert(c,h),l.qa[l.currentUser.toKey()]=f}(r,i.batchId,t),await hc(r,i.changes),await Vd(r.remoteStore)}catch(i){const a=Yg(i,"Failed to persist write");t.reject(a)}}async function L4(n,e){const t=Ue(n);try{const r=await rR(t.localStore,e);e.targetChanges.forEach((i,a)=>{const l=t.La.get(a);l&&(tt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?l.Fa=!0:i.modifiedDocuments.size>0?tt(l.Fa):i.removedDocuments.size>0&&(tt(l.Fa),l.Fa=!1))}),await hc(t,r,e)}catch(r){await Cl(r)}}function Fx(n,e,t){const r=Ue(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.xa.forEach((a,l)=>{const c=l.view.ea(e);c.snapshot&&i.push(c.snapshot)}),function(l,c){const h=Ue(l);h.onlineState=c;let f=!1;h.queries.forEach((p,_)=>{for(const y of _.J_)y.ea(c)&&(f=!0)}),f&&Zg(h)}(r.eventManager,e),i.length&&r.Ma.R_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function WR(n,e,t){const r=Ue(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.La.get(e),a=i&&i.key;if(a){let l=new Pt(Ie.comparator);l=l.insert(a,Ln.newNoDocument(a,Me.min()));const c=We().add(a),h=new Nd(Me.min(),new Map,new Pt(Ke),l,c);await L4(r,h),r.Ba=r.Ba.remove(a),r.La.delete(e),Jg(r)}else await Mm(r.localStore,e,!1).then(()=>Um(r,e,t)).catch(Cl)}async function GR(n,e){const t=Ue(n),r=e.batch.batchId;try{const i=await nR(t.localStore,e);O4(t,r,null),N4(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await hc(t,i)}catch(i){await Cl(i)}}async function KR(n,e,t){const r=Ue(n);try{const i=await function(l,c){const h=Ue(l);return h.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let p;return h.mutationQueue.lookupMutationBatch(f,c).next(_=>(tt(_!==null),p=_.keys(),h.mutationQueue.removeMutationBatch(f,_))).next(()=>h.mutationQueue.performConsistencyCheck(f)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(f,p,c)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,p)).next(()=>h.localDocuments.getDocuments(f,p))})}(r.localStore,e);O4(r,e,t),N4(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await hc(r,i)}catch(i){await Cl(i)}}function N4(n,e){(n.Qa.get(e)||[]).forEach(t=>{t.resolve()}),n.Qa.delete(e)}function O4(n,e,t){const r=Ue(n);let i=r.qa[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(t?a.reject(t):a.resolve(),i=i.remove(e)),r.qa[r.currentUser.toKey()]=i}}function Um(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Oa.get(e))n.xa.delete(r),t&&n.Ma.Wa(r,t);n.Oa.delete(e),n.isPrimaryClient&&n.ka.yr(e).forEach(r=>{n.ka.containsKey(r)||M4(n,r)})}function M4(n,e){n.Na.delete(e.path.canonicalString());const t=n.Ba.get(e);t!==null&&(Wg(n.remoteStore,t),n.Ba=n.Ba.remove(e),n.La.delete(t),Jg(n))}function Lx(n,e,t){for(const r of t)r instanceof D4?(n.ka.addReference(r.key,e),QR(n,r)):r instanceof B4?(_e("SyncEngine","Document no longer in limbo: "+r.key),n.ka.removeReference(r.key,e),n.ka.containsKey(r.key)||M4(n,r.key)):Oe()}function QR(n,e){const t=e.key,r=t.path.canonicalString();n.Ba.get(t)||n.Na.has(r)||(_e("SyncEngine","New document in limbo: "+t),n.Na.add(r),Jg(n))}function Jg(n){for(;n.Na.size>0&&n.Ba.size<n.maxConcurrentLimboResolutions;){const e=n.Na.values().next().value;n.Na.delete(e);const t=new Ie(Et.fromString(e)),r=n.Ka.next();n.La.set(r,new MR(t)),n.Ba=n.Ba.insert(t,r),k4(n.remoteStore,new Qs(Ni(Og(t.path)),r,"TargetPurposeLimboResolution",Id.oe))}}async function hc(n,e,t){const r=Ue(n),i=[],a=[],l=[];r.xa.isEmpty()||(r.xa.forEach((c,h)=>{l.push(r.Ua(h,e,t).then(f=>{var p;if((f||t)&&r.isPrimaryClient){const _=f?!f.fromCache:(p=t==null?void 0:t.targetChanges.get(h.targetId))===null||p===void 0?void 0:p.current;r.sharedClientState.updateQueryState(h.targetId,_?"current":"not-current")}if(f){i.push(f);const _=qg.zi(h.targetId,f);a.push(_)}}))}),await Promise.all(l),r.Ma.R_(i),await async function(h,f){const p=Ue(h);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>te.forEach(f,y=>te.forEach(y.Wi,E=>p.persistence.referenceDelegate.addReference(_,y.targetId,E)).next(()=>te.forEach(y.Gi,E=>p.persistence.referenceDelegate.removeReference(_,y.targetId,E)))))}catch(_){if(!kl(_))throw _;_e("LocalStore","Failed to update sequence numbers: "+_)}for(const _ of f){const y=_.targetId;if(!_.fromCache){const E=p.us.get(y),w=E.snapshotVersion,k=E.withLastLimboFreeSnapshotVersion(w);p.us=p.us.insert(y,k)}}}(r.localStore,a))}async function XR(n,e){const t=Ue(n);if(!t.currentUser.isEqual(e)){_e("SyncEngine","User change. New user:",e.toKey());const r=await w4(t.localStore,e);t.currentUser=e,function(a,l){a.Qa.forEach(c=>{c.forEach(h=>{h.reject(new Te(ne.CANCELLED,l))})}),a.Qa.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await hc(t,r.Ts)}}function YR(n,e){const t=Ue(n),r=t.La.get(e);if(r&&r.Fa)return We().add(r.key);{let i=We();const a=t.Oa.get(e);if(!a)return i;for(const l of a){const c=t.xa.get(l);i=i.unionWith(c.view.fa)}return i}}function V4(n){const e=Ue(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=L4.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=YR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=WR.bind(null,e),e.Ma.R_=BR.bind(null,e.eventManager),e.Ma.Wa=FR.bind(null,e.eventManager),e}function ZR(n){const e=Ue(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=GR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=KR.bind(null,e),e}class id{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Od(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,t){return null}Ya(e,t){return null}Ha(e){return tR(this.persistence,new J5,e.initialUser,this.serializer)}ja(e){return new E4(Hg.ei,this.serializer)}za(e){return new lR}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}id.provider={build:()=>new id};class JR extends id{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,t){tt(this.persistence.referenceDelegate instanceof nd);const r=this.persistence.referenceDelegate.garbageCollector;return new M5(r,e.asyncQueue,t)}ja(e){const t=this.cacheSizeBytes!==void 0?vr.withCacheSize(this.cacheSizeBytes):vr.DEFAULT;return new E4(r=>nd.ei(r,t),this.serializer)}}class $m{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Fx(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=XR.bind(null,this.syncEngine),await SR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new RR}()}createDatastore(e){const t=Od(e.databaseInfo.databaseId),r=function(a){return new fR(a)}(e.databaseInfo);return function(a,l,c,h){return new mR(a,l,c,h)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,i,a,l,c){return new yR(r,i,a,l,c)}(this.localStore,this.datastore,e.asyncQueue,t=>Fx(this.syncEngine,t,0),function(){return Ix.p()?new Ix:new uR}())}createSyncEngine(e,t){return function(i,a,l,c,h,f,p){const _=new VR(i,a,l,c,h,f);return p&&(_.$a=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(i){const a=Ue(i);_e("RemoteStore","RemoteStore shutting down."),a.k_.add(5),await cc(a),a.Q_.shutdown(),a.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}$m.provider={build:()=>new $m};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eP{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):ms("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tP{constructor(e,t,r,i,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Fn.UNAUTHENTICATED,this.clientId=$T.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async l=>{_e("FirestoreClient","Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(r,l=>(_e("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Qo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Yg(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function $p(n,e){n.asyncQueue.verifyOperationInProgress(),_e("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await w4(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function Nx(n,e){n.asyncQueue.verifyOperationInProgress();const t=await nP(n);_e("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>Rx(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>Rx(e.remoteStore,i)),n._onlineComponents=e}async function nP(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){_e("FirestoreClient","Using user provided OfflineComponentProvider");try{await $p(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===ne.FAILED_PRECONDITION||i.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;ll("Error using user provided cache. Falling back to memory cache: "+t),await $p(n,new id)}}else _e("FirestoreClient","Using default OfflineComponentProvider"),await $p(n,new JR(void 0));return n._offlineComponents}async function U4(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(_e("FirestoreClient","Using user provided OnlineComponentProvider"),await Nx(n,n._uninitializedComponentsProvider._online)):(_e("FirestoreClient","Using default OnlineComponentProvider"),await Nx(n,new $m))),n._onlineComponents}function rP(n){return U4(n).then(e=>e.syncEngine)}async function Ox(n){const e=await U4(n),t=e.eventManager;return t.onListen=UR.bind(null,e.syncEngine),t.onUnlisten=jR.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=$R.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=HR.bind(null,e.syncEngine),t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $4(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mx=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z4(n,e,t){if(!t)throw new Te(ne.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function iP(n,e,t,r){if(e===!0&&r===!0)throw new Te(ne.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Vx(n){if(!Ie.isDocumentKey(n))throw new Te(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Ux(n){if(Ie.isDocumentKey(n))throw new Te(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Ud(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Oe()}function eo(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Te(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Ud(n);throw new Te(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function sP(n,e){if(e<=0)throw new Te(ne.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Te(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Te(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}iP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=$4((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Te(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Te(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Te(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class $d{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $x({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Te(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Te(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $x(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new pI;switch(r.type){case"firstParty":return new _I(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Te(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=Mx.get(t);r&&(_e("ComponentProvider","Removing Datastore"),Mx.delete(t),r.terminate())}(this),Promise.resolve()}}function oP(n,e,t,r={}){var i;const a=(n=eo(n,$d))._getSettings(),l=`${e}:${t}`;if(a.host!=="firestore.googleapis.com"&&a.host!==l&&ll("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},a),{host:l,ssl:!1})),r.mockUserToken){let c,h;if(typeof r.mockUserToken=="string")c=r.mockUserToken,h=Fn.MOCK_USER;else{c=Kw(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new Te(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Fn(f)}n._authCredentials=new mI(new UT(c,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new go(this.firestore,e,this._query)}}class Er{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new to(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Er(this.firestore,e,this._key)}}class to extends go{constructor(e,t,r){super(e,t,Og(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Er(this.firestore,null,new Ie(e))}withConverter(e){return new to(this.firestore,e,this._path)}}function wM(n,e,...t){if(n=Rt(n),z4("collection","path",e),n instanceof $d){const r=Et.fromString(e,...t);return Ux(r),new to(n,null,r)}{if(!(n instanceof Er||n instanceof to))throw new Te(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Et.fromString(e,...t));return Ux(r),new to(n.firestore,null,r)}}function aP(n,e,...t){if(n=Rt(n),arguments.length===1&&(e=$T.newId()),z4("doc","path",e),n instanceof $d){const r=Et.fromString(e,...t);return Vx(r),new Er(n,null,new Ie(r))}{if(!(n instanceof Er||n instanceof to))throw new Te(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Et.fromString(e,...t));return Vx(r),new Er(n.firestore,n instanceof to?n.converter:null,new Ie(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zx{constructor(e=Promise.resolve()){this.Iu=[],this.du=!1,this.Eu=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new A4(this,"async_queue_retry"),this.fu=()=>{const r=Up();r&&_e("AsyncQueue","Visibility state changed to "+r.visibilityState),this.r_.Jo()},this.gu=e;const t=Up();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.du}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.du){this.du=!0,this.Vu=e||!1;const t=Up();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.du)return new Promise(()=>{});const t=new Qo;return this.yu(()=>this.du&&this.Vu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!kl(e))throw e;_e("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const t=this.gu.then(()=>(this.Ru=!0,e().catch(r=>{this.Au=r,this.Ru=!1;const i=function(l){let c=l.message||"";return l.stack&&(c=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),c}(r);throw ms("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Ru=!1,r))));return this.gu=t,t}enqueueAfterDelay(e,t,r){this.pu(),this.mu.indexOf(e)>-1&&(t=0);const i=Xg.createAndSchedule(this,e,t,r,a=>this.Su(a));return this.Eu.push(i),i}pu(){this.Au&&Oe()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const t of this.Eu)if(t.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.Eu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Eu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const t=this.Eu.indexOf(e);this.Eu.splice(t,1)}}function jx(n){return function(t,r){if(typeof t!="object"||t===null)return!1;const i=t;for(const a of r)if(a in i&&typeof i[a]=="function")return!0;return!1}(n,["next","error","complete"])}class gl extends $d{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new zx,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new zx(e),this._firestoreClient=void 0,await e}}}function TM(n,e){const t=typeof n=="object"?n:xg(),r=typeof n=="string"?n:"(default)",i=Cd(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=qw("firestore");a&&oP(i,...a)}return i}function j4(n){if(n._terminated)throw new Te(ne.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||lP(n),n._firestoreClient}function lP(n){var e,t,r;const i=n._freezeSettings(),a=function(c,h,f,p){return new BI(c,h,f,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,$4(p.experimentalLongPollingOptions),p.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new tP(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&function(c){const h=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(h),_online:h}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new yl(Tn.fromBase64String(e))}catch(t){throw new Te(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new yl(Tn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Te(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new wn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Te(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Te(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ke(this._lat,e._lat)||Ke(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uP=/^__.*__$/;class cP{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new mo(e,this.data,this.fieldMask,t,this.fieldTransforms):new lc(e,this.data,t,this.fieldTransforms)}}class H4{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new mo(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function q4(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Oe()}}class jd{constructor(e,t,r,i,a,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Fu(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new jd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.xu({path:r,Nu:!1});return i.Bu(e),i}Lu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.xu({path:r,Nu:!1});return i.Fu(),i}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return sd(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Bu(this.path.get(e))}Bu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(q4(this.Mu)&&uP.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class hP{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Od(e)}$u(e,t,r,i=!1){return new jd({Mu:e,methodName:t,Ku:r,path:wn.emptyPath(),Nu:!1,Qu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function n1(n){const e=n._freezeSettings(),t=Od(n._databaseId);return new hP(n._databaseId,!!e.ignoreUndefinedProperties,t)}function fP(n,e,t,r,i,a={}){const l=n.$u(a.merge||a.mergeFields?2:0,e,t,i);s1("Data must be an object, but it was:",l,r);const c=G4(r,l);let h,f;if(a.merge)h=new Rr(l.fieldMask),f=l.fieldTransforms;else if(a.mergeFields){const p=[];for(const _ of a.mergeFields){const y=zm(e,_,t);if(!l.contains(y))throw new Te(ne.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);Q4(p,y)||p.push(y)}h=new Rr(p),f=l.fieldTransforms.filter(_=>h.covers(_.field))}else h=null,f=l.fieldTransforms;return new cP(new xr(c),h,f)}class Hd extends fc{_toFieldTransform(e){if(e.Mu!==2)throw e.Mu===1?e.qu(`${this._methodName}() can only appear at the top level of your update data`):e.qu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Hd}}function W4(n,e,t){return new jd({Mu:3,Ku:e.settings.Ku,methodName:n._methodName,Nu:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class r1 extends fc{constructor(e,t){super(e),this.Uu=t}_toFieldTransform(e){const t=W4(this,e,!0),r=this.Uu.map(a=>aa(a,t)),i=new fl(r);return new l4(e.path,i)}isEqual(e){return e instanceof r1&&al(this.Uu,e.Uu)}}class i1 extends fc{constructor(e,t){super(e),this.Uu=t}_toFieldTransform(e){const t=W4(this,e,!0),r=this.Uu.map(a=>aa(a,t)),i=new dl(r);return new l4(e.path,i)}isEqual(e){return e instanceof i1&&al(this.Uu,e.Uu)}}function dP(n,e,t,r){const i=n.$u(1,e,t);s1("Data must be an object, but it was:",i,r);const a=[],l=xr.empty();po(r,(h,f)=>{const p=o1(e,h,t);f=Rt(f);const _=i.Lu(p);if(f instanceof Hd)a.push(p);else{const y=aa(f,_);y!=null&&(a.push(p),l.set(p,y))}});const c=new Rr(a);return new H4(l,c,i.fieldTransforms)}function pP(n,e,t,r,i,a){const l=n.$u(1,e,t),c=[zm(e,r,t)],h=[i];if(a.length%2!=0)throw new Te(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<a.length;y+=2)c.push(zm(e,a[y])),h.push(a[y+1]);const f=[],p=xr.empty();for(let y=c.length-1;y>=0;--y)if(!Q4(f,c[y])){const E=c[y];let w=h[y];w=Rt(w);const k=l.Lu(E);if(w instanceof Hd)f.push(E);else{const A=aa(w,k);A!=null&&(f.push(E),p.set(E,A))}}const _=new Rr(f);return new H4(p,_,l.fieldTransforms)}function mP(n,e,t,r=!1){return aa(t,n.$u(r?4:3,e))}function aa(n,e){if(K4(n=Rt(n)))return s1("Unsupported field value:",e,n),G4(n,e);if(n instanceof fc)return function(r,i){if(!q4(i.Mu))throw i.qu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.qu(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(r,i){const a=[];let l=0;for(const c of r){let h=aa(c,i.ku(l));h==null&&(h={nullValue:"NULL_VALUE"}),a.push(h),l++}return{arrayValue:{values:a}}}(n,e)}return function(r,i){if((r=Rt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return t5(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Zt.fromDate(r);return{timestampValue:td(i.serializer,a)}}if(r instanceof Zt){const a=new Zt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:td(i.serializer,a)}}if(r instanceof e1)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof yl)return{bytesValue:p4(i.serializer,r._byteString)};if(r instanceof Er){const a=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(a))throw i.qu(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:zg(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof t1)return function(l,c){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:l.toArray().map(h=>{if(typeof h!="number")throw c.qu("VectorValues must only contain numeric values.");return Mg(c.serializer,h)})}}}}}}(r,i);throw i.qu(`Unsupported field value: ${Ud(r)}`)}(n,e)}function G4(n,e){const t={};return zT(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):po(n,(r,i)=>{const a=aa(i,e.Ou(r));a!=null&&(t[r]=a)}),{mapValue:{fields:t}}}function K4(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Zt||n instanceof e1||n instanceof yl||n instanceof Er||n instanceof fc||n instanceof t1)}function s1(n,e,t){if(!K4(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){const r=Ud(t);throw r==="an object"?e.qu(n+" a custom object"):e.qu(n+" "+r)}}function zm(n,e,t){if((e=Rt(e))instanceof zd)return e._internalPath;if(typeof e=="string")return o1(n,e);throw sd("Field path arguments must be of type string or ",n,!1,void 0,t)}const gP=new RegExp("[~\\*/\\[\\]]");function o1(n,e,t){if(e.search(gP)>=0)throw sd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new zd(...e.split("."))._internalPath}catch{throw sd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function sd(n,e,t,r,i){const a=r&&!r.isEmpty(),l=i!==void 0;let c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let h="";return(a||l)&&(h+=" (found",a&&(h+=` in field ${r}`),l&&(h+=` in document ${i}`),h+=")"),new Te(ne.INVALID_ARGUMENT,c+n+h)}function Q4(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X4{constructor(e,t,r,i,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Er(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new yP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(a1("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class yP extends X4{data(){return super.data()}}function a1(n,e){return typeof e=="string"?o1(n,e):e instanceof zd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _P(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Te(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class l1{}class u1 extends l1{}function AM(n,e,...t){let r=[];e instanceof l1&&r.push(e),r=r.concat(t),function(a){const l=a.filter(h=>h instanceof h1).length,c=a.filter(h=>h instanceof c1).length;if(l>1||l>0&&c>0)throw new Te(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class c1 extends u1{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new c1(e,t,r)}_apply(e){const t=this._parse(e);return Y4(e._query,t),new go(e.firestore,e.converter,Bm(e._query,t))}_parse(e){const t=n1(e.firestore);return function(a,l,c,h,f,p,_){let y;if(f.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new Te(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){qx(_,p);const E=[];for(const w of _)E.push(Hx(h,a,w));y={arrayValue:{values:E}}}else y=Hx(h,a,_)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||qx(_,p),y=mP(c,l,_,p==="in"||p==="not-in");return Ht.create(f,p,y)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class h1 extends l1{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new h1(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:_i.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(i,a){let l=i;const c=a.getFlattenedFilters();for(const h of c)Y4(l,h),l=Bm(l,h)}(e._query,t),new go(e.firestore,e.converter,Bm(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class f1 extends u1{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new f1(e,t)}_apply(e){const t=function(i,a,l){if(i.startAt!==null)throw new Te(ne.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Te(ne.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Gu(a,l)}(e._query,this._field,this._direction);return new go(e.firestore,e.converter,function(i,a){const l=i.explicitOrderBy.concat([a]);return new bl(i.path,i.collectionGroup,l,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}function CM(n,e="asc"){const t=e,r=a1("orderBy",n);return f1._create(r,t)}class d1 extends u1{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new d1(e,t,r)}_apply(e){return new go(e.firestore,e.converter,Zf(e._query,this._limit,this._limitType))}}function kM(n){return sP("limit",n),d1._create("limit",n,"F")}function Hx(n,e,t){if(typeof(t=Rt(t))=="string"){if(t==="")throw new Te(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!YT(e)&&t.indexOf("/")!==-1)throw new Te(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Et.fromString(t));if(!Ie.isDocumentKey(r))throw new Te(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ux(n,new Ie(r))}if(t instanceof Er)return ux(n,t._key);throw new Te(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ud(t)}.`)}function qx(n,e){if(!Array.isArray(n)||n.length===0)throw new Te(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Y4(n,e){const t=function(i,a){for(const l of i)for(const c of l.getFlattenedFilters())if(a.indexOf(c.op)>=0)return c.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new Te(ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Te(ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class vP{convertValue(e,t="none"){switch(ao(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Mt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(oo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Oe()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return po(e,(i,a)=>{r[i]=this.convertValue(a,t)}),r}convertVectorValue(e){var t,r,i;const a=(i=(r=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(l=>Mt(l.doubleValue));return new t1(a)}convertGeoPoint(e){return new e1(Mt(e.latitude),Mt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Pd(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Hu(e));default:return null}}convertTimestamp(e){const t=so(e);return new Zt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Et.fromString(e);tt(x4(r));const i=new qu(r.get(1),r.get(3)),a=new Ie(r.popFirst(5));return i.isEqual(t)||ms(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xP(n,e,t){let r;return r=n?n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Z4 extends X4{constructor(e,t,r,i,a,l){super(e,t,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Jh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(a1("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Jh extends Z4{data(e={}){return super.data(e)}}class EP{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Tu(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Jh(this._firestore,this._userDataWriter,r.key,r,new Tu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Te(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map(c=>{const h=new Jh(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Tu(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:h,oldIndex:-1,newIndex:l++}})}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>a||c.type!==3).map(c=>{const h=new Jh(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Tu(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,p=-1;return c.type!==0&&(f=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),p=l.indexOf(c.doc.key)),{type:wP(c.type),doc:h,oldIndex:f,newIndex:p}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function wP(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Oe()}}class J4 extends vP{constructor(e){super(),this.firestore=e}convertBytes(e){return new yl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Er(this.firestore,null,t)}}function bM(n,e,t,...r){n=eo(n,Er);const i=eo(n.firestore,gl),a=n1(i);let l;return l=typeof(e=Rt(e))=="string"||e instanceof zd?pP(a,"updateDoc",n._key,e,t,r):dP(a,"updateDoc",n._key,e),p1(i,[l.toMutation(n._key,yi.exists(!0))])}function SM(n){return p1(eo(n.firestore,gl),[new Vg(n._key,yi.none())])}function IM(n,e){const t=eo(n.firestore,gl),r=aP(n),i=xP(n.converter,e);return p1(t,[fP(n1(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,yi.exists(!1))]).then(()=>r)}function RM(n,...e){var t,r,i;n=Rt(n);let a={includeMetadataChanges:!1,source:"default"},l=0;typeof e[l]!="object"||jx(e[l])||(a=e[l],l++);const c={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(jx(e[l])){const _=e[l];e[l]=(t=_.next)===null||t===void 0?void 0:t.bind(_),e[l+1]=(r=_.error)===null||r===void 0?void 0:r.bind(_),e[l+2]=(i=_.complete)===null||i===void 0?void 0:i.bind(_)}let h,f,p;if(n instanceof Er)f=eo(n.firestore,gl),p=Og(n._key.path),h={next:_=>{e[l]&&e[l](TP(f,n,_))},error:e[l+1],complete:e[l+2]};else{const _=eo(n,go);f=eo(_.firestore,gl),p=_._query;const y=new J4(f);h={next:E=>{e[l]&&e[l](new EP(f,y,_,E))},error:e[l+1],complete:e[l+2]},_P(n._query)}return function(y,E,w,k){const A=new eP(k),L=new LR(E,A,w);return y.asyncQueue.enqueueAndForget(async()=>PR(await Ox(y),L)),()=>{A.eu(),y.asyncQueue.enqueueAndForget(async()=>DR(await Ox(y),L))}}(j4(f),p,c,h)}function p1(n,e){return function(r,i){const a=new Qo;return r.asyncQueue.enqueueAndForget(async()=>qR(await rP(r),i,a)),a.promise}(j4(n),e)}function TP(n,e,t){const r=t.docs.get(e._key),i=new J4(n);return new Z4(n,i,e._key,r,new Tu(t.hasPendingWrites,t.fromCache),e.converter)}function PM(...n){return new r1("arrayUnion",n)}function DM(...n){return new i1("arrayRemove",n)}(function(e,t=!0){(function(i){Al=i})(ia),Jo(new ro("firestore",(r,{instanceIdentifier:i,options:a})=>{const l=r.getProvider("app").getImmediate(),c=new gl(new gI(r.getProvider("auth-internal")),new xI(r.getProvider("app-check-internal")),function(f,p){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Te(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new qu(f.options.projectId,p)}(l,i),l);return a=Object.assign({useFetchStreams:t},a),c._setSettings(a),c},"PUBLIC").setMultipleInstances(!0)),Bi(rx,"4.7.6",e),Bi(rx,"4.7.6","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eA="firebasestorage.googleapis.com",tA="storageBucket",AP=2*60*1e3,CP=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt extends zi{constructor(e,t,r=0){super(zp(e),`Firebase Storage: ${t} (${zp(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Lt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return zp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ft;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ft||(Ft={}));function zp(n){return"storage/"+n}function m1(){const n="An unknown error occurred, please check the error payload for server response.";return new Lt(Ft.UNKNOWN,n)}function kP(n){return new Lt(Ft.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function bP(n){return new Lt(Ft.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function SP(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Lt(Ft.UNAUTHENTICATED,n)}function IP(){return new Lt(Ft.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function RP(n){return new Lt(Ft.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function PP(){return new Lt(Ft.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function DP(){return new Lt(Ft.CANCELED,"User canceled the upload/download.")}function BP(n){return new Lt(Ft.INVALID_URL,"Invalid URL '"+n+"'.")}function FP(n){return new Lt(Ft.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function LP(){return new Lt(Ft.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+tA+"' property when initializing the app?")}function NP(){return new Lt(Ft.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function OP(){return new Lt(Ft.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function MP(n){return new Lt(Ft.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function jm(n){return new Lt(Ft.INVALID_ARGUMENT,n)}function nA(){return new Lt(Ft.APP_DELETED,"The Firebase app was deleted.")}function VP(n){return new Lt(Ft.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Du(n,e){return new Lt(Ft.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function uu(n){throw new Lt(Ft.INTERNAL_ERROR,"Internal error: "+n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=Pr.makeFromUrl(e,t)}catch{return new Pr(e,"")}if(r.path==="")return r;throw FP(e)}static makeFromUrl(e,t){let r=null;const i="([A-Za-z0-9.\\-_]+)";function a(B){B.path.charAt(B.path.length-1)==="/"&&(B.path_=B.path_.slice(0,-1))}const l="(/(.*))?$",c=new RegExp("^gs://"+i+l,"i"),h={bucket:1,path:3};function f(B){B.path_=decodeURIComponent(B.path)}const p="v[A-Za-z0-9_]+",_=t.replace(/[.]/g,"\\."),y="(/([^?#]*).*)?$",E=new RegExp(`^https?://${_}/${p}/b/${i}/o${y}`,"i"),w={bucket:1,path:3},k=t===eA?"(?:storage.googleapis.com|storage.cloud.google.com)":t,A="([^?#]*)",L=new RegExp(`^https?://${k}/${i}/${A}`,"i"),S=[{regex:c,indices:h,postModify:a},{regex:E,indices:w,postModify:f},{regex:L,indices:{bucket:1,path:2},postModify:f}];for(let B=0;B<S.length;B++){const U=S[B],z=U.regex.exec(e);if(z){const I=z[U.indices.bucket];let C=z[U.indices.path];C||(C=""),r=new Pr(I,C),U.postModify(r);break}}if(r==null)throw BP(e);return r}}class UP{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $P(n,e,t){let r=1,i=null,a=null,l=!1,c=0;function h(){return c===2}let f=!1;function p(...A){f||(f=!0,e.apply(null,A))}function _(A){i=setTimeout(()=>{i=null,n(E,h())},A)}function y(){a&&clearTimeout(a)}function E(A,...L){if(f){y();return}if(A){y(),p.call(null,A,...L);return}if(h()||l){y(),p.call(null,A,...L);return}r<64&&(r*=2);let S;c===1?(c=2,S=0):S=(r+Math.random())*1e3,_(S)}let w=!1;function k(A){w||(w=!0,y(),!f&&(i!==null?(A||(c=2),clearTimeout(i),_(0)):A||(c=1)))}return _(0),a=setTimeout(()=>{l=!0,k(!0)},t),k}function zP(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jP(n){return n!==void 0}function HP(n){return typeof n=="object"&&!Array.isArray(n)}function g1(n){return typeof n=="string"||n instanceof String}function Wx(n){return y1()&&n instanceof Blob}function y1(){return typeof Blob<"u"}function Gx(n,e,t,r){if(r<e)throw jm(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw jm(`Invalid value for '${n}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _1(n,e,t){let r=e;return t==null&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function rA(n){const e=encodeURIComponent;let t="?";for(const r in n)if(n.hasOwnProperty(r)){const i=e(r)+"="+e(n[r]);t=t+i+"&"}return t=t.slice(0,-1),t}var Xo;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Xo||(Xo={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qP(n,e){const t=n>=500&&n<600,i=[408,429].indexOf(n)!==-1,a=e.indexOf(n)!==-1;return t||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WP{constructor(e,t,r,i,a,l,c,h,f,p,_,y=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=l,this.callback_=c,this.errorCallback_=h,this.timeout_=f,this.progressCallback_=p,this.connectionFactory_=_,this.retry=y,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((E,w)=>{this.resolve_=E,this.reject_=w,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Fh(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const l=c=>{const h=c.loaded,f=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(h,f)};this.progressCallback_!==null&&a.addUploadProgressListener(l),a.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(l),this.pendingConnection_=null;const c=a.getErrorCode()===Xo.NO_ERROR,h=a.getStatus();if(!c||qP(h,this.additionalRetryCodes_)&&this.retry){const p=a.getErrorCode()===Xo.ABORT;r(!1,new Fh(!1,null,p));return}const f=this.successCodes_.indexOf(h)!==-1;r(!0,new Fh(f,a))})},t=(r,i)=>{const a=this.resolve_,l=this.reject_,c=i.connection;if(i.wasSuccessCode)try{const h=this.callback_(c,c.getResponse());jP(h)?a(h):a()}catch(h){l(h)}else if(c!==null){const h=m1();h.serverResponse=c.getErrorText(),this.errorCallback_?l(this.errorCallback_(c,h)):l(h)}else if(i.canceled){const h=this.appDelete_?nA():DP();l(h)}else{const h=PP();l(h)}};this.canceled_?t(!1,new Fh(!1,null,!0)):this.backoffId_=$P(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&zP(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Fh{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function GP(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function KP(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function QP(n,e){e&&(n["X-Firebase-GMPID"]=e)}function XP(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function YP(n,e,t,r,i,a,l=!0){const c=rA(n.urlParams),h=n.url+c,f=Object.assign({},n.headers);return QP(f,e),GP(f,t),KP(f,a),XP(f,r),new WP(h,n.method,f,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZP(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function JP(...n){const e=ZP();if(e!==void 0){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}else{if(y1())return new Blob(n);throw new Lt(Ft.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function eD(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tD(n){if(typeof atob>"u")throw MP("base-64");return atob(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Di={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class jp{constructor(e,t){this.data=e,this.contentType=t||null}}function nD(n,e){switch(n){case Di.RAW:return new jp(iA(e));case Di.BASE64:case Di.BASE64URL:return new jp(sA(n,e));case Di.DATA_URL:return new jp(iD(e),sD(e))}throw m1()}function iA(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const a=r,l=n.charCodeAt(++t);r=65536|(a&1023)<<10|l&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function rD(n){let e;try{e=decodeURIComponent(n)}catch{throw Du(Di.DATA_URL,"Malformed data URL.")}return iA(e)}function sA(n,e){switch(n){case Di.BASE64:{const i=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(i||a)throw Du(n,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Di.BASE64URL:{const i=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(i||a)throw Du(n,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=tD(e)}catch(i){throw i.message.includes("polyfill")?i:Du(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}class oA{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw Du(Di.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;r!=null&&(this.base64=oD(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function iD(n){const e=new oA(n);return e.base64?sA(Di.BASE64,e.rest):rD(e.rest)}function sD(n){return new oA(n).contentType}function oD(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(e,t){let r=0,i="";Wx(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,t){if(Wx(this.data_)){const r=this.data_,i=eD(r,e,t);return i===null?null:new Ks(i)}else{const r=new Uint8Array(this.data_.buffer,e,t-e);return new Ks(r,!0)}}static getBlob(...e){if(y1()){const t=e.map(r=>r instanceof Ks?r.data_:r);return new Ks(JP.apply(null,t))}else{const t=e.map(l=>g1(l)?nD(Di.RAW,l).data:l.data_);let r=0;t.forEach(l=>{r+=l.byteLength});const i=new Uint8Array(r);let a=0;return t.forEach(l=>{for(let c=0;c<l.length;c++)i[a++]=l[c]}),new Ks(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aA(n){let e;try{e=JSON.parse(n)}catch{return null}return HP(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aD(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function lD(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return n.length===0?t:n+"/"+t}function lA(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uD(n,e){return e}class Xn{constructor(e,t,r,i){this.server=e,this.local=t||e,this.writable=!!r,this.xform=i||uD}}let Lh=null;function cD(n){return!g1(n)||n.length<2?n:lA(n)}function uA(){if(Lh)return Lh;const n=[];n.push(new Xn("bucket")),n.push(new Xn("generation")),n.push(new Xn("metageneration")),n.push(new Xn("name","fullPath",!0));function e(a,l){return cD(l)}const t=new Xn("name");t.xform=e,n.push(t);function r(a,l){return l!==void 0?Number(l):l}const i=new Xn("size");return i.xform=r,n.push(i),n.push(new Xn("timeCreated")),n.push(new Xn("updated")),n.push(new Xn("md5Hash",null,!0)),n.push(new Xn("cacheControl",null,!0)),n.push(new Xn("contentDisposition",null,!0)),n.push(new Xn("contentEncoding",null,!0)),n.push(new Xn("contentLanguage",null,!0)),n.push(new Xn("contentType",null,!0)),n.push(new Xn("metadata","customMetadata",!0)),Lh=n,Lh}function hD(n,e){function t(){const r=n.bucket,i=n.fullPath,a=new Pr(r,i);return e._makeStorageReference(a)}Object.defineProperty(n,"ref",{get:t})}function fD(n,e,t){const r={};r.type="file";const i=t.length;for(let a=0;a<i;a++){const l=t[a];r[l.local]=l.xform(r,e[l.server])}return hD(r,n),r}function cA(n,e,t){const r=aA(e);return r===null?null:fD(n,r,t)}function dD(n,e,t,r){const i=aA(e);if(i===null||!g1(i.downloadTokens))return null;const a=i.downloadTokens;if(a.length===0)return null;const l=encodeURIComponent;return a.split(",").map(f=>{const p=n.bucket,_=n.fullPath,y="/b/"+l(p)+"/o/"+l(_),E=_1(y,t,r),w=rA({alt:"media",token:f});return E+w})[0]}function pD(n,e){const t={},r=e.length;for(let i=0;i<r;i++){const a=e[i];a.writable&&(t[a.server]=n[a.local])}return JSON.stringify(t)}class hA{constructor(e,t,r,i){this.url=e,this.method=t,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fA(n){if(!n)throw m1()}function mD(n,e){function t(r,i){const a=cA(n,i,e);return fA(a!==null),a}return t}function gD(n,e){function t(r,i){const a=cA(n,i,e);return fA(a!==null),dD(a,i,n.host,n._protocol)}return t}function dA(n){function e(t,r){let i;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?i=IP():i=SP():t.getStatus()===402?i=bP(n.bucket):t.getStatus()===403?i=RP(n.path):i=r,i.status=t.getStatus(),i.serverResponse=r.serverResponse,i}return e}function yD(n){const e=dA(n);function t(r,i){let a=e(r,i);return r.getStatus()===404&&(a=kP(n.path)),a.serverResponse=i.serverResponse,a}return t}function _D(n,e,t){const r=e.fullServerUrl(),i=_1(r,n.host,n._protocol),a="GET",l=n.maxOperationRetryTime,c=new hA(i,a,gD(n,t),l);return c.errorHandler=yD(e),c}function vD(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function xD(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=vD(null,e)),r}function ED(n,e,t,r,i){const a=e.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"};function c(){let S="";for(let B=0;B<2;B++)S=S+Math.random().toString().slice(2);return S}const h=c();l["Content-Type"]="multipart/related; boundary="+h;const f=xD(e,r,i),p=pD(f,t),_="--"+h+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+p+`\r
--`+h+`\r
Content-Type: `+f.contentType+`\r
\r
`,y=`\r
--`+h+"--",E=Ks.getBlob(_,r,y);if(E===null)throw NP();const w={name:f.fullPath},k=_1(a,n.host,n._protocol),A="POST",L=n.maxUploadRetryTime,b=new hA(k,A,mD(n,t),L);return b.urlParams=w,b.headers=l,b.body=E.uploadData(),b.errorHandler=dA(e),b}class wD{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Xo.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Xo.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Xo.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,i){if(this.sent_)throw uu("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),i!==void 0)for(const a in i)i.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,i[a].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw uu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw uu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw uu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw uu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class TD extends wD{initXhr(){this.xhr_.responseType="text"}}function pA(){return new TD}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(e,t){this._service=e,t instanceof Pr?this._location=t:this._location=Pr.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new na(e,t)}get root(){const e=new Pr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return lA(this._location.path)}get storage(){return this._service}get parent(){const e=aD(this._location.path);if(e===null)return null;const t=new Pr(this._location.bucket,e);return new na(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw VP(e)}}function AD(n,e,t){n._throwIfRoot("uploadBytes");const r=ED(n.storage,n._location,uA(),new Ks(e,!0),t);return n.storage.makeRequestWithTokens(r,pA).then(i=>({metadata:i,ref:n}))}function CD(n){n._throwIfRoot("getDownloadURL");const e=_D(n.storage,n._location,uA());return n.storage.makeRequestWithTokens(e,pA).then(t=>{if(t===null)throw OP();return t})}function kD(n,e){const t=lD(n._location.path,e),r=new Pr(n._location.bucket,t);return new na(n.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bD(n){return/^[A-Za-z]+:\/\//.test(n)}function SD(n,e){return new na(n,e)}function mA(n,e){if(n instanceof v1){const t=n;if(t._bucket==null)throw LP();const r=new na(t,t._bucket);return e!=null?mA(r,e):r}else return e!==void 0?kD(n,e):n}function ID(n,e){if(e&&bD(e)){if(n instanceof v1)return SD(n,e);throw jm("To use ref(service, url), the first argument must be a Storage instance.")}else return mA(n,e)}function Kx(n,e){const t=e==null?void 0:e[tA];return t==null?null:Pr.makeFromBucketSpec(t,n)}function RD(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:i}=r;i&&(n._overrideAuthToken=typeof i=="string"?i:Kw(i,n.app.options.projectId))}class v1{constructor(e,t,r,i,a){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=eA,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=AP,this._maxUploadRetryTime=CP,this._requests=new Set,i!=null?this._bucket=Pr.makeFromBucketSpec(i,this._host):this._bucket=Kx(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Pr.makeFromBucketSpec(this._url,e):this._bucket=Kx(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Gx("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Gx("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new na(this,e)}_makeRequest(e,t,r,i,a=!0){if(this._deleted)return new UP(nA());{const l=YP(e,this._appId,r,i,t,this._firebaseVersion,a);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,t){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,i).getPromise()}}const Qx="@firebase/storage",Xx="0.13.5";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gA="storage";function BM(n,e,t){return n=Rt(n),AD(n,e,t)}function FM(n){return n=Rt(n),CD(n)}function LM(n,e){return n=Rt(n),ID(n,e)}function NM(n=xg(),e){n=Rt(n);const r=Cd(n,gA).getImmediate({identifier:e}),i=qw("storage");return i&&PD(r,...i),r}function PD(n,e,t,r={}){RD(n,e,t,r)}function DD(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new v1(t,r,i,e,ia)}function BD(){Jo(new ro(gA,DD,"PUBLIC").setMultipleInstances(!0)),Bi(Qx,Xx,""),Bi(Qx,Xx,"esm2017")}BD();var Hp={exports:{}},qp,Yx;function FD(){if(Yx)return qp;Yx=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return qp=n,qp}var Wp,Zx;function LD(){if(Zx)return Wp;Zx=1;var n=FD();function e(){}function t(){}return t.resetWarningCache=e,Wp=function(){function r(l,c,h,f,p,_){if(_!==n){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}r.isRequired=r;function i(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:t,resetWarningCache:e};return a.PropTypes=a,a},Wp}var Jx;function ND(){return Jx||(Jx=1,Hp.exports=LD()()),Hp.exports}var OD=ND();const OM=gg(OD),yA=xe.createContext({});function MD(n){const e=xe.useRef(null);return e.current===null&&(e.current=n()),e.current}const x1=xe.createContext(null),_A=xe.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function VD(n=!0){const e=xe.useContext(x1);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:r,register:i}=e,a=xe.useId();xe.useEffect(()=>{n&&i(a)},[n]);const l=xe.useCallback(()=>n&&r&&r(a),[a,r,n]);return!t&&r?[!1,l]:[!0]}const E1=typeof window<"u",UD=E1?xe.useLayoutEffect:xe.useEffect,Dr=n=>n;let Hm=Dr;function w1(n){let e;return()=>(e===void 0&&(e=n()),e)}const _l=(n,e,t)=>{const r=e-n;return r===0?1:(t-n)/r},us=n=>n*1e3,cs=n=>n/1e3,$D={skipAnimations:!1,useManualTiming:!1};function zD(n){let e=new Set,t=new Set,r=!1,i=!1;const a=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function c(f){a.has(f)&&(h.schedule(f),n()),f(l)}const h={schedule:(f,p=!1,_=!1)=>{const E=_&&r?e:t;return p&&a.add(f),E.has(f)||E.add(f),f},cancel:f=>{t.delete(f),a.delete(f)},process:f=>{if(l=f,r){i=!0;return}r=!0,[e,t]=[t,e],e.forEach(c),e.clear(),r=!1,i&&(i=!1,h.process(f))}};return h}const Nh=["read","resolveKeyframes","update","preRender","render","postRender"],jD=40;function vA(n,e){let t=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>t=!0,l=Nh.reduce((L,b)=>(L[b]=zD(a),L),{}),{read:c,resolveKeyframes:h,update:f,preRender:p,render:_,postRender:y}=l,E=()=>{const L=performance.now();t=!1,i.delta=r?1e3/60:Math.max(Math.min(L-i.timestamp,jD),1),i.timestamp=L,i.isProcessing=!0,c.process(i),h.process(i),f.process(i),p.process(i),_.process(i),y.process(i),i.isProcessing=!1,t&&e&&(r=!1,n(E))},w=()=>{t=!0,r=!0,i.isProcessing||n(E)};return{schedule:Nh.reduce((L,b)=>{const S=l[b];return L[b]=(B,U=!1,z=!1)=>(t||w(),S.schedule(B,U,z)),L},{}),cancel:L=>{for(let b=0;b<Nh.length;b++)l[Nh[b]].cancel(L)},state:i,steps:l}}const{schedule:wt,cancel:uo,state:vn,steps:Gp}=vA(typeof requestAnimationFrame<"u"?requestAnimationFrame:Dr,!0),xA=xe.createContext({strict:!1}),e2={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},vl={};for(const n in e2)vl[n]={isEnabled:e=>e2[n].some(t=>!!e[t])};function HD(n){for(const e in n)vl[e]={...vl[e],...n[e]}}const qD=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function od(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||qD.has(n)}let EA=n=>!od(n);function WD(n){n&&(EA=e=>e.startsWith("on")?!od(e):n(e))}try{WD(require("@emotion/is-prop-valid").default)}catch{}function GD(n,e,t){const r={};for(const i in n)i==="values"&&typeof n.values=="object"||(EA(i)||t===!0&&od(i)||!e&&!od(i)||n.draggable&&i.startsWith("onDrag"))&&(r[i]=n[i]);return r}function KD(n){if(typeof Proxy>"u")return n;const e=new Map,t=(...r)=>n(...r);return new Proxy(t,{get:(r,i)=>i==="create"?n:(e.has(i)||e.set(i,n(i)),e.get(i))})}const qd=xe.createContext({});function Ku(n){return typeof n=="string"||Array.isArray(n)}function Wd(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}const T1=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],A1=["initial",...T1];function Gd(n){return Wd(n.animate)||A1.some(e=>Ku(n[e]))}function wA(n){return!!(Gd(n)||n.variants)}function QD(n,e){if(Gd(n)){const{initial:t,animate:r}=n;return{initial:t===!1||Ku(t)?t:void 0,animate:Ku(r)?r:void 0}}return n.inherit!==!1?e:{}}function XD(n){const{initial:e,animate:t}=QD(n,xe.useContext(qd));return xe.useMemo(()=>({initial:e,animate:t}),[t2(e),t2(t)])}function t2(n){return Array.isArray(n)?n.join(" "):n}const YD=Symbol.for("motionComponentSymbol");function Ya(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function ZD(n,e,t){return xe.useCallback(r=>{r&&n.onMount&&n.onMount(r),e&&(r?e.mount(r):e.unmount()),t&&(typeof t=="function"?t(r):Ya(t)&&(t.current=r))},[e])}const C1=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),JD="framerAppearId",TA="data-"+C1(JD),{schedule:k1,cancel:MM}=vA(queueMicrotask,!1),AA=xe.createContext({});function e9(n,e,t,r,i){var a,l;const{visualElement:c}=xe.useContext(qd),h=xe.useContext(xA),f=xe.useContext(x1),p=xe.useContext(_A).reducedMotion,_=xe.useRef(null);r=r||h.renderer,!_.current&&r&&(_.current=r(n,{visualState:e,parent:c,props:t,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:p}));const y=_.current,E=xe.useContext(AA);y&&!y.projection&&i&&(y.type==="html"||y.type==="svg")&&t9(_.current,t,i,E);const w=xe.useRef(!1);xe.useInsertionEffect(()=>{y&&w.current&&y.update(t,f)});const k=t[TA],A=xe.useRef(!!k&&!(!((a=window.MotionHandoffIsComplete)===null||a===void 0)&&a.call(window,k))&&((l=window.MotionHasOptimisedAnimation)===null||l===void 0?void 0:l.call(window,k)));return UD(()=>{y&&(w.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),k1.render(y.render),A.current&&y.animationState&&y.animationState.animateChanges())}),xe.useEffect(()=>{y&&(!A.current&&y.animationState&&y.animationState.animateChanges(),A.current&&(queueMicrotask(()=>{var L;(L=window.MotionHandoffMarkAsComplete)===null||L===void 0||L.call(window,k)}),A.current=!1))}),y}function t9(n,e,t,r){const{layoutId:i,layout:a,drag:l,dragConstraints:c,layoutScroll:h,layoutRoot:f}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:CA(n.parent)),n.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!l||c&&Ya(c),visualElement:n,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,layoutScroll:h,layoutRoot:f})}function CA(n){if(n)return n.options.allowProjection!==!1?n.projection:CA(n.parent)}function n9({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:r,Component:i}){var a,l;n&&HD(n);function c(f,p){let _;const y={...xe.useContext(_A),...f,layoutId:r9(f)},{isStatic:E}=y,w=XD(f),k=r(f,E);if(!E&&E1){i9();const A=s9(y);_=A.MeasureLayout,w.visualElement=e9(i,k,y,e,A.ProjectionNode)}return pm.jsxs(qd.Provider,{value:w,children:[_&&w.visualElement?pm.jsx(_,{visualElement:w.visualElement,...y}):null,t(i,f,ZD(k,w.visualElement,p),k,E,w.visualElement)]})}c.displayName=`motion.${typeof i=="string"?i:`create(${(l=(a=i.displayName)!==null&&a!==void 0?a:i.name)!==null&&l!==void 0?l:""})`}`;const h=xe.forwardRef(c);return h[YD]=i,h}function r9({layoutId:n}){const e=xe.useContext(yA).id;return e&&n!==void 0?e+"-"+n:n}function i9(n,e){xe.useContext(xA).strict}function s9(n){const{drag:e,layout:t}=vl;if(!e&&!t)return{};const r={...e,...t};return{MeasureLayout:e!=null&&e.isEnabled(n)||t!=null&&t.isEnabled(n)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const o9=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function b1(n){return typeof n!="string"||n.includes("-")?!1:!!(o9.indexOf(n)>-1||/[A-Z]/u.test(n))}function n2(n){const e=[{},{}];return n==null||n.values.forEach((t,r)=>{e[0][r]=t.get(),e[1][r]=t.getVelocity()}),e}function S1(n,e,t,r){if(typeof e=="function"){const[i,a]=n2(r);e=e(t!==void 0?t:n.custom,i,a)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[i,a]=n2(r);e=e(t!==void 0?t:n.custom,i,a)}return e}const qm=n=>Array.isArray(n),a9=n=>!!(n&&typeof n=="object"&&n.mix&&n.toValue),l9=n=>qm(n)?n[n.length-1]||0:n,Nn=n=>!!(n&&n.getVelocity);function ef(n){const e=Nn(n)?n.get():n;return a9(e)?e.toValue():e}function u9({scrapeMotionValuesFromProps:n,createRenderState:e,onUpdate:t},r,i,a){const l={latestValues:c9(r,i,a,n),renderState:e()};return t&&(l.onMount=c=>t({props:r,current:c,...l}),l.onUpdate=c=>t(c)),l}const kA=n=>(e,t)=>{const r=xe.useContext(qd),i=xe.useContext(x1),a=()=>u9(n,e,r,i);return t?a():MD(a)};function c9(n,e,t,r){const i={},a=r(n,{});for(const y in a)i[y]=ef(a[y]);let{initial:l,animate:c}=n;const h=Gd(n),f=wA(n);e&&f&&!h&&n.inherit!==!1&&(l===void 0&&(l=e.initial),c===void 0&&(c=e.animate));let p=t?t.initial===!1:!1;p=p||l===!1;const _=p?c:l;if(_&&typeof _!="boolean"&&!Wd(_)){const y=Array.isArray(_)?_:[_];for(let E=0;E<y.length;E++){const w=S1(n,y[E]);if(w){const{transitionEnd:k,transition:A,...L}=w;for(const b in L){let S=L[b];if(Array.isArray(S)){const B=p?S.length-1:0;S=S[B]}S!==null&&(i[b]=S)}for(const b in k)i[b]=k[b]}}}return i}const Il=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],la=new Set(Il),bA=n=>e=>typeof e=="string"&&e.startsWith(n),I1=bA("--"),h9=bA("var(--"),R1=n=>h9(n)?f9.test(n.split("/*")[0].trim()):!1,f9=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,SA=(n,e)=>e&&typeof n=="number"?e.transform(n):n,ys=(n,e,t)=>t>e?e:t<n?n:t,Rl={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},Qu={...Rl,transform:n=>ys(0,1,n)},Oh={...Rl,default:1},dc=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),js=dc("deg"),Mi=dc("%"),Fe=dc("px"),d9=dc("vh"),p9=dc("vw"),r2={...Mi,parse:n=>Mi.parse(n)/100,transform:n=>Mi.transform(n*100)},m9={borderWidth:Fe,borderTopWidth:Fe,borderRightWidth:Fe,borderBottomWidth:Fe,borderLeftWidth:Fe,borderRadius:Fe,radius:Fe,borderTopLeftRadius:Fe,borderTopRightRadius:Fe,borderBottomRightRadius:Fe,borderBottomLeftRadius:Fe,width:Fe,maxWidth:Fe,height:Fe,maxHeight:Fe,top:Fe,right:Fe,bottom:Fe,left:Fe,padding:Fe,paddingTop:Fe,paddingRight:Fe,paddingBottom:Fe,paddingLeft:Fe,margin:Fe,marginTop:Fe,marginRight:Fe,marginBottom:Fe,marginLeft:Fe,backgroundPositionX:Fe,backgroundPositionY:Fe},g9={rotate:js,rotateX:js,rotateY:js,rotateZ:js,scale:Oh,scaleX:Oh,scaleY:Oh,scaleZ:Oh,skew:js,skewX:js,skewY:js,distance:Fe,translateX:Fe,translateY:Fe,translateZ:Fe,x:Fe,y:Fe,z:Fe,perspective:Fe,transformPerspective:Fe,opacity:Qu,originX:r2,originY:r2,originZ:Fe},i2={...Rl,transform:Math.round},P1={...m9,...g9,zIndex:i2,size:Fe,fillOpacity:Qu,strokeOpacity:Qu,numOctaves:i2},y9={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},_9=Il.length;function v9(n,e,t){let r="",i=!0;for(let a=0;a<_9;a++){const l=Il[a],c=n[l];if(c===void 0)continue;let h=!0;if(typeof c=="number"?h=c===(l.startsWith("scale")?1:0):h=parseFloat(c)===0,!h||t){const f=SA(c,P1[l]);if(!h){i=!1;const p=y9[l]||l;r+=`${p}(${f}) `}t&&(e[l]=f)}}return r=r.trim(),t?r=t(e,i?"":r):i&&(r="none"),r}function D1(n,e,t){const{style:r,vars:i,transformOrigin:a}=n;let l=!1,c=!1;for(const h in e){const f=e[h];if(la.has(h)){l=!0;continue}else if(I1(h)){i[h]=f;continue}else{const p=SA(f,P1[h]);h.startsWith("origin")?(c=!0,a[h]=p):r[h]=p}}if(e.transform||(l||t?r.transform=v9(e,n.transform,t):r.transform&&(r.transform="none")),c){const{originX:h="50%",originY:f="50%",originZ:p=0}=a;r.transformOrigin=`${h} ${f} ${p}`}}const x9={offset:"stroke-dashoffset",array:"stroke-dasharray"},E9={offset:"strokeDashoffset",array:"strokeDasharray"};function w9(n,e,t=1,r=0,i=!0){n.pathLength=1;const a=i?x9:E9;n[a.offset]=Fe.transform(-r);const l=Fe.transform(e),c=Fe.transform(t);n[a.array]=`${l} ${c}`}function s2(n,e,t){return typeof n=="string"?n:Fe.transform(e+t*n)}function T9(n,e,t){const r=s2(e,n.x,n.width),i=s2(t,n.y,n.height);return`${r} ${i}`}function B1(n,{attrX:e,attrY:t,attrScale:r,originX:i,originY:a,pathLength:l,pathSpacing:c=1,pathOffset:h=0,...f},p,_){if(D1(n,f,_),p){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:y,style:E,dimensions:w}=n;y.transform&&(w&&(E.transform=y.transform),delete y.transform),w&&(i!==void 0||a!==void 0||E.transform)&&(E.transformOrigin=T9(w,i!==void 0?i:.5,a!==void 0?a:.5)),e!==void 0&&(y.x=e),t!==void 0&&(y.y=t),r!==void 0&&(y.scale=r),l!==void 0&&w9(y,l,c,h,!1)}const F1=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),IA=()=>({...F1(),attrs:{}}),L1=n=>typeof n=="string"&&n.toLowerCase()==="svg";function RA(n,{style:e,vars:t},r,i){Object.assign(n.style,e,i&&i.getProjectionStyles(r));for(const a in t)n.style.setProperty(a,t[a])}const PA=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function DA(n,e,t,r){RA(n,e,void 0,r);for(const i in e.attrs)n.setAttribute(PA.has(i)?i:C1(i),e.attrs[i])}const Xu={};function A9(n){for(const e in n)Xu[e]=n[e],I1(e)&&(Xu[e].isCSSVariable=!0)}function BA(n,{layout:e,layoutId:t}){return la.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!Xu[n]||n==="opacity")}function N1(n,e,t){var r;const{style:i}=n,a={};for(const l in i)(Nn(i[l])||e.style&&Nn(e.style[l])||BA(l,n)||((r=t==null?void 0:t.getValue(l))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(a[l]=i[l]);return a}function FA(n,e,t){const r=N1(n,e,t);for(const i in n)if(Nn(n[i])||Nn(e[i])){const a=Il.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[a]=n[i]}return r}function C9(n,e){try{e.dimensions=typeof n.getBBox=="function"?n.getBBox():n.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const o2=["x","y","width","height","cx","cy","r"],k9={useVisualState:kA({scrapeMotionValuesFromProps:FA,createRenderState:IA,onUpdate:({props:n,prevProps:e,current:t,renderState:r,latestValues:i})=>{if(!t)return;let a=!!n.drag;if(!a){for(const c in i)if(la.has(c)){a=!0;break}}if(!a)return;let l=!e;if(e)for(let c=0;c<o2.length;c++){const h=o2[c];n[h]!==e[h]&&(l=!0)}l&&wt.read(()=>{C9(t,r),wt.render(()=>{B1(r,i,L1(t.tagName),n.transformTemplate),DA(t,r)})})}})},b9={useVisualState:kA({scrapeMotionValuesFromProps:N1,createRenderState:F1})};function LA(n,e,t){for(const r in e)!Nn(e[r])&&!BA(r,t)&&(n[r]=e[r])}function S9({transformTemplate:n},e){return xe.useMemo(()=>{const t=F1();return D1(t,e,n),Object.assign({},t.vars,t.style)},[e])}function I9(n,e){const t=n.style||{},r={};return LA(r,t,n),Object.assign(r,S9(n,e)),r}function R9(n,e){const t={},r=I9(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=r,t}function P9(n,e,t,r){const i=xe.useMemo(()=>{const a=IA();return B1(a,e,L1(r),n.transformTemplate),{...a.attrs,style:{...a.style}}},[e]);if(n.style){const a={};LA(a,n.style,n),i.style={...a,...i.style}}return i}function D9(n=!1){return(t,r,i,{latestValues:a},l)=>{const h=(b1(t)?P9:R9)(r,a,l,t),f=GD(r,typeof t=="string",n),p=t!==xe.Fragment?{...f,...h,ref:i}:{},{children:_}=r,y=xe.useMemo(()=>Nn(_)?_.get():_,[_]);return xe.createElement(t,{...p,children:y})}}function B9(n,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const l={...b1(r)?k9:b9,preloadedFeatures:n,useRender:D9(i),createVisualElement:e,Component:r};return n9(l)}}function NA(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let r=0;r<t;r++)if(e[r]!==n[r])return!1;return!0}function Kd(n,e,t){const r=n.getProps();return S1(r,e,t!==void 0?t:r.custom,n)}const F9=w1(()=>window.ScrollTimeline!==void 0);class L9{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,t){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=t}attachTimeline(e,t){const r=this.animations.map(i=>{if(F9()&&i.attachTimeline)return i.attachTimeline(e);if(typeof t=="function")return t(i)});return()=>{r.forEach((i,a)=>{i&&i(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let t=0;t<this.animations.length;t++)e=Math.max(e,this.animations[t].duration);return e}runAll(e){this.animations.forEach(t=>t[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class N9 extends L9{then(e,t){return Promise.all(this.animations).then(e).catch(t)}}function O1(n,e){return n?n[e]||n.default||n:void 0}const Wm=2e4;function OA(n){let e=0;const t=50;let r=n.next(e);for(;!r.done&&e<Wm;)e+=t,r=n.next(e);return e>=Wm?1/0:e}function M1(n){return typeof n=="function"}function a2(n,e){n.timeline=e,n.onfinish=null}const V1=n=>Array.isArray(n)&&typeof n[0]=="number",O9={linearEasing:void 0};function M9(n,e){const t=w1(n);return()=>{var r;return(r=O9[e])!==null&&r!==void 0?r:t()}}const ad=M9(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),MA=(n,e,t=10)=>{let r="";const i=Math.max(Math.round(e/t),2);for(let a=0;a<i;a++)r+=n(_l(0,i-1,a))+", ";return`linear(${r.substring(0,r.length-2)})`};function VA(n){return!!(typeof n=="function"&&ad()||!n||typeof n=="string"&&(n in Gm||ad())||V1(n)||Array.isArray(n)&&n.every(VA))}const Au=([n,e,t,r])=>`cubic-bezier(${n}, ${e}, ${t}, ${r})`,Gm={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Au([0,.65,.55,1]),circOut:Au([.55,0,1,.45]),backIn:Au([.31,.01,.66,-.59]),backOut:Au([.33,1.53,.69,.99])};function UA(n,e){if(n)return typeof n=="function"&&ad()?MA(n,e):V1(n)?Au(n):Array.isArray(n)?n.map(t=>UA(t,e)||Gm.easeOut):Gm[n]}const pi={x:!1,y:!1};function $A(){return pi.x||pi.y}function V9(n,e,t){var r;if(n instanceof Element)return[n];if(typeof n=="string"){let i=document;const a=(r=void 0)!==null&&r!==void 0?r:i.querySelectorAll(n);return a?Array.from(a):[]}return Array.from(n)}function zA(n,e){const t=V9(n),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[t,i,()=>r.abort()]}function l2(n){return!(n.pointerType==="touch"||$A())}function U9(n,e,t={}){const[r,i,a]=zA(n,t),l=c=>{if(!l2(c))return;const{target:h}=c,f=e(h,c);if(typeof f!="function"||!h)return;const p=_=>{l2(_)&&(f(_),h.removeEventListener("pointerleave",p))};h.addEventListener("pointerleave",p,i)};return r.forEach(c=>{c.addEventListener("pointerenter",l,i)}),a}const jA=(n,e)=>e?n===e?!0:jA(n,e.parentElement):!1,U1=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,$9=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function z9(n){return $9.has(n.tagName)||n.tabIndex!==-1}const Cu=new WeakSet;function u2(n){return e=>{e.key==="Enter"&&n(e)}}function Kp(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const j9=(n,e)=>{const t=n.currentTarget;if(!t)return;const r=u2(()=>{if(Cu.has(t))return;Kp(t,"down");const i=u2(()=>{Kp(t,"up")}),a=()=>Kp(t,"cancel");t.addEventListener("keyup",i,e),t.addEventListener("blur",a,e)});t.addEventListener("keydown",r,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",r),e)};function c2(n){return U1(n)&&!$A()}function H9(n,e,t={}){const[r,i,a]=zA(n,t),l=c=>{const h=c.currentTarget;if(!c2(c)||Cu.has(h))return;Cu.add(h);const f=e(h,c),p=(E,w)=>{window.removeEventListener("pointerup",_),window.removeEventListener("pointercancel",y),!(!c2(E)||!Cu.has(h))&&(Cu.delete(h),typeof f=="function"&&f(E,{success:w}))},_=E=>{p(E,t.useGlobalTarget||jA(h,E.target))},y=E=>{p(E,!1)};window.addEventListener("pointerup",_,i),window.addEventListener("pointercancel",y,i)};return r.forEach(c=>{!z9(c)&&c.getAttribute("tabindex")===null&&(c.tabIndex=0),(t.useGlobalTarget?window:c).addEventListener("pointerdown",l,i),c.addEventListener("focus",f=>j9(f,i),i)}),a}function q9(n){return n==="x"||n==="y"?pi[n]?null:(pi[n]=!0,()=>{pi[n]=!1}):pi.x||pi.y?null:(pi.x=pi.y=!0,()=>{pi.x=pi.y=!1})}const HA=new Set(["width","height","top","left","right","bottom",...Il]);let tf;function W9(){tf=void 0}const Vi={now:()=>(tf===void 0&&Vi.set(vn.isProcessing||$D.useManualTiming?vn.timestamp:performance.now()),tf),set:n=>{tf=n,queueMicrotask(W9)}};function $1(n,e){n.indexOf(e)===-1&&n.push(e)}function z1(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}class j1{constructor(){this.subscriptions=[]}add(e){return $1(this.subscriptions,e),()=>z1(this.subscriptions,e)}notify(e,t,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,t,r);else for(let a=0;a<i;a++){const l=this.subscriptions[a];l&&l(e,t,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function qA(n,e){return e?n*(1e3/e):0}const h2=30,G9=n=>!isNaN(parseFloat(n));class K9{constructor(e,t={}){this.version="12.0.6",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const a=Vi.now();this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=Vi.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=G9(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new j1);const r=this.events[e].add(t);return e==="change"?()=>{r(),wt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,r){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Vi.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>h2)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,h2);return qA(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Yu(n,e){return new K9(n,e)}function Q9(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,Yu(t))}function X9(n,e){const t=Kd(n,e);let{transitionEnd:r={},transition:i={},...a}=t||{};a={...a,...r};for(const l in a){const c=l9(a[l]);Q9(n,l,c)}}function Y9(n){return!!(Nn(n)&&n.add)}function Km(n,e){const t=n.getValue("willChange");if(Y9(t))return t.add(e)}function WA(n){return n.props[TA]}const GA=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,Z9=1e-7,J9=12;function e7(n,e,t,r,i){let a,l,c=0;do l=e+(t-e)/2,a=GA(l,r,i)-n,a>0?t=l:e=l;while(Math.abs(a)>Z9&&++c<J9);return l}function pc(n,e,t,r){if(n===e&&t===r)return Dr;const i=a=>e7(a,0,1,n,t);return a=>a===0||a===1?a:GA(i(a),e,r)}const KA=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,QA=n=>e=>1-n(1-e),XA=pc(.33,1.53,.69,.99),H1=QA(XA),YA=KA(H1),ZA=n=>(n*=2)<1?.5*H1(n):.5*(2-Math.pow(2,-10*(n-1))),q1=n=>1-Math.sin(Math.acos(n)),JA=QA(q1),eC=KA(q1),tC=n=>/^0[^.\s]+$/u.test(n);function t7(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||tC(n):!0}const Bu=n=>Math.round(n*1e5)/1e5,W1=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function n7(n){return n==null}const r7=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,G1=(n,e)=>t=>!!(typeof t=="string"&&r7.test(t)&&t.startsWith(n)||e&&!n7(t)&&Object.prototype.hasOwnProperty.call(t,e)),nC=(n,e,t)=>r=>{if(typeof r!="string")return r;const[i,a,l,c]=r.match(W1);return{[n]:parseFloat(i),[e]:parseFloat(a),[t]:parseFloat(l),alpha:c!==void 0?parseFloat(c):1}},i7=n=>ys(0,255,n),Qp={...Rl,transform:n=>Math.round(i7(n))},Go={test:G1("rgb","red"),parse:nC("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:r=1})=>"rgba("+Qp.transform(n)+", "+Qp.transform(e)+", "+Qp.transform(t)+", "+Bu(Qu.transform(r))+")"};function s7(n){let e="",t="",r="",i="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),r=n.substring(5,7),i=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),r=n.substring(3,4),i=n.substring(4,5),e+=e,t+=t,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Qm={test:G1("#"),parse:s7,transform:Go.transform},Za={test:G1("hsl","hue"),parse:nC("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:r=1})=>"hsla("+Math.round(n)+", "+Mi.transform(Bu(e))+", "+Mi.transform(Bu(t))+", "+Bu(Qu.transform(r))+")"},Bn={test:n=>Go.test(n)||Qm.test(n)||Za.test(n),parse:n=>Go.test(n)?Go.parse(n):Za.test(n)?Za.parse(n):Qm.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?Go.transform(n):Za.transform(n)},o7=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function a7(n){var e,t;return isNaN(n)&&typeof n=="string"&&(((e=n.match(W1))===null||e===void 0?void 0:e.length)||0)+(((t=n.match(o7))===null||t===void 0?void 0:t.length)||0)>0}const rC="number",iC="color",l7="var",u7="var(",f2="${}",c7=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Zu(n){const e=n.toString(),t=[],r={color:[],number:[],var:[]},i=[];let a=0;const c=e.replace(c7,h=>(Bn.test(h)?(r.color.push(a),i.push(iC),t.push(Bn.parse(h))):h.startsWith(u7)?(r.var.push(a),i.push(l7),t.push(h)):(r.number.push(a),i.push(rC),t.push(parseFloat(h))),++a,f2)).split(f2);return{values:t,split:c,indexes:r,types:i}}function sC(n){return Zu(n).values}function oC(n){const{split:e,types:t}=Zu(n),r=e.length;return i=>{let a="";for(let l=0;l<r;l++)if(a+=e[l],i[l]!==void 0){const c=t[l];c===rC?a+=Bu(i[l]):c===iC?a+=Bn.transform(i[l]):a+=i[l]}return a}}const h7=n=>typeof n=="number"?0:n;function f7(n){const e=sC(n);return oC(n)(e.map(h7))}const co={test:a7,parse:sC,createTransformer:oC,getAnimatableNone:f7},d7=new Set(["brightness","contrast","saturate","opacity"]);function p7(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[r]=t.match(W1)||[];if(!r)return n;const i=t.replace(r,"");let a=d7.has(e)?1:0;return r!==t&&(a*=100),e+"("+a+i+")"}const m7=/\b([a-z-]*)\(.*?\)/gu,Xm={...co,getAnimatableNone:n=>{const e=n.match(m7);return e?e.map(p7).join(" "):n}},g7={...P1,color:Bn,backgroundColor:Bn,outlineColor:Bn,fill:Bn,stroke:Bn,borderColor:Bn,borderTopColor:Bn,borderRightColor:Bn,borderBottomColor:Bn,borderLeftColor:Bn,filter:Xm,WebkitFilter:Xm},K1=n=>g7[n];function aC(n,e){let t=K1(n);return t!==Xm&&(t=co),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const y7=new Set(["auto","none","0"]);function _7(n,e,t){let r=0,i;for(;r<n.length&&!i;){const a=n[r];typeof a=="string"&&!y7.has(a)&&Zu(a).values.length&&(i=n[r]),r++}if(i&&t)for(const a of e)n[a]=aC(t,i)}const d2=n=>n===Rl||n===Fe,p2=(n,e)=>parseFloat(n.split(", ")[e]),m2=(n,e)=>(t,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return p2(i[1],e);{const a=r.match(/^matrix\((.+)\)$/u);return a?p2(a[1],n):0}},v7=new Set(["x","y","z"]),x7=Il.filter(n=>!v7.has(n));function E7(n){const e=[];return x7.forEach(t=>{const r=n.getValue(t);r!==void 0&&(e.push([t,r.get()]),r.set(t.startsWith("scale")?1:0))}),e}const xl={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:m2(4,13),y:m2(5,14)};xl.translateX=xl.x;xl.translateY=xl.y;const Yo=new Set;let Ym=!1,Zm=!1;function lC(){if(Zm){const n=Array.from(Yo).filter(r=>r.needsMeasurement),e=new Set(n.map(r=>r.element)),t=new Map;e.forEach(r=>{const i=E7(r);i.length&&(t.set(r,i),r.render())}),n.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=t.get(r);i&&i.forEach(([a,l])=>{var c;(c=r.getValue(a))===null||c===void 0||c.set(l)})}),n.forEach(r=>r.measureEndState()),n.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Zm=!1,Ym=!1,Yo.forEach(n=>n.complete()),Yo.clear()}function uC(){Yo.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(Zm=!0)})}function w7(){uC(),lC()}class Q1{constructor(e,t,r,i,a,l=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=r,this.motionValue=i,this.element=a,this.isAsync=l}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Yo.add(this),Ym||(Ym=!0,wt.read(uC),wt.resolveKeyframes(lC))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:r,motionValue:i}=this;for(let a=0;a<e.length;a++)if(e[a]===null)if(a===0){const l=i==null?void 0:i.get(),c=e[e.length-1];if(l!==void 0)e[0]=l;else if(r&&t){const h=r.readValue(t,c);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=c),i&&l===void 0&&i.set(e[0])}else e[a]=e[a-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Yo.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Yo.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const cC=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n),T7=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function A7(n){const e=T7.exec(n);if(!e)return[,];const[,t,r,i]=e;return[`--${t??r}`,i]}function hC(n,e,t=1){const[r,i]=A7(n);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const l=a.trim();return cC(l)?parseFloat(l):l}return R1(i)?hC(i,e,t+1):i}const fC=n=>e=>e.test(n),C7={test:n=>n==="auto",parse:n=>n},dC=[Rl,Fe,Mi,js,p9,d9,C7],g2=n=>dC.find(fC(n));class pC extends Q1{constructor(e,t,r,i,a){super(e,t,r,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:r}=this;if(!t||!t.current)return;super.readKeyframes();for(let h=0;h<e.length;h++){let f=e[h];if(typeof f=="string"&&(f=f.trim(),R1(f))){const p=hC(f,t.current);p!==void 0&&(e[h]=p),h===e.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!HA.has(r)||e.length!==2)return;const[i,a]=e,l=g2(i),c=g2(a);if(l!==c)if(d2(l)&&d2(c))for(let h=0;h<e.length;h++){const f=e[h];typeof f=="string"&&(e[h]=parseFloat(f))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,r=[];for(let i=0;i<e.length;i++)t7(e[i])&&r.push(i);r.length&&_7(e,r,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=xl[r](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const i=t[t.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:t,name:r,unresolvedKeyframes:i}=this;if(!t||!t.current)return;const a=t.getValue(r);a&&a.jump(this.measuredOrigin,!1);const l=i.length-1,c=i[l];i[l]=xl[r](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([h,f])=>{t.getValue(h).set(f)}),this.resolveNoneKeyframes()}}const y2=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(co.test(n)||n==="0")&&!n.startsWith("url("));function k7(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function b7(n,e,t,r){const i=n[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const a=n[n.length-1],l=y2(i,e),c=y2(a,e);return!l||!c?!1:k7(n)||(t==="spring"||M1(t))&&r}const S7=n=>n!==null;function Qd(n,{repeat:e,repeatType:t="loop"},r){const i=n.filter(S7),a=e&&t!=="loop"&&e%2===1?0:i.length-1;return!a||r===void 0?i[a]:r}const I7=40;class mC{constructor({autoplay:e=!0,delay:t=0,type:r="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:l="loop",...c}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Vi.now(),this.options={autoplay:e,delay:t,type:r,repeat:i,repeatDelay:a,repeatType:l,...c},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>I7?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&w7(),this._resolved}onKeyframesResolved(e,t){this.resolvedAt=Vi.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:a,delay:l,onComplete:c,onUpdate:h,isGenerator:f}=this.options;if(!f&&!b7(e,r,i,a))if(l)this.options.duration=0;else{h&&h(Qd(e,this.options,t)),c&&c(),this.resolveFinishedPromise();return}const p=this.initPlayback(e,t);p!==!1&&(this._resolved={keyframes:e,finalKeyframe:t,...p},this.onPostResolved())}onPostResolved(){}then(e,t){return this.currentFinishedPromise.then(e,t)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const It=(n,e,t)=>n+(e-n)*t;function Xp(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function R7({hue:n,saturation:e,lightness:t,alpha:r}){n/=360,e/=100,t/=100;let i=0,a=0,l=0;if(!e)i=a=l=t;else{const c=t<.5?t*(1+e):t+e-t*e,h=2*t-c;i=Xp(h,c,n+1/3),a=Xp(h,c,n),l=Xp(h,c,n-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(l*255),alpha:r}}function ld(n,e){return t=>t>0?e:n}const Yp=(n,e,t)=>{const r=n*n,i=t*(e*e-r)+r;return i<0?0:Math.sqrt(i)},P7=[Qm,Go,Za],D7=n=>P7.find(e=>e.test(n));function _2(n){const e=D7(n);if(!e)return!1;let t=e.parse(n);return e===Za&&(t=R7(t)),t}const v2=(n,e)=>{const t=_2(n),r=_2(e);if(!t||!r)return ld(n,e);const i={...t};return a=>(i.red=Yp(t.red,r.red,a),i.green=Yp(t.green,r.green,a),i.blue=Yp(t.blue,r.blue,a),i.alpha=It(t.alpha,r.alpha,a),Go.transform(i))},B7=(n,e)=>t=>e(n(t)),mc=(...n)=>n.reduce(B7),Jm=new Set(["none","hidden"]);function F7(n,e){return Jm.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function L7(n,e){return t=>It(n,e,t)}function X1(n){return typeof n=="number"?L7:typeof n=="string"?R1(n)?ld:Bn.test(n)?v2:M7:Array.isArray(n)?gC:typeof n=="object"?Bn.test(n)?v2:N7:ld}function gC(n,e){const t=[...n],r=t.length,i=n.map((a,l)=>X1(a)(a,e[l]));return a=>{for(let l=0;l<r;l++)t[l]=i[l](a);return t}}function N7(n,e){const t={...n,...e},r={};for(const i in t)n[i]!==void 0&&e[i]!==void 0&&(r[i]=X1(n[i])(n[i],e[i]));return i=>{for(const a in r)t[a]=r[a](i);return t}}function O7(n,e){var t;const r=[],i={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],c=n.indexes[l][i[l]],h=(t=n.values[c])!==null&&t!==void 0?t:0;r[a]=h,i[l]++}return r}const M7=(n,e)=>{const t=co.createTransformer(e),r=Zu(n),i=Zu(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Jm.has(n)&&!i.values.length||Jm.has(e)&&!r.values.length?F7(n,e):mc(gC(O7(r,i),i.values),t):ld(n,e)};function yC(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?It(n,e,t):X1(n)(n,e)}const V7=5;function _C(n,e,t){const r=Math.max(e-V7,0);return qA(t-n(r),e-r)}const Bt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},x2=.001;function U7({duration:n=Bt.duration,bounce:e=Bt.bounce,velocity:t=Bt.velocity,mass:r=Bt.mass}){let i,a,l=1-e;l=ys(Bt.minDamping,Bt.maxDamping,l),n=ys(Bt.minDuration,Bt.maxDuration,cs(n)),l<1?(i=f=>{const p=f*l,_=p*n,y=p-t,E=eg(f,l),w=Math.exp(-_);return x2-y/E*w},a=f=>{const _=f*l*n,y=_*t+t,E=Math.pow(l,2)*Math.pow(f,2)*n,w=Math.exp(-_),k=eg(Math.pow(f,2),l);return(-i(f)+x2>0?-1:1)*((y-E)*w)/k}):(i=f=>{const p=Math.exp(-f*n),_=(f-t)*n+1;return-.001+p*_},a=f=>{const p=Math.exp(-f*n),_=(t-f)*(n*n);return p*_});const c=5/n,h=z7(i,a,c);if(n=us(n),isNaN(h))return{stiffness:Bt.stiffness,damping:Bt.damping,duration:n};{const f=Math.pow(h,2)*r;return{stiffness:f,damping:l*2*Math.sqrt(r*f),duration:n}}}const $7=12;function z7(n,e,t){let r=t;for(let i=1;i<$7;i++)r=r-n(r)/e(r);return r}function eg(n,e){return n*Math.sqrt(1-e*e)}const j7=["duration","bounce"],H7=["stiffness","damping","mass"];function E2(n,e){return e.some(t=>n[t]!==void 0)}function q7(n){let e={velocity:Bt.velocity,stiffness:Bt.stiffness,damping:Bt.damping,mass:Bt.mass,isResolvedFromDuration:!1,...n};if(!E2(n,H7)&&E2(n,j7))if(n.visualDuration){const t=n.visualDuration,r=2*Math.PI/(t*1.2),i=r*r,a=2*ys(.05,1,1-(n.bounce||0))*Math.sqrt(i);e={...e,mass:Bt.mass,stiffness:i,damping:a}}else{const t=U7(n);e={...e,...t,mass:Bt.mass},e.isResolvedFromDuration=!0}return e}function vC(n=Bt.visualDuration,e=Bt.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:r,restDelta:i}=t;const a=t.keyframes[0],l=t.keyframes[t.keyframes.length-1],c={done:!1,value:a},{stiffness:h,damping:f,mass:p,duration:_,velocity:y,isResolvedFromDuration:E}=q7({...t,velocity:-cs(t.velocity||0)}),w=y||0,k=f/(2*Math.sqrt(h*p)),A=l-a,L=cs(Math.sqrt(h/p)),b=Math.abs(A)<5;r||(r=b?Bt.restSpeed.granular:Bt.restSpeed.default),i||(i=b?Bt.restDelta.granular:Bt.restDelta.default);let S;if(k<1){const U=eg(L,k);S=z=>{const I=Math.exp(-k*L*z);return l-I*((w+k*L*A)/U*Math.sin(U*z)+A*Math.cos(U*z))}}else if(k===1)S=U=>l-Math.exp(-L*U)*(A+(w+L*A)*U);else{const U=L*Math.sqrt(k*k-1);S=z=>{const I=Math.exp(-k*L*z),C=Math.min(U*z,300);return l-I*((w+k*L*A)*Math.sinh(C)+U*A*Math.cosh(C))/U}}const B={calculatedDuration:E&&_||null,next:U=>{const z=S(U);if(E)c.done=U>=_;else{let I=0;k<1&&(I=U===0?us(w):_C(S,U,z));const C=Math.abs(I)<=r,N=Math.abs(l-z)<=i;c.done=C&&N}return c.value=c.done?l:z,c},toString:()=>{const U=Math.min(OA(B),Wm),z=MA(I=>B.next(U*I).value,U,30);return U+"ms "+z}};return B}function w2({keyframes:n,velocity:e=0,power:t=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:l,min:c,max:h,restDelta:f=.5,restSpeed:p}){const _=n[0],y={done:!1,value:_},E=C=>c!==void 0&&C<c||h!==void 0&&C>h,w=C=>c===void 0?h:h===void 0||Math.abs(c-C)<Math.abs(h-C)?c:h;let k=t*e;const A=_+k,L=l===void 0?A:l(A);L!==A&&(k=L-_);const b=C=>-k*Math.exp(-C/r),S=C=>L+b(C),B=C=>{const N=b(C),P=S(C);y.done=Math.abs(N)<=f,y.value=y.done?L:P};let U,z;const I=C=>{E(y.value)&&(U=C,z=vC({keyframes:[y.value,w(y.value)],velocity:_C(S,C,y.value),damping:i,stiffness:a,restDelta:f,restSpeed:p}))};return I(0),{calculatedDuration:null,next:C=>{let N=!1;return!z&&U===void 0&&(N=!0,B(C),I(C)),U!==void 0&&C>=U?z.next(C-U):(!N&&B(C),y)}}}const W7=pc(.42,0,1,1),G7=pc(0,0,.58,1),xC=pc(.42,0,.58,1),K7=n=>Array.isArray(n)&&typeof n[0]!="number",T2={linear:Dr,easeIn:W7,easeInOut:xC,easeOut:G7,circIn:q1,circInOut:eC,circOut:JA,backIn:H1,backInOut:YA,backOut:XA,anticipate:ZA},A2=n=>{if(V1(n)){Hm(n.length===4);const[e,t,r,i]=n;return pc(e,t,r,i)}else if(typeof n=="string")return Hm(T2[n]!==void 0),T2[n];return n};function Q7(n,e,t){const r=[],i=t||yC,a=n.length-1;for(let l=0;l<a;l++){let c=i(n[l],n[l+1]);if(e){const h=Array.isArray(e)?e[l]||Dr:e;c=mc(h,c)}r.push(c)}return r}function X7(n,e,{clamp:t=!0,ease:r,mixer:i}={}){const a=n.length;if(Hm(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const l=n[0]===n[1];n[0]>n[a-1]&&(n=[...n].reverse(),e=[...e].reverse());const c=Q7(e,r,i),h=c.length,f=p=>{if(l&&p<n[0])return e[0];let _=0;if(h>1)for(;_<n.length-2&&!(p<n[_+1]);_++);const y=_l(n[_],n[_+1],p);return c[_](y)};return t?p=>f(ys(n[0],n[a-1],p)):f}function Y7(n,e){const t=n[n.length-1];for(let r=1;r<=e;r++){const i=_l(0,e,r);n.push(It(t,1,i))}}function Z7(n){const e=[0];return Y7(e,n.length-1),e}function J7(n,e){return n.map(t=>t*e)}function eB(n,e){return n.map(()=>e||xC).splice(0,n.length-1)}function ud({duration:n=300,keyframes:e,times:t,ease:r="easeInOut"}){const i=K7(r)?r.map(A2):A2(r),a={done:!1,value:e[0]},l=J7(t&&t.length===e.length?t:Z7(e),n),c=X7(l,e,{ease:Array.isArray(i)?i:eB(e,i)});return{calculatedDuration:n,next:h=>(a.value=c(h),a.done=h>=n,a)}}const tB=n=>{const e=({timestamp:t})=>n(t);return{start:()=>wt.update(e,!0),stop:()=>uo(e),now:()=>vn.isProcessing?vn.timestamp:Vi.now()}},nB={decay:w2,inertia:w2,tween:ud,keyframes:ud,spring:vC},rB=n=>n/100;class Y1 extends mC{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:h}=this.options;h&&h()};const{name:t,motionValue:r,element:i,keyframes:a}=this.options,l=(i==null?void 0:i.KeyframeResolver)||Q1,c=(h,f)=>this.onKeyframesResolved(h,f);this.resolver=new l(a,c,t,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:t="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:a,velocity:l=0}=this.options,c=M1(t)?t:nB[t]||ud;let h,f;c!==ud&&typeof e[0]!="number"&&(h=mc(rB,yC(e[0],e[1])),e=[0,100]);const p=c({...this.options,keyframes:e});a==="mirror"&&(f=c({...this.options,keyframes:[...e].reverse(),velocity:-l})),p.calculatedDuration===null&&(p.calculatedDuration=OA(p));const{calculatedDuration:_}=p,y=_+i,E=y*(r+1)-i;return{generator:p,mirroredGenerator:f,mapPercentToKeyframes:h,calculatedDuration:_,resolvedDuration:y,totalDuration:E}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,t=!1){const{resolved:r}=this;if(!r){const{keyframes:C}=this.options;return{done:!0,value:C[C.length-1]}}const{finalKeyframe:i,generator:a,mirroredGenerator:l,mapPercentToKeyframes:c,keyframes:h,calculatedDuration:f,totalDuration:p,resolvedDuration:_}=r;if(this.startTime===null)return a.next(0);const{delay:y,repeat:E,repeatType:w,repeatDelay:k,onUpdate:A}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-p/this.speed,this.startTime)),t?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const L=this.currentTime-y*(this.speed>=0?1:-1),b=this.speed>=0?L<0:L>p;this.currentTime=Math.max(L,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=p);let S=this.currentTime,B=a;if(E){const C=Math.min(this.currentTime,p)/_;let N=Math.floor(C),P=C%1;!P&&C>=1&&(P=1),P===1&&N--,N=Math.min(N,E+1),!!(N%2)&&(w==="reverse"?(P=1-P,k&&(P-=k/_)):w==="mirror"&&(B=l)),S=ys(0,1,P)*_}const U=b?{done:!1,value:h[0]}:B.next(S);c&&(U.value=c(U.value));let{done:z}=U;!b&&f!==null&&(z=this.speed>=0?this.currentTime>=p:this.currentTime<=0);const I=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&z);return I&&i!==void 0&&(U.value=Qd(h,this.options,i)),A&&A(U.value),I&&this.finish(),U}get duration(){const{resolved:e}=this;return e?cs(e.calculatedDuration):0}get time(){return cs(this.currentTime)}set time(e){e=us(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=cs(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=tB,onPlay:t,startTime:r}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),t&&t();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const iB=new Set(["opacity","clipPath","filter","transform"]);function sB(n,e,t,{delay:r=0,duration:i=300,repeat:a=0,repeatType:l="loop",ease:c="easeInOut",times:h}={}){const f={[e]:t};h&&(f.offset=h);const p=UA(c,i);return Array.isArray(p)&&(f.easing=p),n.animate(f,{delay:r,duration:i,easing:Array.isArray(p)?"linear":p,fill:"both",iterations:a+1,direction:l==="reverse"?"alternate":"normal"})}const oB=w1(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),cd=10,aB=2e4;function lB(n){return M1(n.type)||n.type==="spring"||!VA(n.ease)}function uB(n,e){const t=new Y1({...e,keyframes:n,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:n[0]};const i=[];let a=0;for(;!r.done&&a<aB;)r=t.sample(a),i.push(r.value),a+=cd;return{times:void 0,keyframes:i,duration:a-cd,ease:"linear"}}const EC={anticipate:ZA,backInOut:YA,circInOut:eC};function cB(n){return n in EC}class C2 extends mC{constructor(e){super(e);const{name:t,motionValue:r,element:i,keyframes:a}=this.options;this.resolver=new pC(a,(l,c)=>this.onKeyframesResolved(l,c),t,r,i),this.resolver.scheduleResolve()}initPlayback(e,t){let{duration:r=300,times:i,ease:a,type:l,motionValue:c,name:h,startTime:f}=this.options;if(!c.owner||!c.owner.current)return!1;if(typeof a=="string"&&ad()&&cB(a)&&(a=EC[a]),lB(this.options)){const{onComplete:_,onUpdate:y,motionValue:E,element:w,...k}=this.options,A=uB(e,k);e=A.keyframes,e.length===1&&(e[1]=e[0]),r=A.duration,i=A.times,a=A.ease,l="keyframes"}const p=sB(c.owner.current,h,e,{...this.options,duration:r,times:i,ease:a});return p.startTime=f??this.calcStartTime(),this.pendingTimeline?(a2(p,this.pendingTimeline),this.pendingTimeline=void 0):p.onfinish=()=>{const{onComplete:_}=this.options;c.set(Qd(e,this.options,t)),_&&_(),this.cancel(),this.resolveFinishedPromise()},{animation:p,duration:r,times:i,type:l,ease:a,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:t}=e;return cs(t)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:t}=e;return cs(t.currentTime||0)}set time(e){const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.currentTime=us(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:t}=e;return t.playbackRate}set speed(e){const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:t}=e;return t.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:t}=e;return t.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:t}=this;if(!t)return Dr;const{animation:r}=t;a2(r,e)}return Dr}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.playState==="finished"&&this.updateFinishedPromise(),t.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:t,keyframes:r,duration:i,type:a,ease:l,times:c}=e;if(t.playState==="idle"||t.playState==="finished")return;if(this.time){const{motionValue:f,onUpdate:p,onComplete:_,element:y,...E}=this.options,w=new Y1({...E,keyframes:r,duration:i,type:a,ease:l,times:c,isGenerator:!0}),k=us(this.time);f.setWithVelocity(w.sample(k-cd).value,w.sample(k).value,cd)}const{onStop:h}=this.options;h&&h(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:t,name:r,repeatDelay:i,repeatType:a,damping:l,type:c}=e;if(!t||!t.owner||!(t.owner.current instanceof HTMLElement))return!1;const{onUpdate:h,transformTemplate:f}=t.owner.getProps();return oB()&&r&&iB.has(r)&&!h&&!f&&!i&&a!=="mirror"&&l!==0&&c!=="inertia"}}const hB={type:"spring",stiffness:500,damping:25,restSpeed:10},fB=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),dB={type:"keyframes",duration:.8},pB={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},mB=(n,{keyframes:e})=>e.length>2?dB:la.has(n)?n.startsWith("scale")?fB(e[1]):hB:pB;function gB({when:n,delay:e,delayChildren:t,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:l,repeatDelay:c,from:h,elapsed:f,...p}){return!!Object.keys(p).length}const Z1=(n,e,t,r={},i,a)=>l=>{const c=O1(r,n)||{},h=c.delay||r.delay||0;let{elapsed:f=0}=r;f=f-us(h);let p={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...c,delay:-f,onUpdate:y=>{e.set(y),c.onUpdate&&c.onUpdate(y)},onComplete:()=>{l(),c.onComplete&&c.onComplete()},name:n,motionValue:e,element:a?void 0:i};gB(c)||(p={...p,...mB(n,p)}),p.duration&&(p.duration=us(p.duration)),p.repeatDelay&&(p.repeatDelay=us(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let _=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(p.duration=0,p.delay===0&&(_=!0)),_&&!a&&e.get()!==void 0){const y=Qd(p.keyframes,c);if(y!==void 0)return wt.update(()=>{p.onUpdate(y),p.onComplete()}),new N9([])}return!a&&C2.supports(p)?new C2(p):new Y1(p)};function yB({protectedKeys:n,needsAnimating:e},t){const r=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,r}function wC(n,e,{delay:t=0,transitionOverride:r,type:i}={}){var a;let{transition:l=n.getDefaultTransition(),transitionEnd:c,...h}=e;r&&(l=r);const f=[],p=i&&n.animationState&&n.animationState.getState()[i];for(const _ in h){const y=n.getValue(_,(a=n.latestValues[_])!==null&&a!==void 0?a:null),E=h[_];if(E===void 0||p&&yB(p,_))continue;const w={delay:t,...O1(l||{},_)};let k=!1;if(window.MotionHandoffAnimation){const L=WA(n);if(L){const b=window.MotionHandoffAnimation(L,_,wt);b!==null&&(w.startTime=b,k=!0)}}Km(n,_),y.start(Z1(_,y,E,n.shouldReduceMotion&&HA.has(_)?{type:!1}:w,n,k));const A=y.animation;A&&f.push(A)}return c&&Promise.all(f).then(()=>{wt.update(()=>{c&&X9(n,c)})}),f}function tg(n,e,t={}){var r;const i=Kd(n,e,t.type==="exit"?(r=n.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:a=n.getDefaultTransition()||{}}=i||{};t.transitionOverride&&(a=t.transitionOverride);const l=i?()=>Promise.all(wC(n,i,t)):()=>Promise.resolve(),c=n.variantChildren&&n.variantChildren.size?(f=0)=>{const{delayChildren:p=0,staggerChildren:_,staggerDirection:y}=a;return _B(n,e,p+f,_,y,t)}:()=>Promise.resolve(),{when:h}=a;if(h){const[f,p]=h==="beforeChildren"?[l,c]:[c,l];return f().then(()=>p())}else return Promise.all([l(),c(t.delay)])}function _B(n,e,t=0,r=0,i=1,a){const l=[],c=(n.variantChildren.size-1)*r,h=i===1?(f=0)=>f*r:(f=0)=>c-f*r;return Array.from(n.variantChildren).sort(vB).forEach((f,p)=>{f.notify("AnimationStart",e),l.push(tg(f,e,{...a,delay:t+h(p)}).then(()=>f.notify("AnimationComplete",e)))}),Promise.all(l)}function vB(n,e){return n.sortNodePosition(e)}function xB(n,e,t={}){n.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(a=>tg(n,a,t));r=Promise.all(i)}else if(typeof e=="string")r=tg(n,e,t);else{const i=typeof e=="function"?Kd(n,e,t.custom):e;r=Promise.all(wC(n,i,t))}return r.then(()=>{n.notify("AnimationComplete",e)})}const EB=A1.length;function TC(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?TC(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<EB;t++){const r=A1[t],i=n.props[r];(Ku(i)||i===!1)&&(e[r]=i)}return e}const wB=[...T1].reverse(),TB=T1.length;function AB(n){return e=>Promise.all(e.map(({animation:t,options:r})=>xB(n,t,r)))}function CB(n){let e=AB(n),t=k2(),r=!0;const i=h=>(f,p)=>{var _;const y=Kd(n,p,h==="exit"?(_=n.presenceContext)===null||_===void 0?void 0:_.custom:void 0);if(y){const{transition:E,transitionEnd:w,...k}=y;f={...f,...k,...w}}return f};function a(h){e=h(n)}function l(h){const{props:f}=n,p=TC(n.parent)||{},_=[],y=new Set;let E={},w=1/0;for(let A=0;A<TB;A++){const L=wB[A],b=t[L],S=f[L]!==void 0?f[L]:p[L],B=Ku(S),U=L===h?b.isActive:null;U===!1&&(w=A);let z=S===p[L]&&S!==f[L]&&B;if(z&&r&&n.manuallyAnimateOnMount&&(z=!1),b.protectedKeys={...E},!b.isActive&&U===null||!S&&!b.prevProp||Wd(S)||typeof S=="boolean")continue;const I=kB(b.prevProp,S);let C=I||L===h&&b.isActive&&!z&&B||A>w&&B,N=!1;const P=Array.isArray(S)?S:[S];let D=P.reduce(i(L),{});U===!1&&(D={});const{prevResolvedValues:V={}}=b,F={...V,...D},ce=pe=>{C=!0,y.has(pe)&&(N=!0,y.delete(pe)),b.needsAnimating[pe]=!0;const ee=n.getValue(pe);ee&&(ee.liveStyle=!1)};for(const pe in F){const ee=D[pe],he=V[pe];if(E.hasOwnProperty(pe))continue;let ie=!1;qm(ee)&&qm(he)?ie=!NA(ee,he):ie=ee!==he,ie?ee!=null?ce(pe):y.add(pe):ee!==void 0&&y.has(pe)?ce(pe):b.protectedKeys[pe]=!0}b.prevProp=S,b.prevResolvedValues=D,b.isActive&&(E={...E,...D}),r&&n.blockInitialAnimation&&(C=!1),C&&(!(z&&I)||N)&&_.push(...P.map(pe=>({animation:pe,options:{type:L}})))}if(y.size){const A={};y.forEach(L=>{const b=n.getBaseTarget(L),S=n.getValue(L);S&&(S.liveStyle=!0),A[L]=b??null}),_.push({animation:A})}let k=!!_.length;return r&&(f.initial===!1||f.initial===f.animate)&&!n.manuallyAnimateOnMount&&(k=!1),r=!1,k?e(_):Promise.resolve()}function c(h,f){var p;if(t[h].isActive===f)return Promise.resolve();(p=n.variantChildren)===null||p===void 0||p.forEach(y=>{var E;return(E=y.animationState)===null||E===void 0?void 0:E.setActive(h,f)}),t[h].isActive=f;const _=l(h);for(const y in t)t[y].protectedKeys={};return _}return{animateChanges:l,setActive:c,setAnimateFunction:a,getState:()=>t,reset:()=>{t=k2(),r=!0}}}function kB(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!NA(e,n):!1}function Uo(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function k2(){return{animate:Uo(!0),whileInView:Uo(),whileHover:Uo(),whileTap:Uo(),whileDrag:Uo(),whileFocus:Uo(),exit:Uo()}}class yo{constructor(e){this.isMounted=!1,this.node=e}update(){}}class bB extends yo{constructor(e){super(e),e.animationState||(e.animationState=CB(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Wd(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let SB=0;class IB extends yo{constructor(){super(...arguments),this.id=SB++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);t&&!e&&i.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const RB={animation:{Feature:bB},exit:{Feature:IB}};function Ju(n,e,t,r={passive:!0}){return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t)}function gc(n){return{point:{x:n.pageX,y:n.pageY}}}const PB=n=>e=>U1(e)&&n(e,gc(e));function Fu(n,e,t,r){return Ju(n,e,PB(t),r)}const b2=(n,e)=>Math.abs(n-e);function DB(n,e){const t=b2(n.x,e.x),r=b2(n.y,e.y);return Math.sqrt(t**2+r**2)}class AC{constructor(e,t,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=Jp(this.lastMoveEventInfo,this.history),y=this.startEvent!==null,E=DB(_.offset,{x:0,y:0})>=3;if(!y&&!E)return;const{point:w}=_,{timestamp:k}=vn;this.history.push({...w,timestamp:k});const{onStart:A,onMove:L}=this.handlers;y||(A&&A(this.lastMoveEvent,_),this.startEvent=this.lastMoveEvent),L&&L(this.lastMoveEvent,_)},this.handlePointerMove=(_,y)=>{this.lastMoveEvent=_,this.lastMoveEventInfo=Zp(y,this.transformPagePoint),wt.update(this.updatePoint,!0)},this.handlePointerUp=(_,y)=>{this.end();const{onEnd:E,onSessionEnd:w,resumeAnimation:k}=this.handlers;if(this.dragSnapToOrigin&&k&&k(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const A=Jp(_.type==="pointercancel"?this.lastMoveEventInfo:Zp(y,this.transformPagePoint),this.history);this.startEvent&&E&&E(_,A),w&&w(_,A)},!U1(e))return;this.dragSnapToOrigin=a,this.handlers=t,this.transformPagePoint=r,this.contextWindow=i||window;const l=gc(e),c=Zp(l,this.transformPagePoint),{point:h}=c,{timestamp:f}=vn;this.history=[{...h,timestamp:f}];const{onSessionStart:p}=t;p&&p(e,Jp(c,this.history)),this.removeListeners=mc(Fu(this.contextWindow,"pointermove",this.handlePointerMove),Fu(this.contextWindow,"pointerup",this.handlePointerUp),Fu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),uo(this.updatePoint)}}function Zp(n,e){return e?{point:e(n.point)}:n}function S2(n,e){return{x:n.x-e.x,y:n.y-e.y}}function Jp({point:n},e){return{point:n,delta:S2(n,CC(e)),offset:S2(n,BB(e)),velocity:FB(e,.1)}}function BB(n){return n[0]}function CC(n){return n[n.length-1]}function FB(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,r=null;const i=CC(n);for(;t>=0&&(r=n[t],!(i.timestamp-r.timestamp>us(e)));)t--;if(!r)return{x:0,y:0};const a=cs(i.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const l={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}const kC=1e-4,LB=1-kC,NB=1+kC,bC=.01,OB=0-bC,MB=0+bC;function Jn(n){return n.max-n.min}function VB(n,e,t){return Math.abs(n-e)<=t}function I2(n,e,t,r=.5){n.origin=r,n.originPoint=It(e.min,e.max,n.origin),n.scale=Jn(t)/Jn(e),n.translate=It(t.min,t.max,n.origin)-n.originPoint,(n.scale>=LB&&n.scale<=NB||isNaN(n.scale))&&(n.scale=1),(n.translate>=OB&&n.translate<=MB||isNaN(n.translate))&&(n.translate=0)}function Lu(n,e,t,r){I2(n.x,e.x,t.x,r?r.originX:void 0),I2(n.y,e.y,t.y,r?r.originY:void 0)}function R2(n,e,t){n.min=t.min+e.min,n.max=n.min+Jn(e)}function UB(n,e,t){R2(n.x,e.x,t.x),R2(n.y,e.y,t.y)}function P2(n,e,t){n.min=e.min-t.min,n.max=n.min+Jn(e)}function Nu(n,e,t){P2(n.x,e.x,t.x),P2(n.y,e.y,t.y)}function $B(n,{min:e,max:t},r){return e!==void 0&&n<e?n=r?It(e,n,r.min):Math.max(n,e):t!==void 0&&n>t&&(n=r?It(t,n,r.max):Math.min(n,t)),n}function D2(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function zB(n,{top:e,left:t,bottom:r,right:i}){return{x:D2(n.x,t,i),y:D2(n.y,e,r)}}function B2(n,e){let t=e.min-n.min,r=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,r]=[r,t]),{min:t,max:r}}function jB(n,e){return{x:B2(n.x,e.x),y:B2(n.y,e.y)}}function HB(n,e){let t=.5;const r=Jn(n),i=Jn(e);return i>r?t=_l(e.min,e.max-r,n.min):r>i&&(t=_l(n.min,n.max-i,e.min)),ys(0,1,t)}function qB(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const ng=.35;function WB(n=ng){return n===!1?n=0:n===!0&&(n=ng),{x:F2(n,"left","right"),y:F2(n,"top","bottom")}}function F2(n,e,t){return{min:L2(n,e),max:L2(n,t)}}function L2(n,e){return typeof n=="number"?n:n[e]||0}const N2=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ja=()=>({x:N2(),y:N2()}),O2=()=>({min:0,max:0}),Ot=()=>({x:O2(),y:O2()});function Wr(n){return[n("x"),n("y")]}function SC({top:n,left:e,right:t,bottom:r}){return{x:{min:e,max:t},y:{min:n,max:r}}}function GB({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function KB(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),r=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:r.y,right:r.x}}function em(n){return n===void 0||n===1}function rg({scale:n,scaleX:e,scaleY:t}){return!em(n)||!em(e)||!em(t)}function zo(n){return rg(n)||IC(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function IC(n){return M2(n.x)||M2(n.y)}function M2(n){return n&&n!=="0%"}function hd(n,e,t){const r=n-t,i=e*r;return t+i}function V2(n,e,t,r,i){return i!==void 0&&(n=hd(n,i,r)),hd(n,t,r)+e}function ig(n,e=0,t=1,r,i){n.min=V2(n.min,e,t,r,i),n.max=V2(n.max,e,t,r,i)}function RC(n,{x:e,y:t}){ig(n.x,e.translate,e.scale,e.originPoint),ig(n.y,t.translate,t.scale,t.originPoint)}const U2=.999999999999,$2=1.0000000000001;function QB(n,e,t,r=!1){const i=t.length;if(!i)return;e.x=e.y=1;let a,l;for(let c=0;c<i;c++){a=t[c],l=a.projectionDelta;const{visualElement:h}=a.options;h&&h.props.style&&h.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&tl(n,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,RC(n,l)),r&&zo(a.latestValues)&&tl(n,a.latestValues))}e.x<$2&&e.x>U2&&(e.x=1),e.y<$2&&e.y>U2&&(e.y=1)}function el(n,e){n.min=n.min+e,n.max=n.max+e}function z2(n,e,t,r,i=.5){const a=It(n.min,n.max,i);ig(n,e,t,a,r)}function tl(n,e){z2(n.x,e.x,e.scaleX,e.scale,e.originX),z2(n.y,e.y,e.scaleY,e.scale,e.originY)}function PC(n,e){return SC(KB(n.getBoundingClientRect(),e))}function XB(n,e,t){const r=PC(n,t),{scroll:i}=e;return i&&(el(r.x,i.offset.x),el(r.y,i.offset.y)),r}const DC=({current:n})=>n?n.ownerDocument.defaultView:null,YB=new WeakMap;class ZB{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ot(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=p=>{const{dragSnapToOrigin:_}=this.getProps();_?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(gc(p).point)},a=(p,_)=>{const{drag:y,dragPropagation:E,onDragStart:w}=this.getProps();if(y&&!E&&(this.openDragLock&&this.openDragLock(),this.openDragLock=q9(y),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Wr(A=>{let L=this.getAxisMotionValue(A).get()||0;if(Mi.test(L)){const{projection:b}=this.visualElement;if(b&&b.layout){const S=b.layout.layoutBox[A];S&&(L=Jn(S)*(parseFloat(L)/100))}}this.originPoint[A]=L}),w&&wt.postRender(()=>w(p,_)),Km(this.visualElement,"transform");const{animationState:k}=this.visualElement;k&&k.setActive("whileDrag",!0)},l=(p,_)=>{const{dragPropagation:y,dragDirectionLock:E,onDirectionLock:w,onDrag:k}=this.getProps();if(!y&&!this.openDragLock)return;const{offset:A}=_;if(E&&this.currentDirection===null){this.currentDirection=JB(A),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",_.point,A),this.updateAxis("y",_.point,A),this.visualElement.render(),k&&k(p,_)},c=(p,_)=>this.stop(p,_),h=()=>Wr(p=>{var _;return this.getAnimationState(p)==="paused"&&((_=this.getAxisMotionValue(p).animation)===null||_===void 0?void 0:_.play())}),{dragSnapToOrigin:f}=this.getProps();this.panSession=new AC(e,{onSessionStart:i,onStart:a,onMove:l,onSessionEnd:c,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,contextWindow:DC(this.visualElement)})}stop(e,t){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=t;this.startAnimation(i);const{onDragEnd:a}=this.getProps();a&&wt.postRender(()=>a(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,r){const{drag:i}=this.getProps();if(!r||!Mh(e,i,this.currentDirection))return;const a=this.getAxisMotionValue(e);let l=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(l=$B(l,this.constraints[e],this.elastic[e])),a.set(l)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,a=this.constraints;t&&Ya(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&i?this.constraints=zB(i.layoutBox,t):this.constraints=!1,this.elastic=WB(r),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Wr(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=qB(i.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Ya(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=XB(r,i.root,this.visualElement.getTransformPagePoint());let l=jB(i.layout.layoutBox,a);if(t){const c=t(GB(l));this.hasMutatedConstraints=!!c,c&&(l=SC(c))}return l}startAnimation(e){const{drag:t,dragMomentum:r,dragElastic:i,dragTransition:a,dragSnapToOrigin:l,onDragTransitionEnd:c}=this.getProps(),h=this.constraints||{},f=Wr(p=>{if(!Mh(p,t,this.currentDirection))return;let _=h[p]||{};l&&(_={min:0,max:0});const y=i?200:1e6,E=i?40:1e7,w={type:"inertia",velocity:r?e[p]:0,bounceStiffness:y,bounceDamping:E,timeConstant:750,restDelta:1,restSpeed:10,...a,..._};return this.startAxisValueAnimation(p,w)});return Promise.all(f).then(c)}startAxisValueAnimation(e,t){const r=this.getAxisMotionValue(e);return Km(this.visualElement,e),r.start(Z1(e,r,0,t,this.visualElement,!1))}stopAnimation(){Wr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Wr(e=>{var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[t];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Wr(t=>{const{drag:r}=this.getProps();if(!Mh(t,r,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(t);if(i&&i.layout){const{min:l,max:c}=i.layout.layoutBox[t];a.set(e[t]-It(l,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:r}=this.visualElement;if(!Ya(t)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Wr(l=>{const c=this.getAxisMotionValue(l);if(c&&this.constraints!==!1){const h=c.get();i[l]=HB({min:h,max:h},this.constraints[l])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Wr(l=>{if(!Mh(l,e,null))return;const c=this.getAxisMotionValue(l),{min:h,max:f}=this.constraints[l];c.set(It(h,f,i[l]))})}addListeners(){if(!this.visualElement.current)return;YB.set(this.visualElement,this);const e=this.visualElement.current,t=Fu(e,"pointerdown",h=>{const{drag:f,dragListener:p=!0}=this.getProps();f&&p&&this.start(h)}),r=()=>{const{dragConstraints:h}=this.getProps();Ya(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),wt.read(r);const l=Ju(window,"resize",()=>this.scalePositionWithinConstraints()),c=i.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f})=>{this.isDragging&&f&&(Wr(p=>{const _=this.getAxisMotionValue(p);_&&(this.originPoint[p]+=h[p].translate,_.set(_.get()+h[p].translate))}),this.visualElement.render())});return()=>{l(),t(),a(),c&&c()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:l=ng,dragMomentum:c=!0}=e;return{...e,drag:t,dragDirectionLock:r,dragPropagation:i,dragConstraints:a,dragElastic:l,dragMomentum:c}}}function Mh(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function JB(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class eF extends yo{constructor(e){super(e),this.removeGroupControls=Dr,this.removeListeners=Dr,this.controls=new ZB(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Dr}unmount(){this.removeGroupControls(),this.removeListeners()}}const j2=n=>(e,t)=>{n&&wt.postRender(()=>n(e,t))};class tF extends yo{constructor(){super(...arguments),this.removePointerDownListener=Dr}onPointerDown(e){this.session=new AC(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:DC(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:j2(e),onStart:j2(t),onMove:r,onEnd:(a,l)=>{delete this.session,i&&wt.postRender(()=>i(a,l))}}}mount(){this.removePointerDownListener=Fu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const nf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function H2(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const cu={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(Fe.test(n))n=parseFloat(n);else return n;const t=H2(n,e.target.x),r=H2(n,e.target.y);return`${t}% ${r}%`}},nF={correct:(n,{treeScale:e,projectionDelta:t})=>{const r=n,i=co.parse(n);if(i.length>5)return r;const a=co.createTransformer(n),l=typeof i[0]!="number"?1:0,c=t.x.scale*e.x,h=t.y.scale*e.y;i[0+l]/=c,i[1+l]/=h;const f=It(c,h,.5);return typeof i[2+l]=="number"&&(i[2+l]/=f),typeof i[3+l]=="number"&&(i[3+l]/=f),a(i)}};class rF extends xe.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r,layoutId:i}=this.props,{projection:a}=e;A9(iF),a&&(t.group&&t.group.add(a),r&&r.register&&i&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),nf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:r,drag:i,isPresent:a}=this.props,l=r.projection;return l&&(l.isPresent=a,i||e.layoutDependency!==t||t===void 0?l.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?l.promote():l.relegate()||wt.postRender(()=>{const c=l.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),k1.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function BC(n){const[e,t]=VD(),r=xe.useContext(yA);return pm.jsx(rF,{...n,layoutGroup:r,switchLayoutGroup:xe.useContext(AA),isPresent:e,safeToRemove:t})}const iF={borderRadius:{...cu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:cu,borderTopRightRadius:cu,borderBottomLeftRadius:cu,borderBottomRightRadius:cu,boxShadow:nF};function sF(n,e,t){const r=Nn(n)?n:Yu(n);return r.start(Z1("",r,e,t)),r.animation}function oF(n){return n instanceof SVGElement&&n.tagName!=="svg"}const aF=(n,e)=>n.depth-e.depth;class lF{constructor(){this.children=[],this.isDirty=!1}add(e){$1(this.children,e),this.isDirty=!0}remove(e){z1(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(aF),this.isDirty=!1,this.children.forEach(e)}}function uF(n,e){const t=Vi.now(),r=({timestamp:i})=>{const a=i-t;a>=e&&(uo(r),n(a-e))};return wt.read(r,!0),()=>uo(r)}const FC=["TopLeft","TopRight","BottomLeft","BottomRight"],cF=FC.length,q2=n=>typeof n=="string"?parseFloat(n):n,W2=n=>typeof n=="number"||Fe.test(n);function hF(n,e,t,r,i,a){i?(n.opacity=It(0,t.opacity!==void 0?t.opacity:1,fF(r)),n.opacityExit=It(e.opacity!==void 0?e.opacity:1,0,dF(r))):a&&(n.opacity=It(e.opacity!==void 0?e.opacity:1,t.opacity!==void 0?t.opacity:1,r));for(let l=0;l<cF;l++){const c=`border${FC[l]}Radius`;let h=G2(e,c),f=G2(t,c);if(h===void 0&&f===void 0)continue;h||(h=0),f||(f=0),h===0||f===0||W2(h)===W2(f)?(n[c]=Math.max(It(q2(h),q2(f),r),0),(Mi.test(f)||Mi.test(h))&&(n[c]+="%")):n[c]=f}(e.rotate||t.rotate)&&(n.rotate=It(e.rotate||0,t.rotate||0,r))}function G2(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const fF=LC(0,.5,JA),dF=LC(.5,.95,Dr);function LC(n,e,t){return r=>r<n?0:r>e?1:t(_l(n,e,r))}function K2(n,e){n.min=e.min,n.max=e.max}function qr(n,e){K2(n.x,e.x),K2(n.y,e.y)}function Q2(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function X2(n,e,t,r,i){return n-=e,n=hd(n,1/t,r),i!==void 0&&(n=hd(n,1/i,r)),n}function pF(n,e=0,t=1,r=.5,i,a=n,l=n){if(Mi.test(e)&&(e=parseFloat(e),e=It(l.min,l.max,e/100)-l.min),typeof e!="number")return;let c=It(a.min,a.max,r);n===a&&(c-=e),n.min=X2(n.min,e,t,c,i),n.max=X2(n.max,e,t,c,i)}function Y2(n,e,[t,r,i],a,l){pF(n,e[t],e[r],e[i],e.scale,a,l)}const mF=["x","scaleX","originX"],gF=["y","scaleY","originY"];function Z2(n,e,t,r){Y2(n.x,e,mF,t?t.x:void 0,r?r.x:void 0),Y2(n.y,e,gF,t?t.y:void 0,r?r.y:void 0)}function J2(n){return n.translate===0&&n.scale===1}function NC(n){return J2(n.x)&&J2(n.y)}function eE(n,e){return n.min===e.min&&n.max===e.max}function yF(n,e){return eE(n.x,e.x)&&eE(n.y,e.y)}function tE(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function OC(n,e){return tE(n.x,e.x)&&tE(n.y,e.y)}function nE(n){return Jn(n.x)/Jn(n.y)}function rE(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class _F{constructor(){this.members=[]}add(e){$1(this.members,e),e.scheduleRender()}remove(e){if(z1(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(i=>e===i);if(t===0)return!1;let r;for(let i=t;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,t){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:r}=e;t.onExitComplete&&t.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function vF(n,e,t){let r="";const i=n.x.translate/e.x,a=n.y.translate/e.y,l=(t==null?void 0:t.z)||0;if((i||a||l)&&(r=`translate3d(${i}px, ${a}px, ${l}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:f,rotate:p,rotateX:_,rotateY:y,skewX:E,skewY:w}=t;f&&(r=`perspective(${f}px) ${r}`),p&&(r+=`rotate(${p}deg) `),_&&(r+=`rotateX(${_}deg) `),y&&(r+=`rotateY(${y}deg) `),E&&(r+=`skewX(${E}deg) `),w&&(r+=`skewY(${w}deg) `)}const c=n.x.scale*e.x,h=n.y.scale*e.y;return(c!==1||h!==1)&&(r+=`scale(${c}, ${h})`),r||"none"}const jo={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},ku=typeof window<"u"&&window.MotionDebug!==void 0,tm=["","X","Y","Z"],xF={visibility:"hidden"},iE=1e3;let EF=0;function nm(n,e,t,r){const{latestValues:i}=e;i[n]&&(t[n]=i[n],e.setStaticValue(n,0),r&&(r[n]=0))}function MC(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=WA(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:i,layoutId:a}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",wt,!(i||a))}const{parent:r}=n;r&&!r.hasCheckedOptimisedAppear&&MC(r)}function VC({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(l={},c=e==null?void 0:e()){this.id=EF++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,ku&&(jo.totalNodes=jo.resolvedTargetDeltas=jo.recalculatedProjection=0),this.nodes.forEach(AF),this.nodes.forEach(IF),this.nodes.forEach(RF),this.nodes.forEach(CF),ku&&window.MotionDebug.record(jo)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new lF)}addEventListener(l,c){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new j1),this.eventHandlers.get(l).add(c)}notifyListeners(l,...c){const h=this.eventHandlers.get(l);h&&h.notify(...c)}hasListeners(l){return this.eventHandlers.has(l)}mount(l,c=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=oF(l),this.instance=l;const{layoutId:h,layout:f,visualElement:p}=this.options;if(p&&!p.current&&p.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),c&&(f||h)&&(this.isLayoutDirty=!0),n){let _;const y=()=>this.root.updateBlockedByResize=!1;n(l,()=>{this.root.updateBlockedByResize=!0,_&&_(),_=uF(y,250),nf.hasAnimatedSinceResize&&(nf.hasAnimatedSinceResize=!1,this.nodes.forEach(oE))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&p&&(h||f)&&this.addEventListener("didUpdate",({delta:_,hasLayoutChanged:y,hasRelativeLayoutChanged:E,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const k=this.options.transition||p.getDefaultTransition()||LF,{onLayoutAnimationStart:A,onLayoutAnimationComplete:L}=p.getProps(),b=!this.targetLayout||!OC(this.targetLayout,w),S=!y&&E;if(this.options.layoutRoot||this.resumeFrom||S||y&&(b||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(_,S);const B={...O1(k,"layout"),onPlay:A,onComplete:L};(p.shouldReduceMotion||this.options.layoutRoot)&&(B.delay=0,B.type=!1),this.startAnimation(B)}else y||oE(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,uo(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(PF),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&MC(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const _=this.path[p];_.shouldResetTransform=!0,_.updateScroll("snapshot"),_.options.layoutRoot&&_.willUpdate(!1)}const{layoutId:c,layout:h}=this.options;if(c===void 0&&!h)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(sE);return}this.isUpdating||this.nodes.forEach(bF),this.isUpdating=!1,this.nodes.forEach(SF),this.nodes.forEach(wF),this.nodes.forEach(TF),this.clearAllSnapshots();const c=Vi.now();vn.delta=ys(0,1e3/60,c-vn.timestamp),vn.timestamp=c,vn.isProcessing=!0,Gp.update.process(vn),Gp.preRender.process(vn),Gp.render.process(vn),vn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,k1.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(kF),this.sharedNodes.forEach(DF)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,wt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){wt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Jn(this.snapshot.measuredBox.x)&&!Jn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ot(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(c=!1),c){const h=r(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:h,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!i)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!NC(this.projectionDelta),h=this.getTransformTemplate(),f=h?h(this.latestValues,""):void 0,p=f!==this.prevTransformTemplateValue;l&&(c||zo(this.latestValues)||p)&&(i(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const c=this.measurePageBox();let h=this.removeElementScroll(c);return l&&(h=this.removeTransform(h)),NF(h),{animationId:this.root.animationId,measuredBox:c,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){var l;const{visualElement:c}=this.options;if(!c)return Ot();const h=c.measureViewportBox();if(!(((l=this.scroll)===null||l===void 0?void 0:l.wasRoot)||this.path.some(OF))){const{scroll:p}=this.root;p&&(el(h.x,p.offset.x),el(h.y,p.offset.y))}return h}removeElementScroll(l){var c;const h=Ot();if(qr(h,l),!((c=this.scroll)===null||c===void 0)&&c.wasRoot)return h;for(let f=0;f<this.path.length;f++){const p=this.path[f],{scroll:_,options:y}=p;p!==this.root&&_&&y.layoutScroll&&(_.wasRoot&&qr(h,l),el(h.x,_.offset.x),el(h.y,_.offset.y))}return h}applyTransform(l,c=!1){const h=Ot();qr(h,l);for(let f=0;f<this.path.length;f++){const p=this.path[f];!c&&p.options.layoutScroll&&p.scroll&&p!==p.root&&tl(h,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),zo(p.latestValues)&&tl(h,p.latestValues)}return zo(this.latestValues)&&tl(h,this.latestValues),h}removeTransform(l){const c=Ot();qr(c,l);for(let h=0;h<this.path.length;h++){const f=this.path[h];if(!f.instance||!zo(f.latestValues))continue;rg(f.latestValues)&&f.updateSnapshot();const p=Ot(),_=f.measurePageBox();qr(p,_),Z2(c,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,p)}return zo(this.latestValues)&&Z2(c,this.latestValues),c}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==vn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var c;const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==h;if(!(l||f&&this.isSharedProjectionDirty||this.isProjectionDirty||!((c=this.parent)===null||c===void 0)&&c.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:_,layoutId:y}=this.options;if(!(!this.layout||!(_||y))){if(this.resolvedRelativeTargetAt=vn.timestamp,!this.targetDelta&&!this.relativeTarget){const E=this.getClosestProjectingParent();E&&E.layout&&this.animationProgress!==1?(this.relativeParent=E,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ot(),this.relativeTargetOrigin=Ot(),Nu(this.relativeTargetOrigin,this.layout.layoutBox,E.layout.layoutBox),qr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Ot(),this.targetWithTransforms=Ot()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),UB(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):qr(this.target,this.layout.layoutBox),RC(this.target,this.targetDelta)):qr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const E=this.getClosestProjectingParent();E&&!!E.resumingFrom==!!this.resumingFrom&&!E.options.layoutScroll&&E.target&&this.animationProgress!==1?(this.relativeParent=E,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ot(),this.relativeTargetOrigin=Ot(),Nu(this.relativeTargetOrigin,this.target,E.target),qr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}ku&&jo.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||rg(this.parent.latestValues)||IC(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var l;const c=this.getLead(),h=!!this.resumingFrom||this!==c;let f=!0;if((this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty)&&(f=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===vn.timestamp&&(f=!1),f)return;const{layout:p,layoutId:_}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||_))return;qr(this.layoutCorrected,this.layout.layoutBox);const y=this.treeScale.x,E=this.treeScale.y;QB(this.layoutCorrected,this.treeScale,this.path,h),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Ot());const{target:w}=c;if(!w){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Q2(this.prevProjectionDelta.x,this.projectionDelta.x),Q2(this.prevProjectionDelta.y,this.projectionDelta.y)),Lu(this.projectionDelta,this.layoutCorrected,w,this.latestValues),(this.treeScale.x!==y||this.treeScale.y!==E||!rE(this.projectionDelta.x,this.prevProjectionDelta.x)||!rE(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w)),ku&&jo.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var c;if((c=this.options.visualElement)===null||c===void 0||c.scheduleRender(),l){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ja(),this.projectionDelta=Ja(),this.projectionDeltaWithTransform=Ja()}setAnimationOrigin(l,c=!1){const h=this.snapshot,f=h?h.latestValues:{},p={...this.latestValues},_=Ja();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const y=Ot(),E=h?h.source:void 0,w=this.layout?this.layout.source:void 0,k=E!==w,A=this.getStack(),L=!A||A.members.length<=1,b=!!(k&&!L&&this.options.crossfade===!0&&!this.path.some(FF));this.animationProgress=0;let S;this.mixTargetDelta=B=>{const U=B/1e3;aE(_.x,l.x,U),aE(_.y,l.y,U),this.setTargetDelta(_),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Nu(y,this.layout.layoutBox,this.relativeParent.layout.layoutBox),BF(this.relativeTarget,this.relativeTargetOrigin,y,U),S&&yF(this.relativeTarget,S)&&(this.isProjectionDirty=!1),S||(S=Ot()),qr(S,this.relativeTarget)),k&&(this.animationValues=p,hF(p,f,this.latestValues,U,b,L)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=U},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(uo(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=wt.update(()=>{nf.hasAnimatedSinceResize=!0,this.currentAnimation=sF(0,iE,{...l,onUpdate:c=>{this.mixTargetDelta(c),l.onUpdate&&l.onUpdate(c)},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(iE),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:c,target:h,layout:f,latestValues:p}=l;if(!(!c||!h||!f)){if(this!==l&&this.layout&&f&&UC(this.options.animationType,this.layout.layoutBox,f.layoutBox)){h=this.target||Ot();const _=Jn(this.layout.layoutBox.x);h.x.min=l.target.x.min,h.x.max=h.x.min+_;const y=Jn(this.layout.layoutBox.y);h.y.min=l.target.y.min,h.y.max=h.y.min+y}qr(c,h),tl(c,p),Lu(this.projectionDeltaWithTransform,this.layoutCorrected,c,p)}}registerSharedNode(l,c){this.sharedNodes.has(l)||this.sharedNodes.set(l,new _F),this.sharedNodes.get(l).add(c);const f=c.options.initialPromotionConfig;c.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(c):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var l;const{layoutId:c}=this.options;return c?((l=this.getStack())===null||l===void 0?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:c}=this.options;return c?(l=this.getStack())===null||l===void 0?void 0:l.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:c,preserveFollowOpacity:h}={}){const f=this.getStack();f&&f.promote(this,h),l&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let c=!1;const{latestValues:h}=l;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(c=!0),!c)return;const f={};h.z&&nm("z",l,f,this.animationValues);for(let p=0;p<tm.length;p++)nm(`rotate${tm[p]}`,l,f,this.animationValues),nm(`skew${tm[p]}`,l,f,this.animationValues);l.render();for(const p in f)l.setStaticValue(p,f[p]),this.animationValues&&(this.animationValues[p]=f[p]);l.scheduleRender()}getProjectionStyles(l){var c,h;if(!this.instance||this.isSVG)return;if(!this.isVisible)return xF;const f={visibility:""},p=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,f.opacity="",f.pointerEvents=ef(l==null?void 0:l.pointerEvents)||"",f.transform=p?p(this.latestValues,""):"none",f;const _=this.getLead();if(!this.projectionDelta||!this.layout||!_.target){const k={};return this.options.layoutId&&(k.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,k.pointerEvents=ef(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!zo(this.latestValues)&&(k.transform=p?p({},""):"none",this.hasProjected=!1),k}const y=_.animationValues||_.latestValues;this.applyTransformsToTarget(),f.transform=vF(this.projectionDeltaWithTransform,this.treeScale,y),p&&(f.transform=p(y,f.transform));const{x:E,y:w}=this.projectionDelta;f.transformOrigin=`${E.origin*100}% ${w.origin*100}% 0`,_.animationValues?f.opacity=_===this?(h=(c=y.opacity)!==null&&c!==void 0?c:this.latestValues.opacity)!==null&&h!==void 0?h:1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:f.opacity=_===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const k in Xu){if(y[k]===void 0)continue;const{correct:A,applyTo:L,isCSSVariable:b}=Xu[k],S=f.transform==="none"?y[k]:A(y[k],_);if(L){const B=L.length;for(let U=0;U<B;U++)f[L[U]]=S}else b?this.options.visualElement.renderState.vars[k]=S:f[k]=S}return this.options.layoutId&&(f.pointerEvents=_===this?ef(l==null?void 0:l.pointerEvents)||"":"none"),f}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var c;return(c=l.currentAnimation)===null||c===void 0?void 0:c.stop()}),this.root.nodes.forEach(sE),this.root.sharedNodes.clear()}}}function wF(n){n.updateLayout()}function TF(n){var e;const t=((e=n.resumeFrom)===null||e===void 0?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=n.layout,{animationType:a}=n.options,l=t.source!==n.layout.source;a==="size"?Wr(_=>{const y=l?t.measuredBox[_]:t.layoutBox[_],E=Jn(y);y.min=r[_].min,y.max=y.min+E}):UC(a,t.layoutBox,r)&&Wr(_=>{const y=l?t.measuredBox[_]:t.layoutBox[_],E=Jn(r[_]);y.max=y.min+E,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[_].max=n.relativeTarget[_].min+E)});const c=Ja();Lu(c,r,t.layoutBox);const h=Ja();l?Lu(h,n.applyTransform(i,!0),t.measuredBox):Lu(h,r,t.layoutBox);const f=!NC(c);let p=!1;if(!n.resumeFrom){const _=n.getClosestProjectingParent();if(_&&!_.resumeFrom){const{snapshot:y,layout:E}=_;if(y&&E){const w=Ot();Nu(w,t.layoutBox,y.layoutBox);const k=Ot();Nu(k,r,E.layoutBox),OC(w,k)||(p=!0),_.options.layoutRoot&&(n.relativeTarget=k,n.relativeTargetOrigin=w,n.relativeParent=_)}}}n.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:h,layoutDelta:c,hasLayoutChanged:f,hasRelativeLayoutChanged:p})}else if(n.isLead()){const{onExitComplete:r}=n.options;r&&r()}n.options.transition=void 0}function AF(n){ku&&jo.totalNodes++,n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function CF(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function kF(n){n.clearSnapshot()}function sE(n){n.clearMeasurements()}function bF(n){n.isLayoutDirty=!1}function SF(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function oE(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function IF(n){n.resolveTargetDelta()}function RF(n){n.calcProjection()}function PF(n){n.resetSkewAndRotation()}function DF(n){n.removeLeadSnapshot()}function aE(n,e,t){n.translate=It(e.translate,0,t),n.scale=It(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function lE(n,e,t,r){n.min=It(e.min,t.min,r),n.max=It(e.max,t.max,r)}function BF(n,e,t,r){lE(n.x,e.x,t.x,r),lE(n.y,e.y,t.y,r)}function FF(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const LF={duration:.45,ease:[.4,0,.1,1]},uE=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),cE=uE("applewebkit/")&&!uE("chrome/")?Math.round:Dr;function hE(n){n.min=cE(n.min),n.max=cE(n.max)}function NF(n){hE(n.x),hE(n.y)}function UC(n,e,t){return n==="position"||n==="preserve-aspect"&&!VB(nE(e),nE(t),.2)}function OF(n){var e;return n!==n.root&&((e=n.scroll)===null||e===void 0?void 0:e.wasRoot)}const MF=VC({attachResizeListener:(n,e)=>Ju(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),rm={current:void 0},$C=VC({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!rm.current){const n=new MF({});n.mount(window),n.setOptions({layoutScroll:!0}),rm.current=n}return rm.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),VF={pan:{Feature:tF},drag:{Feature:eF,ProjectionNode:$C,MeasureLayout:BC}};function fE(n,e,t){const{props:r}=n;n.animationState&&r.whileHover&&n.animationState.setActive("whileHover",t==="Start");const i="onHover"+t,a=r[i];a&&wt.postRender(()=>a(e,gc(e)))}class UF extends yo{mount(){const{current:e}=this.node;e&&(this.unmount=U9(e,(t,r)=>(fE(this.node,r,"Start"),i=>fE(this.node,i,"End"))))}unmount(){}}class $F extends yo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=mc(Ju(this.node.current,"focus",()=>this.onFocus()),Ju(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function dE(n,e,t){const{props:r}=n;n.animationState&&r.whileTap&&n.animationState.setActive("whileTap",t==="Start");const i="onTap"+(t==="End"?"":t),a=r[i];a&&wt.postRender(()=>a(e,gc(e)))}class zF extends yo{mount(){const{current:e}=this.node;e&&(this.unmount=H9(e,(t,r)=>(dE(this.node,r,"Start"),(i,{success:a})=>dE(this.node,i,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const sg=new WeakMap,im=new WeakMap,jF=n=>{const e=sg.get(n.target);e&&e(n)},HF=n=>{n.forEach(jF)};function qF({root:n,...e}){const t=n||document;im.has(t)||im.set(t,{});const r=im.get(t),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(HF,{root:n,...e})),r[i]}function WF(n,e,t){const r=qF(e);return sg.set(n,t),r.observe(n),()=>{sg.delete(n),r.unobserve(n)}}const GF={some:0,all:1};class KF extends yo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:r,amount:i="some",once:a}=e,l={root:t?t.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:GF[i]},c=h=>{const{isIntersecting:f}=h;if(this.isInView===f||(this.isInView=f,a&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:p,onViewportLeave:_}=this.node.getProps(),y=f?p:_;y&&y(h)};return WF(this.node.current,l,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(QF(e,t))&&this.startObserver()}unmount(){}}function QF({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const XF={inView:{Feature:KF},tap:{Feature:zF},focus:{Feature:$F},hover:{Feature:UF}},YF={layout:{ProjectionNode:$C,MeasureLayout:BC}},og={current:null},zC={current:!1};function ZF(){if(zC.current=!0,!!E1)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>og.current=n.matches;n.addListener(e),e()}else og.current=!1}const JF=[...dC,Bn,co],eL=n=>JF.find(fC(n)),pE=new WeakMap;function tL(n,e,t){for(const r in e){const i=e[r],a=t[r];if(Nn(i))n.addValue(r,i);else if(Nn(a))n.addValue(r,Yu(i,{owner:n}));else if(a!==i)if(n.hasValue(r)){const l=n.getValue(r);l.liveStyle===!0?l.jump(i):l.hasAnimated||l.set(i)}else{const l=n.getStaticValue(r);n.addValue(r,Yu(l!==void 0?l:i,{owner:n}))}}for(const r in t)e[r]===void 0&&n.removeValue(r);return e}const mE=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class nL{scrapeMotionValuesFromProps(e,t,r){return{}}constructor({parent:e,props:t,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:a,visualState:l},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Q1,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const E=Vi.now();this.renderScheduledAt<E&&(this.renderScheduledAt=E,wt.render(this.render,!1,!0))};const{latestValues:h,renderState:f,onUpdate:p}=l;this.onUpdate=p,this.latestValues=h,this.baseTarget={...h},this.initialValues=t.initial?{...h}:{},this.renderState=f,this.parent=e,this.props=t,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=c,this.blockInitialAnimation=!!a,this.isControllingVariants=Gd(t),this.isVariantNode=wA(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:_,...y}=this.scrapeMotionValuesFromProps(t,{},this);for(const E in y){const w=y[E];h[E]!==void 0&&Nn(w)&&w.set(h[E],!1)}}mount(e){this.current=e,pE.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,r)=>this.bindToMotionValue(r,t)),zC.current||ZF(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:og.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){pE.delete(this.current),this.projection&&this.projection.unmount(),uo(this.notifyUpdate),uo(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=la.has(e),i=t.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&wt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=t.on("renderRequest",this.scheduleRender);let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{i(),a(),l&&l(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in vl){const t=vl[e];if(!t)continue;const{isEnabled:r,Feature:i}=t;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ot()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let r=0;r<mE.length;r++){const i=mE[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,l=e[a];l&&(this.propEventSubscriptions[i]=this.on(i,l))}this.prevMotionValues=tL(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const r=this.values.get(e);t!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&t!==void 0&&(r=Yu(t===null?void 0:t,{owner:this}),this.addValue(e,r)),r}readValue(e,t){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(cC(i)||tC(i))?i=parseFloat(i):!eL(i)&&co.test(t)&&(i=aC(e,t)),this.setBaseTarget(e,Nn(i)?i.get():i)),Nn(i)?i.get():i}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const l=S1(this.props,r,(t=this.presenceContext)===null||t===void 0?void 0:t.custom);l&&(i=l[e])}if(r&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!Nn(a)?a:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new j1),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class jC extends nL{constructor(){super(...arguments),this.KeyframeResolver=pC}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:r}){delete t[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Nn(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function rL(n){return window.getComputedStyle(n)}class iL extends jC{constructor(){super(...arguments),this.type="html",this.renderInstance=RA}readValueFromInstance(e,t){if(la.has(t)){const r=K1(t);return r&&r.default||0}else{const r=rL(e),i=(I1(t)?r.getPropertyValue(t):r[t])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:t}){return PC(e,t)}build(e,t,r){D1(e,t,r.transformTemplate)}scrapeMotionValuesFromProps(e,t,r){return N1(e,t,r)}}class sL extends jC{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ot}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(la.has(t)){const r=K1(t);return r&&r.default||0}return t=PA.has(t)?t:C1(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,r){return FA(e,t,r)}build(e,t,r){B1(e,t,this.isSVGTag,r.transformTemplate)}renderInstance(e,t,r,i){DA(e,t,r,i)}mount(e){this.isSVGTag=L1(e.tagName),super.mount(e)}}const oL=(n,e)=>b1(n)?new sL(e):new iL(e,{allowProjection:n!==xe.Fragment}),aL=B9({...RB,...XF,...VF,...YF},oL),UM=KD(aL);var rf={exports:{}};function lL(n){throw new Error('Could not dynamically require "'+n+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var sf={exports:{}};const uL={},cL=Object.freeze(Object.defineProperty({__proto__:null,default:uL},Symbol.toStringTag,{value:"Module"})),hL=Ok(cL);var fL=sf.exports,gE;function Qe(){return gE||(gE=1,function(n,e){(function(t,r){n.exports=r()})(fL,function(){var t=t||function(r,i){var a;if(typeof window<"u"&&window.crypto&&(a=window.crypto),typeof self<"u"&&self.crypto&&(a=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(a=globalThis.crypto),!a&&typeof window<"u"&&window.msCrypto&&(a=window.msCrypto),!a&&typeof Cp<"u"&&Cp.crypto&&(a=Cp.crypto),!a&&typeof lL=="function")try{a=hL}catch{}var l=function(){if(a){if(typeof a.getRandomValues=="function")try{return a.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof a.randomBytes=="function")try{return a.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},c=Object.create||function(){function b(){}return function(S){var B;return b.prototype=S,B=new b,b.prototype=null,B}}(),h={},f=h.lib={},p=f.Base=function(){return{extend:function(b){var S=c(this);return b&&S.mixIn(b),(!S.hasOwnProperty("init")||this.init===S.init)&&(S.init=function(){S.$super.init.apply(this,arguments)}),S.init.prototype=S,S.$super=this,S},create:function(){var b=this.extend();return b.init.apply(b,arguments),b},init:function(){},mixIn:function(b){for(var S in b)b.hasOwnProperty(S)&&(this[S]=b[S]);b.hasOwnProperty("toString")&&(this.toString=b.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),_=f.WordArray=p.extend({init:function(b,S){b=this.words=b||[],S!=i?this.sigBytes=S:this.sigBytes=b.length*4},toString:function(b){return(b||E).stringify(this)},concat:function(b){var S=this.words,B=b.words,U=this.sigBytes,z=b.sigBytes;if(this.clamp(),U%4)for(var I=0;I<z;I++){var C=B[I>>>2]>>>24-I%4*8&255;S[U+I>>>2]|=C<<24-(U+I)%4*8}else for(var N=0;N<z;N+=4)S[U+N>>>2]=B[N>>>2];return this.sigBytes+=z,this},clamp:function(){var b=this.words,S=this.sigBytes;b[S>>>2]&=4294967295<<32-S%4*8,b.length=r.ceil(S/4)},clone:function(){var b=p.clone.call(this);return b.words=this.words.slice(0),b},random:function(b){for(var S=[],B=0;B<b;B+=4)S.push(l());return new _.init(S,b)}}),y=h.enc={},E=y.Hex={stringify:function(b){for(var S=b.words,B=b.sigBytes,U=[],z=0;z<B;z++){var I=S[z>>>2]>>>24-z%4*8&255;U.push((I>>>4).toString(16)),U.push((I&15).toString(16))}return U.join("")},parse:function(b){for(var S=b.length,B=[],U=0;U<S;U+=2)B[U>>>3]|=parseInt(b.substr(U,2),16)<<24-U%8*4;return new _.init(B,S/2)}},w=y.Latin1={stringify:function(b){for(var S=b.words,B=b.sigBytes,U=[],z=0;z<B;z++){var I=S[z>>>2]>>>24-z%4*8&255;U.push(String.fromCharCode(I))}return U.join("")},parse:function(b){for(var S=b.length,B=[],U=0;U<S;U++)B[U>>>2]|=(b.charCodeAt(U)&255)<<24-U%4*8;return new _.init(B,S)}},k=y.Utf8={stringify:function(b){try{return decodeURIComponent(escape(w.stringify(b)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(b){return w.parse(unescape(encodeURIComponent(b)))}},A=f.BufferedBlockAlgorithm=p.extend({reset:function(){this._data=new _.init,this._nDataBytes=0},_append:function(b){typeof b=="string"&&(b=k.parse(b)),this._data.concat(b),this._nDataBytes+=b.sigBytes},_process:function(b){var S,B=this._data,U=B.words,z=B.sigBytes,I=this.blockSize,C=I*4,N=z/C;b?N=r.ceil(N):N=r.max((N|0)-this._minBufferSize,0);var P=N*I,D=r.min(P*4,z);if(P){for(var V=0;V<P;V+=I)this._doProcessBlock(U,V);S=U.splice(0,P),B.sigBytes-=D}return new _.init(S,D)},clone:function(){var b=p.clone.call(this);return b._data=this._data.clone(),b},_minBufferSize:0});f.Hasher=A.extend({cfg:p.extend(),init:function(b){this.cfg=this.cfg.extend(b),this.reset()},reset:function(){A.reset.call(this),this._doReset()},update:function(b){return this._append(b),this._process(),this},finalize:function(b){b&&this._append(b);var S=this._doFinalize();return S},blockSize:16,_createHelper:function(b){return function(S,B){return new b.init(B).finalize(S)}},_createHmacHelper:function(b){return function(S,B){return new L.HMAC.init(b,B).finalize(S)}}});var L=h.algo={};return h}(Math);return t})}(sf)),sf.exports}var of={exports:{}},dL=of.exports,yE;function Xd(){return yE||(yE=1,function(n,e){(function(t,r){n.exports=r(Qe())})(dL,function(t){return function(r){var i=t,a=i.lib,l=a.Base,c=a.WordArray,h=i.x64={};h.Word=l.extend({init:function(f,p){this.high=f,this.low=p}}),h.WordArray=l.extend({init:function(f,p){f=this.words=f||[],p!=r?this.sigBytes=p:this.sigBytes=f.length*8},toX32:function(){for(var f=this.words,p=f.length,_=[],y=0;y<p;y++){var E=f[y];_.push(E.high),_.push(E.low)}return c.create(_,this.sigBytes)},clone:function(){for(var f=l.clone.call(this),p=f.words=this.words.slice(0),_=p.length,y=0;y<_;y++)p[y]=p[y].clone();return f}})}(),t})}(of)),of.exports}var af={exports:{}},pL=af.exports,_E;function mL(){return _E||(_E=1,function(n,e){(function(t,r){n.exports=r(Qe())})(pL,function(t){return function(){if(typeof ArrayBuffer=="function"){var r=t,i=r.lib,a=i.WordArray,l=a.init,c=a.init=function(h){if(h instanceof ArrayBuffer&&(h=new Uint8Array(h)),(h instanceof Int8Array||typeof Uint8ClampedArray<"u"&&h instanceof Uint8ClampedArray||h instanceof Int16Array||h instanceof Uint16Array||h instanceof Int32Array||h instanceof Uint32Array||h instanceof Float32Array||h instanceof Float64Array)&&(h=new Uint8Array(h.buffer,h.byteOffset,h.byteLength)),h instanceof Uint8Array){for(var f=h.byteLength,p=[],_=0;_<f;_++)p[_>>>2]|=h[_]<<24-_%4*8;l.call(this,p,f)}else l.apply(this,arguments)};c.prototype=a}}(),t.lib.WordArray})}(af)),af.exports}var lf={exports:{}},gL=lf.exports,vE;function yL(){return vE||(vE=1,function(n,e){(function(t,r){n.exports=r(Qe())})(gL,function(t){return function(){var r=t,i=r.lib,a=i.WordArray,l=r.enc;l.Utf16=l.Utf16BE={stringify:function(h){for(var f=h.words,p=h.sigBytes,_=[],y=0;y<p;y+=2){var E=f[y>>>2]>>>16-y%4*8&65535;_.push(String.fromCharCode(E))}return _.join("")},parse:function(h){for(var f=h.length,p=[],_=0;_<f;_++)p[_>>>1]|=h.charCodeAt(_)<<16-_%2*16;return a.create(p,f*2)}},l.Utf16LE={stringify:function(h){for(var f=h.words,p=h.sigBytes,_=[],y=0;y<p;y+=2){var E=c(f[y>>>2]>>>16-y%4*8&65535);_.push(String.fromCharCode(E))}return _.join("")},parse:function(h){for(var f=h.length,p=[],_=0;_<f;_++)p[_>>>1]|=c(h.charCodeAt(_)<<16-_%2*16);return a.create(p,f*2)}};function c(h){return h<<8&4278255360|h>>>8&16711935}}(),t.enc.Utf16})}(lf)),lf.exports}var uf={exports:{}},_L=uf.exports,xE;function ua(){return xE||(xE=1,function(n,e){(function(t,r){n.exports=r(Qe())})(_L,function(t){return function(){var r=t,i=r.lib,a=i.WordArray,l=r.enc;l.Base64={stringify:function(h){var f=h.words,p=h.sigBytes,_=this._map;h.clamp();for(var y=[],E=0;E<p;E+=3)for(var w=f[E>>>2]>>>24-E%4*8&255,k=f[E+1>>>2]>>>24-(E+1)%4*8&255,A=f[E+2>>>2]>>>24-(E+2)%4*8&255,L=w<<16|k<<8|A,b=0;b<4&&E+b*.75<p;b++)y.push(_.charAt(L>>>6*(3-b)&63));var S=_.charAt(64);if(S)for(;y.length%4;)y.push(S);return y.join("")},parse:function(h){var f=h.length,p=this._map,_=this._reverseMap;if(!_){_=this._reverseMap=[];for(var y=0;y<p.length;y++)_[p.charCodeAt(y)]=y}var E=p.charAt(64);if(E){var w=h.indexOf(E);w!==-1&&(f=w)}return c(h,f,_)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function c(h,f,p){for(var _=[],y=0,E=0;E<f;E++)if(E%4){var w=p[h.charCodeAt(E-1)]<<E%4*2,k=p[h.charCodeAt(E)]>>>6-E%4*2,A=w|k;_[y>>>2]|=A<<24-y%4*8,y++}return a.create(_,y)}}(),t.enc.Base64})}(uf)),uf.exports}var cf={exports:{}},vL=cf.exports,EE;function xL(){return EE||(EE=1,function(n,e){(function(t,r){n.exports=r(Qe())})(vL,function(t){return function(){var r=t,i=r.lib,a=i.WordArray,l=r.enc;l.Base64url={stringify:function(h,f){f===void 0&&(f=!0);var p=h.words,_=h.sigBytes,y=f?this._safe_map:this._map;h.clamp();for(var E=[],w=0;w<_;w+=3)for(var k=p[w>>>2]>>>24-w%4*8&255,A=p[w+1>>>2]>>>24-(w+1)%4*8&255,L=p[w+2>>>2]>>>24-(w+2)%4*8&255,b=k<<16|A<<8|L,S=0;S<4&&w+S*.75<_;S++)E.push(y.charAt(b>>>6*(3-S)&63));var B=y.charAt(64);if(B)for(;E.length%4;)E.push(B);return E.join("")},parse:function(h,f){f===void 0&&(f=!0);var p=h.length,_=f?this._safe_map:this._map,y=this._reverseMap;if(!y){y=this._reverseMap=[];for(var E=0;E<_.length;E++)y[_.charCodeAt(E)]=E}var w=_.charAt(64);if(w){var k=h.indexOf(w);k!==-1&&(p=k)}return c(h,p,y)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function c(h,f,p){for(var _=[],y=0,E=0;E<f;E++)if(E%4){var w=p[h.charCodeAt(E-1)]<<E%4*2,k=p[h.charCodeAt(E)]>>>6-E%4*2,A=w|k;_[y>>>2]|=A<<24-y%4*8,y++}return a.create(_,y)}}(),t.enc.Base64url})}(cf)),cf.exports}var hf={exports:{}},EL=hf.exports,wE;function ca(){return wE||(wE=1,function(n,e){(function(t,r){n.exports=r(Qe())})(EL,function(t){return function(r){var i=t,a=i.lib,l=a.WordArray,c=a.Hasher,h=i.algo,f=[];(function(){for(var k=0;k<64;k++)f[k]=r.abs(r.sin(k+1))*4294967296|0})();var p=h.MD5=c.extend({_doReset:function(){this._hash=new l.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(k,A){for(var L=0;L<16;L++){var b=A+L,S=k[b];k[b]=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360}var B=this._hash.words,U=k[A+0],z=k[A+1],I=k[A+2],C=k[A+3],N=k[A+4],P=k[A+5],D=k[A+6],V=k[A+7],F=k[A+8],ce=k[A+9],ge=k[A+10],Ce=k[A+11],pe=k[A+12],ee=k[A+13],he=k[A+14],ie=k[A+15],M=B[0],j=B[1],G=B[2],Z=B[3];M=_(M,j,G,Z,U,7,f[0]),Z=_(Z,M,j,G,z,12,f[1]),G=_(G,Z,M,j,I,17,f[2]),j=_(j,G,Z,M,C,22,f[3]),M=_(M,j,G,Z,N,7,f[4]),Z=_(Z,M,j,G,P,12,f[5]),G=_(G,Z,M,j,D,17,f[6]),j=_(j,G,Z,M,V,22,f[7]),M=_(M,j,G,Z,F,7,f[8]),Z=_(Z,M,j,G,ce,12,f[9]),G=_(G,Z,M,j,ge,17,f[10]),j=_(j,G,Z,M,Ce,22,f[11]),M=_(M,j,G,Z,pe,7,f[12]),Z=_(Z,M,j,G,ee,12,f[13]),G=_(G,Z,M,j,he,17,f[14]),j=_(j,G,Z,M,ie,22,f[15]),M=y(M,j,G,Z,z,5,f[16]),Z=y(Z,M,j,G,D,9,f[17]),G=y(G,Z,M,j,Ce,14,f[18]),j=y(j,G,Z,M,U,20,f[19]),M=y(M,j,G,Z,P,5,f[20]),Z=y(Z,M,j,G,ge,9,f[21]),G=y(G,Z,M,j,ie,14,f[22]),j=y(j,G,Z,M,N,20,f[23]),M=y(M,j,G,Z,ce,5,f[24]),Z=y(Z,M,j,G,he,9,f[25]),G=y(G,Z,M,j,C,14,f[26]),j=y(j,G,Z,M,F,20,f[27]),M=y(M,j,G,Z,ee,5,f[28]),Z=y(Z,M,j,G,I,9,f[29]),G=y(G,Z,M,j,V,14,f[30]),j=y(j,G,Z,M,pe,20,f[31]),M=E(M,j,G,Z,P,4,f[32]),Z=E(Z,M,j,G,F,11,f[33]),G=E(G,Z,M,j,Ce,16,f[34]),j=E(j,G,Z,M,he,23,f[35]),M=E(M,j,G,Z,z,4,f[36]),Z=E(Z,M,j,G,N,11,f[37]),G=E(G,Z,M,j,V,16,f[38]),j=E(j,G,Z,M,ge,23,f[39]),M=E(M,j,G,Z,ee,4,f[40]),Z=E(Z,M,j,G,U,11,f[41]),G=E(G,Z,M,j,C,16,f[42]),j=E(j,G,Z,M,D,23,f[43]),M=E(M,j,G,Z,ce,4,f[44]),Z=E(Z,M,j,G,pe,11,f[45]),G=E(G,Z,M,j,ie,16,f[46]),j=E(j,G,Z,M,I,23,f[47]),M=w(M,j,G,Z,U,6,f[48]),Z=w(Z,M,j,G,V,10,f[49]),G=w(G,Z,M,j,he,15,f[50]),j=w(j,G,Z,M,P,21,f[51]),M=w(M,j,G,Z,pe,6,f[52]),Z=w(Z,M,j,G,C,10,f[53]),G=w(G,Z,M,j,ge,15,f[54]),j=w(j,G,Z,M,z,21,f[55]),M=w(M,j,G,Z,F,6,f[56]),Z=w(Z,M,j,G,ie,10,f[57]),G=w(G,Z,M,j,D,15,f[58]),j=w(j,G,Z,M,ee,21,f[59]),M=w(M,j,G,Z,N,6,f[60]),Z=w(Z,M,j,G,Ce,10,f[61]),G=w(G,Z,M,j,I,15,f[62]),j=w(j,G,Z,M,ce,21,f[63]),B[0]=B[0]+M|0,B[1]=B[1]+j|0,B[2]=B[2]+G|0,B[3]=B[3]+Z|0},_doFinalize:function(){var k=this._data,A=k.words,L=this._nDataBytes*8,b=k.sigBytes*8;A[b>>>5]|=128<<24-b%32;var S=r.floor(L/4294967296),B=L;A[(b+64>>>9<<4)+15]=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360,A[(b+64>>>9<<4)+14]=(B<<8|B>>>24)&16711935|(B<<24|B>>>8)&4278255360,k.sigBytes=(A.length+1)*4,this._process();for(var U=this._hash,z=U.words,I=0;I<4;I++){var C=z[I];z[I]=(C<<8|C>>>24)&16711935|(C<<24|C>>>8)&4278255360}return U},clone:function(){var k=c.clone.call(this);return k._hash=this._hash.clone(),k}});function _(k,A,L,b,S,B,U){var z=k+(A&L|~A&b)+S+U;return(z<<B|z>>>32-B)+A}function y(k,A,L,b,S,B,U){var z=k+(A&b|L&~b)+S+U;return(z<<B|z>>>32-B)+A}function E(k,A,L,b,S,B,U){var z=k+(A^L^b)+S+U;return(z<<B|z>>>32-B)+A}function w(k,A,L,b,S,B,U){var z=k+(L^(A|~b))+S+U;return(z<<B|z>>>32-B)+A}i.MD5=c._createHelper(p),i.HmacMD5=c._createHmacHelper(p)}(Math),t.MD5})}(hf)),hf.exports}var ff={exports:{}},wL=ff.exports,TE;function HC(){return TE||(TE=1,function(n,e){(function(t,r){n.exports=r(Qe())})(wL,function(t){return function(){var r=t,i=r.lib,a=i.WordArray,l=i.Hasher,c=r.algo,h=[],f=c.SHA1=l.extend({_doReset:function(){this._hash=new a.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(p,_){for(var y=this._hash.words,E=y[0],w=y[1],k=y[2],A=y[3],L=y[4],b=0;b<80;b++){if(b<16)h[b]=p[_+b]|0;else{var S=h[b-3]^h[b-8]^h[b-14]^h[b-16];h[b]=S<<1|S>>>31}var B=(E<<5|E>>>27)+L+h[b];b<20?B+=(w&k|~w&A)+1518500249:b<40?B+=(w^k^A)+1859775393:b<60?B+=(w&k|w&A|k&A)-1894007588:B+=(w^k^A)-899497514,L=A,A=k,k=w<<30|w>>>2,w=E,E=B}y[0]=y[0]+E|0,y[1]=y[1]+w|0,y[2]=y[2]+k|0,y[3]=y[3]+A|0,y[4]=y[4]+L|0},_doFinalize:function(){var p=this._data,_=p.words,y=this._nDataBytes*8,E=p.sigBytes*8;return _[E>>>5]|=128<<24-E%32,_[(E+64>>>9<<4)+14]=Math.floor(y/4294967296),_[(E+64>>>9<<4)+15]=y,p.sigBytes=_.length*4,this._process(),this._hash},clone:function(){var p=l.clone.call(this);return p._hash=this._hash.clone(),p}});r.SHA1=l._createHelper(f),r.HmacSHA1=l._createHmacHelper(f)}(),t.SHA1})}(ff)),ff.exports}var df={exports:{}},TL=df.exports,AE;function J1(){return AE||(AE=1,function(n,e){(function(t,r){n.exports=r(Qe())})(TL,function(t){return function(r){var i=t,a=i.lib,l=a.WordArray,c=a.Hasher,h=i.algo,f=[],p=[];(function(){function E(L){for(var b=r.sqrt(L),S=2;S<=b;S++)if(!(L%S))return!1;return!0}function w(L){return(L-(L|0))*4294967296|0}for(var k=2,A=0;A<64;)E(k)&&(A<8&&(f[A]=w(r.pow(k,1/2))),p[A]=w(r.pow(k,1/3)),A++),k++})();var _=[],y=h.SHA256=c.extend({_doReset:function(){this._hash=new l.init(f.slice(0))},_doProcessBlock:function(E,w){for(var k=this._hash.words,A=k[0],L=k[1],b=k[2],S=k[3],B=k[4],U=k[5],z=k[6],I=k[7],C=0;C<64;C++){if(C<16)_[C]=E[w+C]|0;else{var N=_[C-15],P=(N<<25|N>>>7)^(N<<14|N>>>18)^N>>>3,D=_[C-2],V=(D<<15|D>>>17)^(D<<13|D>>>19)^D>>>10;_[C]=P+_[C-7]+V+_[C-16]}var F=B&U^~B&z,ce=A&L^A&b^L&b,ge=(A<<30|A>>>2)^(A<<19|A>>>13)^(A<<10|A>>>22),Ce=(B<<26|B>>>6)^(B<<21|B>>>11)^(B<<7|B>>>25),pe=I+Ce+F+p[C]+_[C],ee=ge+ce;I=z,z=U,U=B,B=S+pe|0,S=b,b=L,L=A,A=pe+ee|0}k[0]=k[0]+A|0,k[1]=k[1]+L|0,k[2]=k[2]+b|0,k[3]=k[3]+S|0,k[4]=k[4]+B|0,k[5]=k[5]+U|0,k[6]=k[6]+z|0,k[7]=k[7]+I|0},_doFinalize:function(){var E=this._data,w=E.words,k=this._nDataBytes*8,A=E.sigBytes*8;return w[A>>>5]|=128<<24-A%32,w[(A+64>>>9<<4)+14]=r.floor(k/4294967296),w[(A+64>>>9<<4)+15]=k,E.sigBytes=w.length*4,this._process(),this._hash},clone:function(){var E=c.clone.call(this);return E._hash=this._hash.clone(),E}});i.SHA256=c._createHelper(y),i.HmacSHA256=c._createHmacHelper(y)}(Math),t.SHA256})}(df)),df.exports}var pf={exports:{}},AL=pf.exports,CE;function CL(){return CE||(CE=1,function(n,e){(function(t,r,i){n.exports=r(Qe(),J1())})(AL,function(t){return function(){var r=t,i=r.lib,a=i.WordArray,l=r.algo,c=l.SHA256,h=l.SHA224=c.extend({_doReset:function(){this._hash=new a.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var f=c._doFinalize.call(this);return f.sigBytes-=4,f}});r.SHA224=c._createHelper(h),r.HmacSHA224=c._createHmacHelper(h)}(),t.SHA224})}(pf)),pf.exports}var mf={exports:{}},kL=mf.exports,kE;function qC(){return kE||(kE=1,function(n,e){(function(t,r,i){n.exports=r(Qe(),Xd())})(kL,function(t){return function(){var r=t,i=r.lib,a=i.Hasher,l=r.x64,c=l.Word,h=l.WordArray,f=r.algo;function p(){return c.create.apply(c,arguments)}var _=[p(1116352408,3609767458),p(1899447441,602891725),p(3049323471,3964484399),p(3921009573,2173295548),p(961987163,4081628472),p(1508970993,3053834265),p(2453635748,2937671579),p(2870763221,3664609560),p(3624381080,2734883394),p(310598401,1164996542),p(607225278,1323610764),p(1426881987,3590304994),p(1925078388,4068182383),p(2162078206,991336113),p(2614888103,633803317),p(3248222580,3479774868),p(3835390401,2666613458),p(4022224774,944711139),p(264347078,2341262773),p(604807628,2007800933),p(770255983,1495990901),p(1249150122,1856431235),p(1555081692,3175218132),p(1996064986,2198950837),p(2554220882,3999719339),p(2821834349,766784016),p(2952996808,2566594879),p(3210313671,3203337956),p(3336571891,1034457026),p(3584528711,2466948901),p(113926993,3758326383),p(338241895,168717936),p(666307205,1188179964),p(773529912,1546045734),p(1294757372,1522805485),p(1396182291,2643833823),p(1695183700,2343527390),p(1986661051,1014477480),p(2177026350,1206759142),p(2456956037,344077627),p(2730485921,1290863460),p(2820302411,3158454273),p(3259730800,3505952657),p(3345764771,106217008),p(3516065817,3606008344),p(3600352804,1432725776),p(4094571909,1467031594),p(275423344,851169720),p(430227734,3100823752),p(506948616,1363258195),p(659060556,3750685593),p(883997877,3785050280),p(958139571,3318307427),p(1322822218,3812723403),p(1537002063,2003034995),p(1747873779,3602036899),p(1955562222,1575990012),p(2024104815,1125592928),p(2227730452,2716904306),p(2361852424,442776044),p(2428436474,593698344),p(2756734187,3733110249),p(3204031479,2999351573),p(3329325298,3815920427),p(3391569614,3928383900),p(3515267271,566280711),p(3940187606,3454069534),p(4118630271,4000239992),p(116418474,1914138554),p(174292421,2731055270),p(289380356,3203993006),p(460393269,320620315),p(685471733,587496836),p(852142971,1086792851),p(1017036298,365543100),p(1126000580,2618297676),p(1288033470,3409855158),p(1501505948,4234509866),p(1607167915,987167468),p(1816402316,1246189591)],y=[];(function(){for(var w=0;w<80;w++)y[w]=p()})();var E=f.SHA512=a.extend({_doReset:function(){this._hash=new h.init([new c.init(1779033703,4089235720),new c.init(3144134277,2227873595),new c.init(1013904242,4271175723),new c.init(2773480762,1595750129),new c.init(1359893119,2917565137),new c.init(2600822924,725511199),new c.init(528734635,4215389547),new c.init(1541459225,327033209)])},_doProcessBlock:function(w,k){for(var A=this._hash.words,L=A[0],b=A[1],S=A[2],B=A[3],U=A[4],z=A[5],I=A[6],C=A[7],N=L.high,P=L.low,D=b.high,V=b.low,F=S.high,ce=S.low,ge=B.high,Ce=B.low,pe=U.high,ee=U.low,he=z.high,ie=z.low,M=I.high,j=I.low,G=C.high,Z=C.low,fe=N,ve=P,Be=D,me=V,He=F,ot=ce,An=ge,qt=Ce,Tt=pe,nt=ee,Mn=he,Vn=ie,hn=M,Un=j,$n=G,en=Z,At=0;At<80;At++){var Vt,Wt,fn=y[At];if(At<16)Wt=fn.high=w[k+At*2]|0,Vt=fn.low=w[k+At*2+1]|0;else{var zn=y[At-15],Ze=zn.high,at=zn.low,rr=(Ze>>>1|at<<31)^(Ze>>>8|at<<24)^Ze>>>7,Jr=(at>>>1|Ze<<31)^(at>>>8|Ze<<24)^(at>>>7|Ze<<25),jn=y[At-2],dn=jn.high,tn=jn.low,Br=(dn>>>19|tn<<13)^(dn<<3|tn>>>29)^dn>>>6,nn=(tn>>>19|dn<<13)^(tn<<3|dn>>>29)^(tn>>>6|dn<<26),Hn=y[At-7],ei=Hn.high,ti=Hn.low,Fr=y[At-16],wr=Fr.high,ir=Fr.low;Vt=Jr+ti,Wt=rr+ei+(Vt>>>0<Jr>>>0?1:0),Vt=Vt+nn,Wt=Wt+Br+(Vt>>>0<nn>>>0?1:0),Vt=Vt+ir,Wt=Wt+wr+(Vt>>>0<ir>>>0?1:0),fn.high=Wt,fn.low=Vt}var Cn=Tt&Mn^~Tt&hn,Gt=nt&Vn^~nt&Un,vi=fe&Be^fe&He^Be&He,sr=ve&me^ve&ot^me&ot,mt=(fe>>>28|ve<<4)^(fe<<30|ve>>>2)^(fe<<25|ve>>>7),pn=(ve>>>28|fe<<4)^(ve<<30|fe>>>2)^(ve<<25|fe>>>7),ji=(Tt>>>14|nt<<18)^(Tt>>>18|nt<<14)^(Tt<<23|nt>>>9),or=(nt>>>14|Tt<<18)^(nt>>>18|Tt<<14)^(nt<<23|Tt>>>9),Lr=_[At],gt=Lr.high,Nr=Lr.low,ct=en+or,ht=$n+ji+(ct>>>0<en>>>0?1:0),ct=ct+Gt,ht=ht+Cn+(ct>>>0<Gt>>>0?1:0),ct=ct+Nr,ht=ht+gt+(ct>>>0<Nr>>>0?1:0),ct=ct+Vt,ht=ht+Wt+(ct>>>0<Vt>>>0?1:0),qn=pn+sr,ni=mt+vi+(qn>>>0<pn>>>0?1:0);$n=hn,en=Un,hn=Mn,Un=Vn,Mn=Tt,Vn=nt,nt=qt+ct|0,Tt=An+ht+(nt>>>0<qt>>>0?1:0)|0,An=He,qt=ot,He=Be,ot=me,Be=fe,me=ve,ve=ct+qn|0,fe=ht+ni+(ve>>>0<ct>>>0?1:0)|0}P=L.low=P+ve,L.high=N+fe+(P>>>0<ve>>>0?1:0),V=b.low=V+me,b.high=D+Be+(V>>>0<me>>>0?1:0),ce=S.low=ce+ot,S.high=F+He+(ce>>>0<ot>>>0?1:0),Ce=B.low=Ce+qt,B.high=ge+An+(Ce>>>0<qt>>>0?1:0),ee=U.low=ee+nt,U.high=pe+Tt+(ee>>>0<nt>>>0?1:0),ie=z.low=ie+Vn,z.high=he+Mn+(ie>>>0<Vn>>>0?1:0),j=I.low=j+Un,I.high=M+hn+(j>>>0<Un>>>0?1:0),Z=C.low=Z+en,C.high=G+$n+(Z>>>0<en>>>0?1:0)},_doFinalize:function(){var w=this._data,k=w.words,A=this._nDataBytes*8,L=w.sigBytes*8;k[L>>>5]|=128<<24-L%32,k[(L+128>>>10<<5)+30]=Math.floor(A/4294967296),k[(L+128>>>10<<5)+31]=A,w.sigBytes=k.length*4,this._process();var b=this._hash.toX32();return b},clone:function(){var w=a.clone.call(this);return w._hash=this._hash.clone(),w},blockSize:1024/32});r.SHA512=a._createHelper(E),r.HmacSHA512=a._createHmacHelper(E)}(),t.SHA512})}(mf)),mf.exports}var gf={exports:{}},bL=gf.exports,bE;function SL(){return bE||(bE=1,function(n,e){(function(t,r,i){n.exports=r(Qe(),Xd(),qC())})(bL,function(t){return function(){var r=t,i=r.x64,a=i.Word,l=i.WordArray,c=r.algo,h=c.SHA512,f=c.SHA384=h.extend({_doReset:function(){this._hash=new l.init([new a.init(3418070365,3238371032),new a.init(1654270250,914150663),new a.init(2438529370,812702999),new a.init(355462360,4144912697),new a.init(1731405415,4290775857),new a.init(2394180231,1750603025),new a.init(3675008525,1694076839),new a.init(1203062813,3204075428)])},_doFinalize:function(){var p=h._doFinalize.call(this);return p.sigBytes-=16,p}});r.SHA384=h._createHelper(f),r.HmacSHA384=h._createHmacHelper(f)}(),t.SHA384})}(gf)),gf.exports}var yf={exports:{}},IL=yf.exports,SE;function RL(){return SE||(SE=1,function(n,e){(function(t,r,i){n.exports=r(Qe(),Xd())})(IL,function(t){return function(r){var i=t,a=i.lib,l=a.WordArray,c=a.Hasher,h=i.x64,f=h.Word,p=i.algo,_=[],y=[],E=[];(function(){for(var A=1,L=0,b=0;b<24;b++){_[A+5*L]=(b+1)*(b+2)/2%64;var S=L%5,B=(2*A+3*L)%5;A=S,L=B}for(var A=0;A<5;A++)for(var L=0;L<5;L++)y[A+5*L]=L+(2*A+3*L)%5*5;for(var U=1,z=0;z<24;z++){for(var I=0,C=0,N=0;N<7;N++){if(U&1){var P=(1<<N)-1;P<32?C^=1<<P:I^=1<<P-32}U&128?U=U<<1^113:U<<=1}E[z]=f.create(I,C)}})();var w=[];(function(){for(var A=0;A<25;A++)w[A]=f.create()})();var k=p.SHA3=c.extend({cfg:c.cfg.extend({outputLength:512}),_doReset:function(){for(var A=this._state=[],L=0;L<25;L++)A[L]=new f.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(A,L){for(var b=this._state,S=this.blockSize/2,B=0;B<S;B++){var U=A[L+2*B],z=A[L+2*B+1];U=(U<<8|U>>>24)&16711935|(U<<24|U>>>8)&4278255360,z=(z<<8|z>>>24)&16711935|(z<<24|z>>>8)&4278255360;var I=b[B];I.high^=z,I.low^=U}for(var C=0;C<24;C++){for(var N=0;N<5;N++){for(var P=0,D=0,V=0;V<5;V++){var I=b[N+5*V];P^=I.high,D^=I.low}var F=w[N];F.high=P,F.low=D}for(var N=0;N<5;N++)for(var ce=w[(N+4)%5],ge=w[(N+1)%5],Ce=ge.high,pe=ge.low,P=ce.high^(Ce<<1|pe>>>31),D=ce.low^(pe<<1|Ce>>>31),V=0;V<5;V++){var I=b[N+5*V];I.high^=P,I.low^=D}for(var ee=1;ee<25;ee++){var P,D,I=b[ee],he=I.high,ie=I.low,M=_[ee];M<32?(P=he<<M|ie>>>32-M,D=ie<<M|he>>>32-M):(P=ie<<M-32|he>>>64-M,D=he<<M-32|ie>>>64-M);var j=w[y[ee]];j.high=P,j.low=D}var G=w[0],Z=b[0];G.high=Z.high,G.low=Z.low;for(var N=0;N<5;N++)for(var V=0;V<5;V++){var ee=N+5*V,I=b[ee],fe=w[ee],ve=w[(N+1)%5+5*V],Be=w[(N+2)%5+5*V];I.high=fe.high^~ve.high&Be.high,I.low=fe.low^~ve.low&Be.low}var I=b[0],me=E[C];I.high^=me.high,I.low^=me.low}},_doFinalize:function(){var A=this._data,L=A.words;this._nDataBytes*8;var b=A.sigBytes*8,S=this.blockSize*32;L[b>>>5]|=1<<24-b%32,L[(r.ceil((b+1)/S)*S>>>5)-1]|=128,A.sigBytes=L.length*4,this._process();for(var B=this._state,U=this.cfg.outputLength/8,z=U/8,I=[],C=0;C<z;C++){var N=B[C],P=N.high,D=N.low;P=(P<<8|P>>>24)&16711935|(P<<24|P>>>8)&4278255360,D=(D<<8|D>>>24)&16711935|(D<<24|D>>>8)&4278255360,I.push(D),I.push(P)}return new l.init(I,U)},clone:function(){for(var A=c.clone.call(this),L=A._state=this._state.slice(0),b=0;b<25;b++)L[b]=L[b].clone();return A}});i.SHA3=c._createHelper(k),i.HmacSHA3=c._createHmacHelper(k)}(Math),t.SHA3})}(yf)),yf.exports}var _f={exports:{}},PL=_f.exports,IE;function DL(){return IE||(IE=1,function(n,e){(function(t,r){n.exports=r(Qe())})(PL,function(t){/** @preserve
			(c) 2012 by Cdric Mesnil. All rights reserved.

			Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

			    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
			    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

			THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
			*/return function(r){var i=t,a=i.lib,l=a.WordArray,c=a.Hasher,h=i.algo,f=l.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),p=l.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),_=l.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),y=l.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),E=l.create([0,1518500249,1859775393,2400959708,2840853838]),w=l.create([1352829926,1548603684,1836072691,2053994217,0]),k=h.RIPEMD160=c.extend({_doReset:function(){this._hash=l.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(z,I){for(var C=0;C<16;C++){var N=I+C,P=z[N];z[N]=(P<<8|P>>>24)&16711935|(P<<24|P>>>8)&4278255360}var D=this._hash.words,V=E.words,F=w.words,ce=f.words,ge=p.words,Ce=_.words,pe=y.words,ee,he,ie,M,j,G,Z,fe,ve,Be;G=ee=D[0],Z=he=D[1],fe=ie=D[2],ve=M=D[3],Be=j=D[4];for(var me,C=0;C<80;C+=1)me=ee+z[I+ce[C]]|0,C<16?me+=A(he,ie,M)+V[0]:C<32?me+=L(he,ie,M)+V[1]:C<48?me+=b(he,ie,M)+V[2]:C<64?me+=S(he,ie,M)+V[3]:me+=B(he,ie,M)+V[4],me=me|0,me=U(me,Ce[C]),me=me+j|0,ee=j,j=M,M=U(ie,10),ie=he,he=me,me=G+z[I+ge[C]]|0,C<16?me+=B(Z,fe,ve)+F[0]:C<32?me+=S(Z,fe,ve)+F[1]:C<48?me+=b(Z,fe,ve)+F[2]:C<64?me+=L(Z,fe,ve)+F[3]:me+=A(Z,fe,ve)+F[4],me=me|0,me=U(me,pe[C]),me=me+Be|0,G=Be,Be=ve,ve=U(fe,10),fe=Z,Z=me;me=D[1]+ie+ve|0,D[1]=D[2]+M+Be|0,D[2]=D[3]+j+G|0,D[3]=D[4]+ee+Z|0,D[4]=D[0]+he+fe|0,D[0]=me},_doFinalize:function(){var z=this._data,I=z.words,C=this._nDataBytes*8,N=z.sigBytes*8;I[N>>>5]|=128<<24-N%32,I[(N+64>>>9<<4)+14]=(C<<8|C>>>24)&16711935|(C<<24|C>>>8)&4278255360,z.sigBytes=(I.length+1)*4,this._process();for(var P=this._hash,D=P.words,V=0;V<5;V++){var F=D[V];D[V]=(F<<8|F>>>24)&16711935|(F<<24|F>>>8)&4278255360}return P},clone:function(){var z=c.clone.call(this);return z._hash=this._hash.clone(),z}});function A(z,I,C){return z^I^C}function L(z,I,C){return z&I|~z&C}function b(z,I,C){return(z|~I)^C}function S(z,I,C){return z&C|I&~C}function B(z,I,C){return z^(I|~C)}function U(z,I){return z<<I|z>>>32-I}i.RIPEMD160=c._createHelper(k),i.HmacRIPEMD160=c._createHmacHelper(k)}(),t.RIPEMD160})}(_f)),_f.exports}var vf={exports:{}},BL=vf.exports,RE;function ey(){return RE||(RE=1,function(n,e){(function(t,r){n.exports=r(Qe())})(BL,function(t){(function(){var r=t,i=r.lib,a=i.Base,l=r.enc,c=l.Utf8,h=r.algo;h.HMAC=a.extend({init:function(f,p){f=this._hasher=new f.init,typeof p=="string"&&(p=c.parse(p));var _=f.blockSize,y=_*4;p.sigBytes>y&&(p=f.finalize(p)),p.clamp();for(var E=this._oKey=p.clone(),w=this._iKey=p.clone(),k=E.words,A=w.words,L=0;L<_;L++)k[L]^=1549556828,A[L]^=909522486;E.sigBytes=w.sigBytes=y,this.reset()},reset:function(){var f=this._hasher;f.reset(),f.update(this._iKey)},update:function(f){return this._hasher.update(f),this},finalize:function(f){var p=this._hasher,_=p.finalize(f);p.reset();var y=p.finalize(this._oKey.clone().concat(_));return y}})})()})}(vf)),vf.exports}var xf={exports:{}},FL=xf.exports,PE;function LL(){return PE||(PE=1,function(n,e){(function(t,r,i){n.exports=r(Qe(),J1(),ey())})(FL,function(t){return function(){var r=t,i=r.lib,a=i.Base,l=i.WordArray,c=r.algo,h=c.SHA256,f=c.HMAC,p=c.PBKDF2=a.extend({cfg:a.extend({keySize:128/32,hasher:h,iterations:25e4}),init:function(_){this.cfg=this.cfg.extend(_)},compute:function(_,y){for(var E=this.cfg,w=f.create(E.hasher,_),k=l.create(),A=l.create([1]),L=k.words,b=A.words,S=E.keySize,B=E.iterations;L.length<S;){var U=w.update(y).finalize(A);w.reset();for(var z=U.words,I=z.length,C=U,N=1;N<B;N++){C=w.finalize(C),w.reset();for(var P=C.words,D=0;D<I;D++)z[D]^=P[D]}k.concat(U),b[0]++}return k.sigBytes=S*4,k}});r.PBKDF2=function(_,y,E){return p.create(E).compute(_,y)}}(),t.PBKDF2})}(xf)),xf.exports}var Ef={exports:{}},NL=Ef.exports,DE;function _o(){return DE||(DE=1,function(n,e){(function(t,r,i){n.exports=r(Qe(),HC(),ey())})(NL,function(t){return function(){var r=t,i=r.lib,a=i.Base,l=i.WordArray,c=r.algo,h=c.MD5,f=c.EvpKDF=a.extend({cfg:a.extend({keySize:128/32,hasher:h,iterations:1}),init:function(p){this.cfg=this.cfg.extend(p)},compute:function(p,_){for(var y,E=this.cfg,w=E.hasher.create(),k=l.create(),A=k.words,L=E.keySize,b=E.iterations;A.length<L;){y&&w.update(y),y=w.update(p).finalize(_),w.reset();for(var S=1;S<b;S++)y=w.finalize(y),w.reset();k.concat(y)}return k.sigBytes=L*4,k}});r.EvpKDF=function(p,_,y){return f.create(y).compute(p,_)}}(),t.EvpKDF})}(Ef)),Ef.exports}var wf={exports:{}},OL=wf.exports,BE;function cn(){return BE||(BE=1,function(n,e){(function(t,r,i){n.exports=r(Qe(),_o())})(OL,function(t){t.lib.Cipher||function(r){var i=t,a=i.lib,l=a.Base,c=a.WordArray,h=a.BufferedBlockAlgorithm,f=i.enc;f.Utf8;var p=f.Base64,_=i.algo,y=_.EvpKDF,E=a.Cipher=h.extend({cfg:l.extend(),createEncryptor:function(P,D){return this.create(this._ENC_XFORM_MODE,P,D)},createDecryptor:function(P,D){return this.create(this._DEC_XFORM_MODE,P,D)},init:function(P,D,V){this.cfg=this.cfg.extend(V),this._xformMode=P,this._key=D,this.reset()},reset:function(){h.reset.call(this),this._doReset()},process:function(P){return this._append(P),this._process()},finalize:function(P){P&&this._append(P);var D=this._doFinalize();return D},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function P(D){return typeof D=="string"?N:z}return function(D){return{encrypt:function(V,F,ce){return P(F).encrypt(D,V,F,ce)},decrypt:function(V,F,ce){return P(F).decrypt(D,V,F,ce)}}}}()});a.StreamCipher=E.extend({_doFinalize:function(){var P=this._process(!0);return P},blockSize:1});var w=i.mode={},k=a.BlockCipherMode=l.extend({createEncryptor:function(P,D){return this.Encryptor.create(P,D)},createDecryptor:function(P,D){return this.Decryptor.create(P,D)},init:function(P,D){this._cipher=P,this._iv=D}}),A=w.CBC=function(){var P=k.extend();P.Encryptor=P.extend({processBlock:function(V,F){var ce=this._cipher,ge=ce.blockSize;D.call(this,V,F,ge),ce.encryptBlock(V,F),this._prevBlock=V.slice(F,F+ge)}}),P.Decryptor=P.extend({processBlock:function(V,F){var ce=this._cipher,ge=ce.blockSize,Ce=V.slice(F,F+ge);ce.decryptBlock(V,F),D.call(this,V,F,ge),this._prevBlock=Ce}});function D(V,F,ce){var ge,Ce=this._iv;Ce?(ge=Ce,this._iv=r):ge=this._prevBlock;for(var pe=0;pe<ce;pe++)V[F+pe]^=ge[pe]}return P}(),L=i.pad={},b=L.Pkcs7={pad:function(P,D){for(var V=D*4,F=V-P.sigBytes%V,ce=F<<24|F<<16|F<<8|F,ge=[],Ce=0;Ce<F;Ce+=4)ge.push(ce);var pe=c.create(ge,F);P.concat(pe)},unpad:function(P){var D=P.words[P.sigBytes-1>>>2]&255;P.sigBytes-=D}};a.BlockCipher=E.extend({cfg:E.cfg.extend({mode:A,padding:b}),reset:function(){var P;E.reset.call(this);var D=this.cfg,V=D.iv,F=D.mode;this._xformMode==this._ENC_XFORM_MODE?P=F.createEncryptor:(P=F.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==P?this._mode.init(this,V&&V.words):(this._mode=P.call(F,this,V&&V.words),this._mode.__creator=P)},_doProcessBlock:function(P,D){this._mode.processBlock(P,D)},_doFinalize:function(){var P,D=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(D.pad(this._data,this.blockSize),P=this._process(!0)):(P=this._process(!0),D.unpad(P)),P},blockSize:128/32});var S=a.CipherParams=l.extend({init:function(P){this.mixIn(P)},toString:function(P){return(P||this.formatter).stringify(this)}}),B=i.format={},U=B.OpenSSL={stringify:function(P){var D,V=P.ciphertext,F=P.salt;return F?D=c.create([1398893684,1701076831]).concat(F).concat(V):D=V,D.toString(p)},parse:function(P){var D,V=p.parse(P),F=V.words;return F[0]==1398893684&&F[1]==1701076831&&(D=c.create(F.slice(2,4)),F.splice(0,4),V.sigBytes-=16),S.create({ciphertext:V,salt:D})}},z=a.SerializableCipher=l.extend({cfg:l.extend({format:U}),encrypt:function(P,D,V,F){F=this.cfg.extend(F);var ce=P.createEncryptor(V,F),ge=ce.finalize(D),Ce=ce.cfg;return S.create({ciphertext:ge,key:V,iv:Ce.iv,algorithm:P,mode:Ce.mode,padding:Ce.padding,blockSize:P.blockSize,formatter:F.format})},decrypt:function(P,D,V,F){F=this.cfg.extend(F),D=this._parse(D,F.format);var ce=P.createDecryptor(V,F).finalize(D.ciphertext);return ce},_parse:function(P,D){return typeof P=="string"?D.parse(P,this):P}}),I=i.kdf={},C=I.OpenSSL={execute:function(P,D,V,F,ce){if(F||(F=c.random(64/8)),ce)var ge=y.create({keySize:D+V,hasher:ce}).compute(P,F);else var ge=y.create({keySize:D+V}).compute(P,F);var Ce=c.create(ge.words.slice(D),V*4);return ge.sigBytes=D*4,S.create({key:ge,iv:Ce,salt:F})}},N=a.PasswordBasedCipher=z.extend({cfg:z.cfg.extend({kdf:C}),encrypt:function(P,D,V,F){F=this.cfg.extend(F);var ce=F.kdf.execute(V,P.keySize,P.ivSize,F.salt,F.hasher);F.iv=ce.iv;var ge=z.encrypt.call(this,P,D,ce.key,F);return ge.mixIn(ce),ge},decrypt:function(P,D,V,F){F=this.cfg.extend(F),D=this._parse(D,F.format);var ce=F.kdf.execute(V,P.keySize,P.ivSize,D.salt,F.hasher);F.iv=ce.iv;var ge=z.decrypt.call(this,P,D,ce.key,F);return ge}})}()})}(wf)),wf.exports}var Tf={exports:{}},ML=Tf.exports,FE;function VL(){return FE||(FE=1,function(n,e){(function(t,r,i){n.exports=r(Qe(),cn())})(ML,function(t){return t.mode.CFB=function(){var r=t.lib.BlockCipherMode.extend();r.Encryptor=r.extend({processBlock:function(a,l){var c=this._cipher,h=c.blockSize;i.call(this,a,l,h,c),this._prevBlock=a.slice(l,l+h)}}),r.Decryptor=r.extend({processBlock:function(a,l){var c=this._cipher,h=c.blockSize,f=a.slice(l,l+h);i.call(this,a,l,h,c),this._prevBlock=f}});function i(a,l,c,h){var f,p=this._iv;p?(f=p.slice(0),this._iv=void 0):f=this._prevBlock,h.encryptBlock(f,0);for(var _=0;_<c;_++)a[l+_]^=f[_]}return r}(),t.mode.CFB})}(Tf)),Tf.exports}var Af={exports:{}},UL=Af.exports,LE;function $L(){return LE||(LE=1,function(n,e){(function(t,r,i){n.exports=r(Qe(),cn())})(UL,function(t){return t.mode.CTR=function(){var r=t.lib.BlockCipherMode.extend(),i=r.Encryptor=r.extend({processBlock:function(a,l){var c=this._cipher,h=c.blockSize,f=this._iv,p=this._counter;f&&(p=this._counter=f.slice(0),this._iv=void 0);var _=p.slice(0);c.encryptBlock(_,0),p[h-1]=p[h-1]+1|0;for(var y=0;y<h;y++)a[l+y]^=_[y]}});return r.Decryptor=i,r}(),t.mode.CTR})}(Af)),Af.exports}var Cf={exports:{}},zL=Cf.exports,NE;function jL(){return NE||(NE=1,function(n,e){(function(t,r,i){n.exports=r(Qe(),cn())})(zL,function(t){/** @preserve
 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
 * derived from CryptoJS.mode.CTR
 * Jan Hruby jhruby.web@gmail.com
 */return t.mode.CTRGladman=function(){var r=t.lib.BlockCipherMode.extend();function i(c){if((c>>24&255)===255){var h=c>>16&255,f=c>>8&255,p=c&255;h===255?(h=0,f===255?(f=0,p===255?p=0:++p):++f):++h,c=0,c+=h<<16,c+=f<<8,c+=p}else c+=1<<24;return c}function a(c){return(c[0]=i(c[0]))===0&&(c[1]=i(c[1])),c}var l=r.Encryptor=r.extend({processBlock:function(c,h){var f=this._cipher,p=f.blockSize,_=this._iv,y=this._counter;_&&(y=this._counter=_.slice(0),this._iv=void 0),a(y);var E=y.slice(0);f.encryptBlock(E,0);for(var w=0;w<p;w++)c[h+w]^=E[w]}});return r.Decryptor=l,r}(),t.mode.CTRGladman})}(Cf)),Cf.exports}var kf={exports:{}},HL=kf.exports,OE;function qL(){return OE||(OE=1,function(n,e){(function(t,r,i){n.exports=r(Qe(),cn())})(HL,function(t){return t.mode.OFB=function(){var r=t.lib.BlockCipherMode.extend(),i=r.Encryptor=r.extend({processBlock:function(a,l){var c=this._cipher,h=c.blockSize,f=this._iv,p=this._keystream;f&&(p=this._keystream=f.slice(0),this._iv=void 0),c.encryptBlock(p,0);for(var _=0;_<h;_++)a[l+_]^=p[_]}});return r.Decryptor=i,r}(),t.mode.OFB})}(kf)),kf.exports}var bf={exports:{}},WL=bf.exports,ME;function GL(){return ME||(ME=1,function(n,e){(function(t,r,i){n.exports=r(Qe(),cn())})(WL,function(t){return t.mode.ECB=function(){var r=t.lib.BlockCipherMode.extend();return r.Encryptor=r.extend({processBlock:function(i,a){this._cipher.encryptBlock(i,a)}}),r.Decryptor=r.extend({processBlock:function(i,a){this._cipher.decryptBlock(i,a)}}),r}(),t.mode.ECB})}(bf)),bf.exports}var Sf={exports:{}},KL=Sf.exports,VE;function QL(){return VE||(VE=1,function(n,e){(function(t,r,i){n.exports=r(Qe(),cn())})(KL,function(t){return t.pad.AnsiX923={pad:function(r,i){var a=r.sigBytes,l=i*4,c=l-a%l,h=a+c-1;r.clamp(),r.words[h>>>2]|=c<<24-h%4*8,r.sigBytes+=c},unpad:function(r){var i=r.words[r.sigBytes-1>>>2]&255;r.sigBytes-=i}},t.pad.Ansix923})}(Sf)),Sf.exports}var If={exports:{}},XL=If.exports,UE;function YL(){return UE||(UE=1,function(n,e){(function(t,r,i){n.exports=r(Qe(),cn())})(XL,function(t){return t.pad.Iso10126={pad:function(r,i){var a=i*4,l=a-r.sigBytes%a;r.concat(t.lib.WordArray.random(l-1)).concat(t.lib.WordArray.create([l<<24],1))},unpad:function(r){var i=r.words[r.sigBytes-1>>>2]&255;r.sigBytes-=i}},t.pad.Iso10126})}(If)),If.exports}var Rf={exports:{}},ZL=Rf.exports,$E;function JL(){return $E||($E=1,function(n,e){(function(t,r,i){n.exports=r(Qe(),cn())})(ZL,function(t){return t.pad.Iso97971={pad:function(r,i){r.concat(t.lib.WordArray.create([2147483648],1)),t.pad.ZeroPadding.pad(r,i)},unpad:function(r){t.pad.ZeroPadding.unpad(r),r.sigBytes--}},t.pad.Iso97971})}(Rf)),Rf.exports}var Pf={exports:{}},eN=Pf.exports,zE;function tN(){return zE||(zE=1,function(n,e){(function(t,r,i){n.exports=r(Qe(),cn())})(eN,function(t){return t.pad.ZeroPadding={pad:function(r,i){var a=i*4;r.clamp(),r.sigBytes+=a-(r.sigBytes%a||a)},unpad:function(r){for(var i=r.words,a=r.sigBytes-1,a=r.sigBytes-1;a>=0;a--)if(i[a>>>2]>>>24-a%4*8&255){r.sigBytes=a+1;break}}},t.pad.ZeroPadding})}(Pf)),Pf.exports}var Df={exports:{}},nN=Df.exports,jE;function rN(){return jE||(jE=1,function(n,e){(function(t,r,i){n.exports=r(Qe(),cn())})(nN,function(t){return t.pad.NoPadding={pad:function(){},unpad:function(){}},t.pad.NoPadding})}(Df)),Df.exports}var Bf={exports:{}},iN=Bf.exports,HE;function sN(){return HE||(HE=1,function(n,e){(function(t,r,i){n.exports=r(Qe(),cn())})(iN,function(t){return function(r){var i=t,a=i.lib,l=a.CipherParams,c=i.enc,h=c.Hex,f=i.format;f.Hex={stringify:function(p){return p.ciphertext.toString(h)},parse:function(p){var _=h.parse(p);return l.create({ciphertext:_})}}}(),t.format.Hex})}(Bf)),Bf.exports}var Ff={exports:{}},oN=Ff.exports,qE;function aN(){return qE||(qE=1,function(n,e){(function(t,r,i){n.exports=r(Qe(),ua(),ca(),_o(),cn())})(oN,function(t){return function(){var r=t,i=r.lib,a=i.BlockCipher,l=r.algo,c=[],h=[],f=[],p=[],_=[],y=[],E=[],w=[],k=[],A=[];(function(){for(var S=[],B=0;B<256;B++)B<128?S[B]=B<<1:S[B]=B<<1^283;for(var U=0,z=0,B=0;B<256;B++){var I=z^z<<1^z<<2^z<<3^z<<4;I=I>>>8^I&255^99,c[U]=I,h[I]=U;var C=S[U],N=S[C],P=S[N],D=S[I]*257^I*16843008;f[U]=D<<24|D>>>8,p[U]=D<<16|D>>>16,_[U]=D<<8|D>>>24,y[U]=D;var D=P*16843009^N*65537^C*257^U*16843008;E[I]=D<<24|D>>>8,w[I]=D<<16|D>>>16,k[I]=D<<8|D>>>24,A[I]=D,U?(U=C^S[S[S[P^C]]],z^=S[S[z]]):U=z=1}})();var L=[0,1,2,4,8,16,32,64,128,27,54],b=l.AES=a.extend({_doReset:function(){var S;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var B=this._keyPriorReset=this._key,U=B.words,z=B.sigBytes/4,I=this._nRounds=z+6,C=(I+1)*4,N=this._keySchedule=[],P=0;P<C;P++)P<z?N[P]=U[P]:(S=N[P-1],P%z?z>6&&P%z==4&&(S=c[S>>>24]<<24|c[S>>>16&255]<<16|c[S>>>8&255]<<8|c[S&255]):(S=S<<8|S>>>24,S=c[S>>>24]<<24|c[S>>>16&255]<<16|c[S>>>8&255]<<8|c[S&255],S^=L[P/z|0]<<24),N[P]=N[P-z]^S);for(var D=this._invKeySchedule=[],V=0;V<C;V++){var P=C-V;if(V%4)var S=N[P];else var S=N[P-4];V<4||P<=4?D[V]=S:D[V]=E[c[S>>>24]]^w[c[S>>>16&255]]^k[c[S>>>8&255]]^A[c[S&255]]}}},encryptBlock:function(S,B){this._doCryptBlock(S,B,this._keySchedule,f,p,_,y,c)},decryptBlock:function(S,B){var U=S[B+1];S[B+1]=S[B+3],S[B+3]=U,this._doCryptBlock(S,B,this._invKeySchedule,E,w,k,A,h);var U=S[B+1];S[B+1]=S[B+3],S[B+3]=U},_doCryptBlock:function(S,B,U,z,I,C,N,P){for(var D=this._nRounds,V=S[B]^U[0],F=S[B+1]^U[1],ce=S[B+2]^U[2],ge=S[B+3]^U[3],Ce=4,pe=1;pe<D;pe++){var ee=z[V>>>24]^I[F>>>16&255]^C[ce>>>8&255]^N[ge&255]^U[Ce++],he=z[F>>>24]^I[ce>>>16&255]^C[ge>>>8&255]^N[V&255]^U[Ce++],ie=z[ce>>>24]^I[ge>>>16&255]^C[V>>>8&255]^N[F&255]^U[Ce++],M=z[ge>>>24]^I[V>>>16&255]^C[F>>>8&255]^N[ce&255]^U[Ce++];V=ee,F=he,ce=ie,ge=M}var ee=(P[V>>>24]<<24|P[F>>>16&255]<<16|P[ce>>>8&255]<<8|P[ge&255])^U[Ce++],he=(P[F>>>24]<<24|P[ce>>>16&255]<<16|P[ge>>>8&255]<<8|P[V&255])^U[Ce++],ie=(P[ce>>>24]<<24|P[ge>>>16&255]<<16|P[V>>>8&255]<<8|P[F&255])^U[Ce++],M=(P[ge>>>24]<<24|P[V>>>16&255]<<16|P[F>>>8&255]<<8|P[ce&255])^U[Ce++];S[B]=ee,S[B+1]=he,S[B+2]=ie,S[B+3]=M},keySize:256/32});r.AES=a._createHelper(b)}(),t.AES})}(Ff)),Ff.exports}var Lf={exports:{}},lN=Lf.exports,WE;function uN(){return WE||(WE=1,function(n,e){(function(t,r,i){n.exports=r(Qe(),ua(),ca(),_o(),cn())})(lN,function(t){return function(){var r=t,i=r.lib,a=i.WordArray,l=i.BlockCipher,c=r.algo,h=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],f=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],p=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],_=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],y=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],E=c.DES=l.extend({_doReset:function(){for(var L=this._key,b=L.words,S=[],B=0;B<56;B++){var U=h[B]-1;S[B]=b[U>>>5]>>>31-U%32&1}for(var z=this._subKeys=[],I=0;I<16;I++){for(var C=z[I]=[],N=p[I],B=0;B<24;B++)C[B/6|0]|=S[(f[B]-1+N)%28]<<31-B%6,C[4+(B/6|0)]|=S[28+(f[B+24]-1+N)%28]<<31-B%6;C[0]=C[0]<<1|C[0]>>>31;for(var B=1;B<7;B++)C[B]=C[B]>>>(B-1)*4+3;C[7]=C[7]<<5|C[7]>>>27}for(var P=this._invSubKeys=[],B=0;B<16;B++)P[B]=z[15-B]},encryptBlock:function(L,b){this._doCryptBlock(L,b,this._subKeys)},decryptBlock:function(L,b){this._doCryptBlock(L,b,this._invSubKeys)},_doCryptBlock:function(L,b,S){this._lBlock=L[b],this._rBlock=L[b+1],w.call(this,4,252645135),w.call(this,16,65535),k.call(this,2,858993459),k.call(this,8,16711935),w.call(this,1,1431655765);for(var B=0;B<16;B++){for(var U=S[B],z=this._lBlock,I=this._rBlock,C=0,N=0;N<8;N++)C|=_[N][((I^U[N])&y[N])>>>0];this._lBlock=I,this._rBlock=z^C}var P=this._lBlock;this._lBlock=this._rBlock,this._rBlock=P,w.call(this,1,1431655765),k.call(this,8,16711935),k.call(this,2,858993459),w.call(this,16,65535),w.call(this,4,252645135),L[b]=this._lBlock,L[b+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function w(L,b){var S=(this._lBlock>>>L^this._rBlock)&b;this._rBlock^=S,this._lBlock^=S<<L}function k(L,b){var S=(this._rBlock>>>L^this._lBlock)&b;this._lBlock^=S,this._rBlock^=S<<L}r.DES=l._createHelper(E);var A=c.TripleDES=l.extend({_doReset:function(){var L=this._key,b=L.words;if(b.length!==2&&b.length!==4&&b.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var S=b.slice(0,2),B=b.length<4?b.slice(0,2):b.slice(2,4),U=b.length<6?b.slice(0,2):b.slice(4,6);this._des1=E.createEncryptor(a.create(S)),this._des2=E.createEncryptor(a.create(B)),this._des3=E.createEncryptor(a.create(U))},encryptBlock:function(L,b){this._des1.encryptBlock(L,b),this._des2.decryptBlock(L,b),this._des3.encryptBlock(L,b)},decryptBlock:function(L,b){this._des3.decryptBlock(L,b),this._des2.encryptBlock(L,b),this._des1.decryptBlock(L,b)},keySize:192/32,ivSize:64/32,blockSize:64/32});r.TripleDES=l._createHelper(A)}(),t.TripleDES})}(Lf)),Lf.exports}var Nf={exports:{}},cN=Nf.exports,GE;function hN(){return GE||(GE=1,function(n,e){(function(t,r,i){n.exports=r(Qe(),ua(),ca(),_o(),cn())})(cN,function(t){return function(){var r=t,i=r.lib,a=i.StreamCipher,l=r.algo,c=l.RC4=a.extend({_doReset:function(){for(var p=this._key,_=p.words,y=p.sigBytes,E=this._S=[],w=0;w<256;w++)E[w]=w;for(var w=0,k=0;w<256;w++){var A=w%y,L=_[A>>>2]>>>24-A%4*8&255;k=(k+E[w]+L)%256;var b=E[w];E[w]=E[k],E[k]=b}this._i=this._j=0},_doProcessBlock:function(p,_){p[_]^=h.call(this)},keySize:256/32,ivSize:0});function h(){for(var p=this._S,_=this._i,y=this._j,E=0,w=0;w<4;w++){_=(_+1)%256,y=(y+p[_])%256;var k=p[_];p[_]=p[y],p[y]=k,E|=p[(p[_]+p[y])%256]<<24-w*8}return this._i=_,this._j=y,E}r.RC4=a._createHelper(c);var f=l.RC4Drop=c.extend({cfg:c.cfg.extend({drop:192}),_doReset:function(){c._doReset.call(this);for(var p=this.cfg.drop;p>0;p--)h.call(this)}});r.RC4Drop=a._createHelper(f)}(),t.RC4})}(Nf)),Nf.exports}var Of={exports:{}},fN=Of.exports,KE;function dN(){return KE||(KE=1,function(n,e){(function(t,r,i){n.exports=r(Qe(),ua(),ca(),_o(),cn())})(fN,function(t){return function(){var r=t,i=r.lib,a=i.StreamCipher,l=r.algo,c=[],h=[],f=[],p=l.Rabbit=a.extend({_doReset:function(){for(var y=this._key.words,E=this.cfg.iv,w=0;w<4;w++)y[w]=(y[w]<<8|y[w]>>>24)&16711935|(y[w]<<24|y[w]>>>8)&4278255360;var k=this._X=[y[0],y[3]<<16|y[2]>>>16,y[1],y[0]<<16|y[3]>>>16,y[2],y[1]<<16|y[0]>>>16,y[3],y[2]<<16|y[1]>>>16],A=this._C=[y[2]<<16|y[2]>>>16,y[0]&4294901760|y[1]&65535,y[3]<<16|y[3]>>>16,y[1]&4294901760|y[2]&65535,y[0]<<16|y[0]>>>16,y[2]&4294901760|y[3]&65535,y[1]<<16|y[1]>>>16,y[3]&4294901760|y[0]&65535];this._b=0;for(var w=0;w<4;w++)_.call(this);for(var w=0;w<8;w++)A[w]^=k[w+4&7];if(E){var L=E.words,b=L[0],S=L[1],B=(b<<8|b>>>24)&16711935|(b<<24|b>>>8)&4278255360,U=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360,z=B>>>16|U&4294901760,I=U<<16|B&65535;A[0]^=B,A[1]^=z,A[2]^=U,A[3]^=I,A[4]^=B,A[5]^=z,A[6]^=U,A[7]^=I;for(var w=0;w<4;w++)_.call(this)}},_doProcessBlock:function(y,E){var w=this._X;_.call(this),c[0]=w[0]^w[5]>>>16^w[3]<<16,c[1]=w[2]^w[7]>>>16^w[5]<<16,c[2]=w[4]^w[1]>>>16^w[7]<<16,c[3]=w[6]^w[3]>>>16^w[1]<<16;for(var k=0;k<4;k++)c[k]=(c[k]<<8|c[k]>>>24)&16711935|(c[k]<<24|c[k]>>>8)&4278255360,y[E+k]^=c[k]},blockSize:128/32,ivSize:64/32});function _(){for(var y=this._X,E=this._C,w=0;w<8;w++)h[w]=E[w];E[0]=E[0]+1295307597+this._b|0,E[1]=E[1]+3545052371+(E[0]>>>0<h[0]>>>0?1:0)|0,E[2]=E[2]+886263092+(E[1]>>>0<h[1]>>>0?1:0)|0,E[3]=E[3]+1295307597+(E[2]>>>0<h[2]>>>0?1:0)|0,E[4]=E[4]+3545052371+(E[3]>>>0<h[3]>>>0?1:0)|0,E[5]=E[5]+886263092+(E[4]>>>0<h[4]>>>0?1:0)|0,E[6]=E[6]+1295307597+(E[5]>>>0<h[5]>>>0?1:0)|0,E[7]=E[7]+3545052371+(E[6]>>>0<h[6]>>>0?1:0)|0,this._b=E[7]>>>0<h[7]>>>0?1:0;for(var w=0;w<8;w++){var k=y[w]+E[w],A=k&65535,L=k>>>16,b=((A*A>>>17)+A*L>>>15)+L*L,S=((k&4294901760)*k|0)+((k&65535)*k|0);f[w]=b^S}y[0]=f[0]+(f[7]<<16|f[7]>>>16)+(f[6]<<16|f[6]>>>16)|0,y[1]=f[1]+(f[0]<<8|f[0]>>>24)+f[7]|0,y[2]=f[2]+(f[1]<<16|f[1]>>>16)+(f[0]<<16|f[0]>>>16)|0,y[3]=f[3]+(f[2]<<8|f[2]>>>24)+f[1]|0,y[4]=f[4]+(f[3]<<16|f[3]>>>16)+(f[2]<<16|f[2]>>>16)|0,y[5]=f[5]+(f[4]<<8|f[4]>>>24)+f[3]|0,y[6]=f[6]+(f[5]<<16|f[5]>>>16)+(f[4]<<16|f[4]>>>16)|0,y[7]=f[7]+(f[6]<<8|f[6]>>>24)+f[5]|0}r.Rabbit=a._createHelper(p)}(),t.Rabbit})}(Of)),Of.exports}var Mf={exports:{}},pN=Mf.exports,QE;function mN(){return QE||(QE=1,function(n,e){(function(t,r,i){n.exports=r(Qe(),ua(),ca(),_o(),cn())})(pN,function(t){return function(){var r=t,i=r.lib,a=i.StreamCipher,l=r.algo,c=[],h=[],f=[],p=l.RabbitLegacy=a.extend({_doReset:function(){var y=this._key.words,E=this.cfg.iv,w=this._X=[y[0],y[3]<<16|y[2]>>>16,y[1],y[0]<<16|y[3]>>>16,y[2],y[1]<<16|y[0]>>>16,y[3],y[2]<<16|y[1]>>>16],k=this._C=[y[2]<<16|y[2]>>>16,y[0]&4294901760|y[1]&65535,y[3]<<16|y[3]>>>16,y[1]&4294901760|y[2]&65535,y[0]<<16|y[0]>>>16,y[2]&4294901760|y[3]&65535,y[1]<<16|y[1]>>>16,y[3]&4294901760|y[0]&65535];this._b=0;for(var A=0;A<4;A++)_.call(this);for(var A=0;A<8;A++)k[A]^=w[A+4&7];if(E){var L=E.words,b=L[0],S=L[1],B=(b<<8|b>>>24)&16711935|(b<<24|b>>>8)&4278255360,U=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360,z=B>>>16|U&4294901760,I=U<<16|B&65535;k[0]^=B,k[1]^=z,k[2]^=U,k[3]^=I,k[4]^=B,k[5]^=z,k[6]^=U,k[7]^=I;for(var A=0;A<4;A++)_.call(this)}},_doProcessBlock:function(y,E){var w=this._X;_.call(this),c[0]=w[0]^w[5]>>>16^w[3]<<16,c[1]=w[2]^w[7]>>>16^w[5]<<16,c[2]=w[4]^w[1]>>>16^w[7]<<16,c[3]=w[6]^w[3]>>>16^w[1]<<16;for(var k=0;k<4;k++)c[k]=(c[k]<<8|c[k]>>>24)&16711935|(c[k]<<24|c[k]>>>8)&4278255360,y[E+k]^=c[k]},blockSize:128/32,ivSize:64/32});function _(){for(var y=this._X,E=this._C,w=0;w<8;w++)h[w]=E[w];E[0]=E[0]+1295307597+this._b|0,E[1]=E[1]+3545052371+(E[0]>>>0<h[0]>>>0?1:0)|0,E[2]=E[2]+886263092+(E[1]>>>0<h[1]>>>0?1:0)|0,E[3]=E[3]+1295307597+(E[2]>>>0<h[2]>>>0?1:0)|0,E[4]=E[4]+3545052371+(E[3]>>>0<h[3]>>>0?1:0)|0,E[5]=E[5]+886263092+(E[4]>>>0<h[4]>>>0?1:0)|0,E[6]=E[6]+1295307597+(E[5]>>>0<h[5]>>>0?1:0)|0,E[7]=E[7]+3545052371+(E[6]>>>0<h[6]>>>0?1:0)|0,this._b=E[7]>>>0<h[7]>>>0?1:0;for(var w=0;w<8;w++){var k=y[w]+E[w],A=k&65535,L=k>>>16,b=((A*A>>>17)+A*L>>>15)+L*L,S=((k&4294901760)*k|0)+((k&65535)*k|0);f[w]=b^S}y[0]=f[0]+(f[7]<<16|f[7]>>>16)+(f[6]<<16|f[6]>>>16)|0,y[1]=f[1]+(f[0]<<8|f[0]>>>24)+f[7]|0,y[2]=f[2]+(f[1]<<16|f[1]>>>16)+(f[0]<<16|f[0]>>>16)|0,y[3]=f[3]+(f[2]<<8|f[2]>>>24)+f[1]|0,y[4]=f[4]+(f[3]<<16|f[3]>>>16)+(f[2]<<16|f[2]>>>16)|0,y[5]=f[5]+(f[4]<<8|f[4]>>>24)+f[3]|0,y[6]=f[6]+(f[5]<<16|f[5]>>>16)+(f[4]<<16|f[4]>>>16)|0,y[7]=f[7]+(f[6]<<8|f[6]>>>24)+f[5]|0}r.RabbitLegacy=a._createHelper(p)}(),t.RabbitLegacy})}(Mf)),Mf.exports}var Vf={exports:{}},gN=Vf.exports,XE;function yN(){return XE||(XE=1,function(n,e){(function(t,r,i){n.exports=r(Qe(),ua(),ca(),_o(),cn())})(gN,function(t){return function(){var r=t,i=r.lib,a=i.BlockCipher,l=r.algo;const c=16,h=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],f=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var p={pbox:[],sbox:[]};function _(A,L){let b=L>>24&255,S=L>>16&255,B=L>>8&255,U=L&255,z=A.sbox[0][b]+A.sbox[1][S];return z=z^A.sbox[2][B],z=z+A.sbox[3][U],z}function y(A,L,b){let S=L,B=b,U;for(let z=0;z<c;++z)S=S^A.pbox[z],B=_(A,S)^B,U=S,S=B,B=U;return U=S,S=B,B=U,B=B^A.pbox[c],S=S^A.pbox[c+1],{left:S,right:B}}function E(A,L,b){let S=L,B=b,U;for(let z=c+1;z>1;--z)S=S^A.pbox[z],B=_(A,S)^B,U=S,S=B,B=U;return U=S,S=B,B=U,B=B^A.pbox[1],S=S^A.pbox[0],{left:S,right:B}}function w(A,L,b){for(let I=0;I<4;I++){A.sbox[I]=[];for(let C=0;C<256;C++)A.sbox[I][C]=f[I][C]}let S=0;for(let I=0;I<c+2;I++)A.pbox[I]=h[I]^L[S],S++,S>=b&&(S=0);let B=0,U=0,z=0;for(let I=0;I<c+2;I+=2)z=y(A,B,U),B=z.left,U=z.right,A.pbox[I]=B,A.pbox[I+1]=U;for(let I=0;I<4;I++)for(let C=0;C<256;C+=2)z=y(A,B,U),B=z.left,U=z.right,A.sbox[I][C]=B,A.sbox[I][C+1]=U;return!0}var k=l.Blowfish=a.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var A=this._keyPriorReset=this._key,L=A.words,b=A.sigBytes/4;w(p,L,b)}},encryptBlock:function(A,L){var b=y(p,A[L],A[L+1]);A[L]=b.left,A[L+1]=b.right},decryptBlock:function(A,L){var b=E(p,A[L],A[L+1]);A[L]=b.left,A[L+1]=b.right},blockSize:64/32,keySize:128/32,ivSize:64/32});r.Blowfish=a._createHelper(k)}(),t.Blowfish})}(Vf)),Vf.exports}var _N=rf.exports,YE;function vN(){return YE||(YE=1,function(n,e){(function(t,r,i){n.exports=r(Qe(),Xd(),mL(),yL(),ua(),xL(),ca(),HC(),J1(),CL(),qC(),SL(),RL(),DL(),ey(),LL(),_o(),cn(),VL(),$L(),jL(),qL(),GL(),QL(),YL(),JL(),tN(),rN(),sN(),aN(),uN(),hN(),dN(),mN(),yN())})(_N,function(t){return t})}(rf)),rf.exports}var xN=vN();const $M=gg(xN);function ty(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}let ha=ty();function WC(n){ha=n}const Ou={exec:()=>null};function st(n,e=""){let t=typeof n=="string"?n:n.source;const r={replace:(i,a)=>{let l=typeof a=="string"?a:a.source;return l=l.replace(er.caret,"$1"),t=t.replace(i,l),r},getRegex:()=>new RegExp(t,e)};return r}const er={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:n=>new RegExp(`^( {0,3}${n})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:n=>new RegExp(`^ {0,${Math.min(3,n-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:n=>new RegExp(`^ {0,${Math.min(3,n-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:n=>new RegExp(`^ {0,${Math.min(3,n-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:n=>new RegExp(`^ {0,${Math.min(3,n-1)}}#`),htmlBeginRegex:n=>new RegExp(`^ {0,${Math.min(3,n-1)}}<(?:[a-z].*>|!--)`,"i")},EN=/^(?:[ \t]*(?:\n|$))+/,wN=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,TN=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,yc=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,AN=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,GC=/(?:[*+-]|\d{1,9}[.)])/,KC=st(/^(?!bull |blockCode|fences|blockquote|heading|html)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,GC).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).getRegex(),ny=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,CN=/^[^\n]+/,ry=/(?!\s*\])(?:\\.|[^\[\]\\])+/,kN=st(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",ry).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),bN=st(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,GC).getRegex(),Yd="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",iy=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,SN=st("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",iy).replace("tag",Yd).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),QC=st(ny).replace("hr",yc).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Yd).getRegex(),IN=st(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",QC).getRegex(),sy={blockquote:IN,code:wN,def:kN,fences:TN,heading:AN,hr:yc,html:SN,lheading:KC,list:bN,newline:EN,paragraph:QC,table:Ou,text:CN},ZE=st("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",yc).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Yd).getRegex(),RN={...sy,table:ZE,paragraph:st(ny).replace("hr",yc).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",ZE).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Yd).getRegex()},PN={...sy,html:st(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",iy).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Ou,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:st(ny).replace("hr",yc).replace("heading",` *#{1,6} *[^
]`).replace("lheading",KC).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},DN=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,BN=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,XC=/^( {2,}|\\)\n(?!\s*$)/,FN=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,Zd=/[\p{P}\p{S}]/u,oy=/[\s\p{P}\p{S}]/u,YC=/[^\s\p{P}\p{S}]/u,LN=st(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,oy).getRegex(),ZC=/(?!~)[\p{P}\p{S}]/u,NN=/(?!~)[\s\p{P}\p{S}]/u,ON=/(?:[^\s\p{P}\p{S}]|~)/u,MN=/\[[^[\]]*?\]\((?:\\.|[^\\\(\)]|\((?:\\.|[^\\\(\)])*\))*\)|`[^`]*?`|<[^<>]*?>/g,JC=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,VN=st(JC,"u").replace(/punct/g,Zd).getRegex(),UN=st(JC,"u").replace(/punct/g,ZC).getRegex(),e3="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",$N=st(e3,"gu").replace(/notPunctSpace/g,YC).replace(/punctSpace/g,oy).replace(/punct/g,Zd).getRegex(),zN=st(e3,"gu").replace(/notPunctSpace/g,ON).replace(/punctSpace/g,NN).replace(/punct/g,ZC).getRegex(),jN=st("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,YC).replace(/punctSpace/g,oy).replace(/punct/g,Zd).getRegex(),HN=st(/\\(punct)/,"gu").replace(/punct/g,Zd).getRegex(),qN=st(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),WN=st(iy).replace("(?:-->|$)","-->").getRegex(),GN=st("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",WN).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),fd=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,KN=st(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",fd).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),t3=st(/^!?\[(label)\]\[(ref)\]/).replace("label",fd).replace("ref",ry).getRegex(),n3=st(/^!?\[(ref)\](?:\[\])?/).replace("ref",ry).getRegex(),QN=st("reflink|nolink(?!\\()","g").replace("reflink",t3).replace("nolink",n3).getRegex(),ay={_backpedal:Ou,anyPunctuation:HN,autolink:qN,blockSkip:MN,br:XC,code:BN,del:Ou,emStrongLDelim:VN,emStrongRDelimAst:$N,emStrongRDelimUnd:jN,escape:DN,link:KN,nolink:n3,punctuation:LN,reflink:t3,reflinkSearch:QN,tag:GN,text:FN,url:Ou},XN={...ay,link:st(/^!?\[(label)\]\((.*?)\)/).replace("label",fd).getRegex(),reflink:st(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",fd).getRegex()},ag={...ay,emStrongRDelimAst:zN,emStrongLDelim:UN,url:st(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\.|[^\\])*?(?:\\.|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},YN={...ag,br:st(XC).replace("{2,}","*").getRegex(),text:st(ag.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Vh={normal:sy,gfm:RN,pedantic:PN},hu={normal:ay,gfm:ag,breaks:YN,pedantic:XN},ZN={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},JE=n=>ZN[n];function Ri(n,e){if(e){if(er.escapeTest.test(n))return n.replace(er.escapeReplace,JE)}else if(er.escapeTestNoEncode.test(n))return n.replace(er.escapeReplaceNoEncode,JE);return n}function ew(n){try{n=encodeURI(n).replace(er.percentDecode,"%")}catch{return null}return n}function tw(n,e){var a;const t=n.replace(er.findPipe,(l,c,h)=>{let f=!1,p=c;for(;--p>=0&&h[p]==="\\";)f=!f;return f?"|":" |"}),r=t.split(er.splitPipe);let i=0;if(r[0].trim()||r.shift(),r.length>0&&!((a=r.at(-1))!=null&&a.trim())&&r.pop(),e)if(r.length>e)r.splice(e);else for(;r.length<e;)r.push("");for(;i<r.length;i++)r[i]=r[i].trim().replace(er.slashPipe,"|");return r}function fu(n,e,t){const r=n.length;if(r===0)return"";let i=0;for(;i<r&&n.charAt(r-i-1)===e;)i++;return n.slice(0,r-i)}function JN(n,e){if(n.indexOf(e[1])===-1)return-1;let t=0;for(let r=0;r<n.length;r++)if(n[r]==="\\")r++;else if(n[r]===e[0])t++;else if(n[r]===e[1]&&(t--,t<0))return r;return-1}function nw(n,e,t,r,i){const a=e.href,l=e.title||null,c=n[1].replace(i.other.outputLinkReplace,"$1");if(n[0].charAt(0)!=="!"){r.state.inLink=!0;const h={type:"link",raw:t,href:a,title:l,text:c,tokens:r.inlineTokens(c)};return r.state.inLink=!1,h}return{type:"image",raw:t,href:a,title:l,text:c}}function eO(n,e,t){const r=n.match(t.other.indentCodeCompensation);if(r===null)return e;const i=r[1];return e.split(`
`).map(a=>{const l=a.match(t.other.beginningSpace);if(l===null)return a;const[c]=l;return c.length>=i.length?a.slice(i.length):a}).join(`
`)}class dd{constructor(e){dt(this,"options");dt(this,"rules");dt(this,"lexer");this.options=e||ha}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const r=t[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?r:fu(r,`
`)}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const r=t[0],i=eO(r,t[3]||"",this.rules);return{type:"code",raw:r,lang:t[2]?t[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):t[2],text:i}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let r=t[2].trim();if(this.rules.other.endingHash.test(r)){const i=fu(r,"#");(this.options.pedantic||!i||this.rules.other.endingSpaceChar.test(i))&&(r=i.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:r,tokens:this.lexer.inline(r)}}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:fu(t[0],`
`)}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){let r=fu(t[0],`
`).split(`
`),i="",a="";const l=[];for(;r.length>0;){let c=!1;const h=[];let f;for(f=0;f<r.length;f++)if(this.rules.other.blockquoteStart.test(r[f]))h.push(r[f]),c=!0;else if(!c)h.push(r[f]);else break;r=r.slice(f);const p=h.join(`
`),_=p.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");i=i?`${i}
${p}`:p,a=a?`${a}
${_}`:_;const y=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(_,l,!0),this.lexer.state.top=y,r.length===0)break;const E=l.at(-1);if((E==null?void 0:E.type)==="code")break;if((E==null?void 0:E.type)==="blockquote"){const w=E,k=w.raw+`
`+r.join(`
`),A=this.blockquote(k);l[l.length-1]=A,i=i.substring(0,i.length-w.raw.length)+A.raw,a=a.substring(0,a.length-w.text.length)+A.text;break}else if((E==null?void 0:E.type)==="list"){const w=E,k=w.raw+`
`+r.join(`
`),A=this.list(k);l[l.length-1]=A,i=i.substring(0,i.length-E.raw.length)+A.raw,a=a.substring(0,a.length-w.raw.length)+A.raw,r=k.substring(l.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:i,tokens:l,text:a}}}list(e){let t=this.rules.block.list.exec(e);if(t){let r=t[1].trim();const i=r.length>1,a={type:"list",raw:"",ordered:i,start:i?+r.slice(0,-1):"",loose:!1,items:[]};r=i?`\\d{1,9}\\${r.slice(-1)}`:`\\${r}`,this.options.pedantic&&(r=i?r:"[*+-]");const l=this.rules.other.listItemRegex(r);let c=!1;for(;e;){let f=!1,p="",_="";if(!(t=l.exec(e))||this.rules.block.hr.test(e))break;p=t[0],e=e.substring(p.length);let y=t[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,b=>" ".repeat(3*b.length)),E=e.split(`
`,1)[0],w=!y.trim(),k=0;if(this.options.pedantic?(k=2,_=y.trimStart()):w?k=t[1].length+1:(k=t[2].search(this.rules.other.nonSpaceChar),k=k>4?1:k,_=y.slice(k),k+=t[1].length),w&&this.rules.other.blankLine.test(E)&&(p+=E+`
`,e=e.substring(E.length+1),f=!0),!f){const b=this.rules.other.nextBulletRegex(k),S=this.rules.other.hrRegex(k),B=this.rules.other.fencesBeginRegex(k),U=this.rules.other.headingBeginRegex(k),z=this.rules.other.htmlBeginRegex(k);for(;e;){const I=e.split(`
`,1)[0];let C;if(E=I,this.options.pedantic?(E=E.replace(this.rules.other.listReplaceNesting,"  "),C=E):C=E.replace(this.rules.other.tabCharGlobal,"    "),B.test(E)||U.test(E)||z.test(E)||b.test(E)||S.test(E))break;if(C.search(this.rules.other.nonSpaceChar)>=k||!E.trim())_+=`
`+C.slice(k);else{if(w||y.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||B.test(y)||U.test(y)||S.test(y))break;_+=`
`+E}!w&&!E.trim()&&(w=!0),p+=I+`
`,e=e.substring(I.length+1),y=C.slice(k)}}a.loose||(c?a.loose=!0:this.rules.other.doubleBlankLine.test(p)&&(c=!0));let A=null,L;this.options.gfm&&(A=this.rules.other.listIsTask.exec(_),A&&(L=A[0]!=="[ ] ",_=_.replace(this.rules.other.listReplaceTask,""))),a.items.push({type:"list_item",raw:p,task:!!A,checked:L,loose:!1,text:_,tokens:[]}),a.raw+=p}const h=a.items.at(-1);if(h)h.raw=h.raw.trimEnd(),h.text=h.text.trimEnd();else return;a.raw=a.raw.trimEnd();for(let f=0;f<a.items.length;f++)if(this.lexer.state.top=!1,a.items[f].tokens=this.lexer.blockTokens(a.items[f].text,[]),!a.loose){const p=a.items[f].tokens.filter(y=>y.type==="space"),_=p.length>0&&p.some(y=>this.rules.other.anyLine.test(y.raw));a.loose=_}if(a.loose)for(let f=0;f<a.items.length;f++)a.items[f].loose=!0;return a}}html(e){const t=this.rules.block.html.exec(e);if(t)return{type:"html",block:!0,raw:t[0],pre:t[1]==="pre"||t[1]==="script"||t[1]==="style",text:t[0]}}def(e){const t=this.rules.block.def.exec(e);if(t){const r=t[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),i=t[2]?t[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",a=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):t[3];return{type:"def",tag:r,raw:t[0],href:i,title:a}}}table(e){var c;const t=this.rules.block.table.exec(e);if(!t||!this.rules.other.tableDelimiter.test(t[2]))return;const r=tw(t[1]),i=t[2].replace(this.rules.other.tableAlignChars,"").split("|"),a=(c=t[3])!=null&&c.trim()?t[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],l={type:"table",raw:t[0],header:[],align:[],rows:[]};if(r.length===i.length){for(const h of i)this.rules.other.tableAlignRight.test(h)?l.align.push("right"):this.rules.other.tableAlignCenter.test(h)?l.align.push("center"):this.rules.other.tableAlignLeft.test(h)?l.align.push("left"):l.align.push(null);for(let h=0;h<r.length;h++)l.header.push({text:r[h],tokens:this.lexer.inline(r[h]),header:!0,align:l.align[h]});for(const h of a)l.rows.push(tw(h,l.header.length).map((f,p)=>({text:f,tokens:this.lexer.inline(f),header:!1,align:l.align[p]})));return l}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:t[2].charAt(0)==="="?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const r=t[1].charAt(t[1].length-1)===`
`?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:r,tokens:this.lexer.inline(r)}}}text(e){const t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:t[1]}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&this.rules.other.startATag.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const r=t[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(r)){if(!this.rules.other.endAngleBracket.test(r))return;const l=fu(r.slice(0,-1),"\\");if((r.length-l.length)%2===0)return}else{const l=JN(t[2],"()");if(l>-1){const h=(t[0].indexOf("!")===0?5:4)+t[1].length+l;t[2]=t[2].substring(0,l),t[0]=t[0].substring(0,h).trim(),t[3]=""}}let i=t[2],a="";if(this.options.pedantic){const l=this.rules.other.pedanticHrefTitle.exec(i);l&&(i=l[1],a=l[3])}else a=t[3]?t[3].slice(1,-1):"";return i=i.trim(),this.rules.other.startAngleBracket.test(i)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(r)?i=i.slice(1):i=i.slice(1,-1)),nw(t,{href:i&&i.replace(this.rules.inline.anyPunctuation,"$1"),title:a&&a.replace(this.rules.inline.anyPunctuation,"$1")},t[0],this.lexer,this.rules)}}reflink(e,t){let r;if((r=this.rules.inline.reflink.exec(e))||(r=this.rules.inline.nolink.exec(e))){const i=(r[2]||r[1]).replace(this.rules.other.multipleSpaceGlobal," "),a=t[i.toLowerCase()];if(!a){const l=r[0].charAt(0);return{type:"text",raw:l,text:l}}return nw(r,a,r[0],this.lexer,this.rules)}}emStrong(e,t,r=""){let i=this.rules.inline.emStrongLDelim.exec(e);if(!i||i[3]&&r.match(this.rules.other.unicodeAlphaNumeric))return;if(!(i[1]||i[2]||"")||!r||this.rules.inline.punctuation.exec(r)){const l=[...i[0]].length-1;let c,h,f=l,p=0;const _=i[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(_.lastIndex=0,t=t.slice(-1*e.length+l);(i=_.exec(t))!=null;){if(c=i[1]||i[2]||i[3]||i[4]||i[5]||i[6],!c)continue;if(h=[...c].length,i[3]||i[4]){f+=h;continue}else if((i[5]||i[6])&&l%3&&!((l+h)%3)){p+=h;continue}if(f-=h,f>0)continue;h=Math.min(h,h+f+p);const y=[...i[0]][0].length,E=e.slice(0,l+i.index+y+h);if(Math.min(l,h)%2){const k=E.slice(1,-1);return{type:"em",raw:E,text:k,tokens:this.lexer.inlineTokens(k)}}const w=E.slice(2,-2);return{type:"strong",raw:E,text:w,tokens:this.lexer.inlineTokens(w)}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let r=t[2].replace(this.rules.other.newLineCharGlobal," ");const i=this.rules.other.nonSpaceChar.test(r),a=this.rules.other.startingSpaceChar.test(r)&&this.rules.other.endingSpaceChar.test(r);return i&&a&&(r=r.substring(1,r.length-1)),{type:"codespan",raw:t[0],text:r}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e){const t=this.rules.inline.autolink.exec(e);if(t){let r,i;return t[2]==="@"?(r=t[1],i="mailto:"+r):(r=t[1],i=r),{type:"link",raw:t[0],text:r,href:i,tokens:[{type:"text",raw:r,text:r}]}}}url(e){var r;let t;if(t=this.rules.inline.url.exec(e)){let i,a;if(t[2]==="@")i=t[0],a="mailto:"+i;else{let l;do l=t[0],t[0]=((r=this.rules.inline._backpedal.exec(t[0]))==null?void 0:r[0])??"";while(l!==t[0]);i=t[0],t[1]==="www."?a="http://"+t[0]:a=t[0]}return{type:"link",raw:t[0],text:i,href:a,tokens:[{type:"text",raw:i,text:i}]}}}inlineText(e){const t=this.rules.inline.text.exec(e);if(t){const r=this.lexer.state.inRawBlock;return{type:"text",raw:t[0],text:t[0],escaped:r}}}}class Qr{constructor(e){dt(this,"tokens");dt(this,"options");dt(this,"state");dt(this,"tokenizer");dt(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=e||ha,this.options.tokenizer=this.options.tokenizer||new dd,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={other:er,block:Vh.normal,inline:hu.normal};this.options.pedantic?(t.block=Vh.pedantic,t.inline=hu.pedantic):this.options.gfm&&(t.block=Vh.gfm,this.options.breaks?t.inline=hu.breaks:t.inline=hu.gfm),this.tokenizer.rules=t}static get rules(){return{block:Vh,inline:hu}}static lex(e,t){return new Qr(t).lex(e)}static lexInline(e,t){return new Qr(t).inlineTokens(e)}lex(e){e=e.replace(er.carriageReturn,`
`),this.blockTokens(e,this.tokens);for(let t=0;t<this.inlineQueue.length;t++){const r=this.inlineQueue[t];this.inlineTokens(r.src,r.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,t=[],r=!1){var i,a,l;for(this.options.pedantic&&(e=e.replace(er.tabCharGlobal,"    ").replace(er.spaceLine,""));e;){let c;if((a=(i=this.options.extensions)==null?void 0:i.block)!=null&&a.some(f=>(c=f.call({lexer:this},e,t))?(e=e.substring(c.raw.length),t.push(c),!0):!1))continue;if(c=this.tokenizer.space(e)){e=e.substring(c.raw.length);const f=t.at(-1);c.raw.length===1&&f!==void 0?f.raw+=`
`:t.push(c);continue}if(c=this.tokenizer.code(e)){e=e.substring(c.raw.length);const f=t.at(-1);(f==null?void 0:f.type)==="paragraph"||(f==null?void 0:f.type)==="text"?(f.raw+=`
`+c.raw,f.text+=`
`+c.text,this.inlineQueue.at(-1).src=f.text):t.push(c);continue}if(c=this.tokenizer.fences(e)){e=e.substring(c.raw.length),t.push(c);continue}if(c=this.tokenizer.heading(e)){e=e.substring(c.raw.length),t.push(c);continue}if(c=this.tokenizer.hr(e)){e=e.substring(c.raw.length),t.push(c);continue}if(c=this.tokenizer.blockquote(e)){e=e.substring(c.raw.length),t.push(c);continue}if(c=this.tokenizer.list(e)){e=e.substring(c.raw.length),t.push(c);continue}if(c=this.tokenizer.html(e)){e=e.substring(c.raw.length),t.push(c);continue}if(c=this.tokenizer.def(e)){e=e.substring(c.raw.length);const f=t.at(-1);(f==null?void 0:f.type)==="paragraph"||(f==null?void 0:f.type)==="text"?(f.raw+=`
`+c.raw,f.text+=`
`+c.raw,this.inlineQueue.at(-1).src=f.text):this.tokens.links[c.tag]||(this.tokens.links[c.tag]={href:c.href,title:c.title});continue}if(c=this.tokenizer.table(e)){e=e.substring(c.raw.length),t.push(c);continue}if(c=this.tokenizer.lheading(e)){e=e.substring(c.raw.length),t.push(c);continue}let h=e;if((l=this.options.extensions)!=null&&l.startBlock){let f=1/0;const p=e.slice(1);let _;this.options.extensions.startBlock.forEach(y=>{_=y.call({lexer:this},p),typeof _=="number"&&_>=0&&(f=Math.min(f,_))}),f<1/0&&f>=0&&(h=e.substring(0,f+1))}if(this.state.top&&(c=this.tokenizer.paragraph(h))){const f=t.at(-1);r&&(f==null?void 0:f.type)==="paragraph"?(f.raw+=`
`+c.raw,f.text+=`
`+c.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=f.text):t.push(c),r=h.length!==e.length,e=e.substring(c.raw.length);continue}if(c=this.tokenizer.text(e)){e=e.substring(c.raw.length);const f=t.at(-1);(f==null?void 0:f.type)==="text"?(f.raw+=`
`+c.raw,f.text+=`
`+c.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=f.text):t.push(c);continue}if(e){const f="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(f);break}else throw new Error(f)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){var c,h,f;let r=e,i=null;if(this.tokens.links){const p=Object.keys(this.tokens.links);if(p.length>0)for(;(i=this.tokenizer.rules.inline.reflinkSearch.exec(r))!=null;)p.includes(i[0].slice(i[0].lastIndexOf("[")+1,-1))&&(r=r.slice(0,i.index)+"["+"a".repeat(i[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(i=this.tokenizer.rules.inline.blockSkip.exec(r))!=null;)r=r.slice(0,i.index)+"["+"a".repeat(i[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(i=this.tokenizer.rules.inline.anyPunctuation.exec(r))!=null;)r=r.slice(0,i.index)+"++"+r.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);let a=!1,l="";for(;e;){a||(l=""),a=!1;let p;if((h=(c=this.options.extensions)==null?void 0:c.inline)!=null&&h.some(y=>(p=y.call({lexer:this},e,t))?(e=e.substring(p.raw.length),t.push(p),!0):!1))continue;if(p=this.tokenizer.escape(e)){e=e.substring(p.raw.length),t.push(p);continue}if(p=this.tokenizer.tag(e)){e=e.substring(p.raw.length),t.push(p);continue}if(p=this.tokenizer.link(e)){e=e.substring(p.raw.length),t.push(p);continue}if(p=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(p.raw.length);const y=t.at(-1);p.type==="text"&&(y==null?void 0:y.type)==="text"?(y.raw+=p.raw,y.text+=p.text):t.push(p);continue}if(p=this.tokenizer.emStrong(e,r,l)){e=e.substring(p.raw.length),t.push(p);continue}if(p=this.tokenizer.codespan(e)){e=e.substring(p.raw.length),t.push(p);continue}if(p=this.tokenizer.br(e)){e=e.substring(p.raw.length),t.push(p);continue}if(p=this.tokenizer.del(e)){e=e.substring(p.raw.length),t.push(p);continue}if(p=this.tokenizer.autolink(e)){e=e.substring(p.raw.length),t.push(p);continue}if(!this.state.inLink&&(p=this.tokenizer.url(e))){e=e.substring(p.raw.length),t.push(p);continue}let _=e;if((f=this.options.extensions)!=null&&f.startInline){let y=1/0;const E=e.slice(1);let w;this.options.extensions.startInline.forEach(k=>{w=k.call({lexer:this},E),typeof w=="number"&&w>=0&&(y=Math.min(y,w))}),y<1/0&&y>=0&&(_=e.substring(0,y+1))}if(p=this.tokenizer.inlineText(_)){e=e.substring(p.raw.length),p.raw.slice(-1)!=="_"&&(l=p.raw.slice(-1)),a=!0;const y=t.at(-1);(y==null?void 0:y.type)==="text"?(y.raw+=p.raw,y.text+=p.text):t.push(p);continue}if(e){const y="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(y);break}else throw new Error(y)}}return t}}class pd{constructor(e){dt(this,"options");dt(this,"parser");this.options=e||ha}space(e){return""}code({text:e,lang:t,escaped:r}){var l;const i=(l=(t||"").match(er.notSpaceStart))==null?void 0:l[0],a=e.replace(er.endingNewline,"")+`
`;return i?'<pre><code class="language-'+Ri(i)+'">'+(r?a:Ri(a,!0))+`</code></pre>
`:"<pre><code>"+(r?a:Ri(a,!0))+`</code></pre>
`}blockquote({tokens:e}){return`<blockquote>
${this.parser.parse(e)}</blockquote>
`}html({text:e}){return e}heading({tokens:e,depth:t}){return`<h${t}>${this.parser.parseInline(e)}</h${t}>
`}hr(e){return`<hr>
`}list(e){const t=e.ordered,r=e.start;let i="";for(let c=0;c<e.items.length;c++){const h=e.items[c];i+=this.listitem(h)}const a=t?"ol":"ul",l=t&&r!==1?' start="'+r+'"':"";return"<"+a+l+`>
`+i+"</"+a+`>
`}listitem(e){var r;let t="";if(e.task){const i=this.checkbox({checked:!!e.checked});e.loose?((r=e.tokens[0])==null?void 0:r.type)==="paragraph"?(e.tokens[0].text=i+" "+e.tokens[0].text,e.tokens[0].tokens&&e.tokens[0].tokens.length>0&&e.tokens[0].tokens[0].type==="text"&&(e.tokens[0].tokens[0].text=i+" "+Ri(e.tokens[0].tokens[0].text),e.tokens[0].tokens[0].escaped=!0)):e.tokens.unshift({type:"text",raw:i+" ",text:i+" ",escaped:!0}):t+=i+" "}return t+=this.parser.parse(e.tokens,!!e.loose),`<li>${t}</li>
`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>
`}table(e){let t="",r="";for(let a=0;a<e.header.length;a++)r+=this.tablecell(e.header[a]);t+=this.tablerow({text:r});let i="";for(let a=0;a<e.rows.length;a++){const l=e.rows[a];r="";for(let c=0;c<l.length;c++)r+=this.tablecell(l[c]);i+=this.tablerow({text:r})}return i&&(i=`<tbody>${i}</tbody>`),`<table>
<thead>
`+t+`</thead>
`+i+`</table>
`}tablerow({text:e}){return`<tr>
${e}</tr>
`}tablecell(e){const t=this.parser.parseInline(e.tokens),r=e.header?"th":"td";return(e.align?`<${r} align="${e.align}">`:`<${r}>`)+t+`</${r}>
`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${Ri(e,!0)}</code>`}br(e){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:t,tokens:r}){const i=this.parser.parseInline(r),a=ew(e);if(a===null)return i;e=a;let l='<a href="'+e+'"';return t&&(l+=' title="'+Ri(t)+'"'),l+=">"+i+"</a>",l}image({href:e,title:t,text:r}){const i=ew(e);if(i===null)return Ri(r);e=i;let a=`<img src="${e}" alt="${r}"`;return t&&(a+=` title="${Ri(t)}"`),a+=">",a}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):"escaped"in e&&e.escaped?e.text:Ri(e.text)}}class ly{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}}class Xr{constructor(e){dt(this,"options");dt(this,"renderer");dt(this,"textRenderer");this.options=e||ha,this.options.renderer=this.options.renderer||new pd,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new ly}static parse(e,t){return new Xr(t).parse(e)}static parseInline(e,t){return new Xr(t).parseInline(e)}parse(e,t=!0){var i,a;let r="";for(let l=0;l<e.length;l++){const c=e[l];if((a=(i=this.options.extensions)==null?void 0:i.renderers)!=null&&a[c.type]){const f=c,p=this.options.extensions.renderers[f.type].call({parser:this},f);if(p!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(f.type)){r+=p||"";continue}}const h=c;switch(h.type){case"space":{r+=this.renderer.space(h);continue}case"hr":{r+=this.renderer.hr(h);continue}case"heading":{r+=this.renderer.heading(h);continue}case"code":{r+=this.renderer.code(h);continue}case"table":{r+=this.renderer.table(h);continue}case"blockquote":{r+=this.renderer.blockquote(h);continue}case"list":{r+=this.renderer.list(h);continue}case"html":{r+=this.renderer.html(h);continue}case"paragraph":{r+=this.renderer.paragraph(h);continue}case"text":{let f=h,p=this.renderer.text(f);for(;l+1<e.length&&e[l+1].type==="text";)f=e[++l],p+=`
`+this.renderer.text(f);t?r+=this.renderer.paragraph({type:"paragraph",raw:p,text:p,tokens:[{type:"text",raw:p,text:p,escaped:!0}]}):r+=p;continue}default:{const f='Token with "'+h.type+'" type was not found.';if(this.options.silent)return console.error(f),"";throw new Error(f)}}}return r}parseInline(e,t=this.renderer){var i,a;let r="";for(let l=0;l<e.length;l++){const c=e[l];if((a=(i=this.options.extensions)==null?void 0:i.renderers)!=null&&a[c.type]){const f=this.options.extensions.renderers[c.type].call({parser:this},c);if(f!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(c.type)){r+=f||"";continue}}const h=c;switch(h.type){case"escape":{r+=t.text(h);break}case"html":{r+=t.html(h);break}case"link":{r+=t.link(h);break}case"image":{r+=t.image(h);break}case"strong":{r+=t.strong(h);break}case"em":{r+=t.em(h);break}case"codespan":{r+=t.codespan(h);break}case"br":{r+=t.br(h);break}case"del":{r+=t.del(h);break}case"text":{r+=t.text(h);break}default:{const f='Token with "'+h.type+'" type was not found.';if(this.options.silent)return console.error(f),"";throw new Error(f)}}}return r}}class Mu{constructor(e){dt(this,"options");dt(this,"block");this.options=e||ha}preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}provideLexer(){return this.block?Qr.lex:Qr.lexInline}provideParser(){return this.block?Xr.parse:Xr.parseInline}}dt(Mu,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"]));class tO{constructor(...e){dt(this,"defaults",ty());dt(this,"options",this.setOptions);dt(this,"parse",this.parseMarkdown(!0));dt(this,"parseInline",this.parseMarkdown(!1));dt(this,"Parser",Xr);dt(this,"Renderer",pd);dt(this,"TextRenderer",ly);dt(this,"Lexer",Qr);dt(this,"Tokenizer",dd);dt(this,"Hooks",Mu);this.use(...e)}walkTokens(e,t){var i,a;let r=[];for(const l of e)switch(r=r.concat(t.call(this,l)),l.type){case"table":{const c=l;for(const h of c.header)r=r.concat(this.walkTokens(h.tokens,t));for(const h of c.rows)for(const f of h)r=r.concat(this.walkTokens(f.tokens,t));break}case"list":{const c=l;r=r.concat(this.walkTokens(c.items,t));break}default:{const c=l;(a=(i=this.defaults.extensions)==null?void 0:i.childTokens)!=null&&a[c.type]?this.defaults.extensions.childTokens[c.type].forEach(h=>{const f=c[h].flat(1/0);r=r.concat(this.walkTokens(f,t))}):c.tokens&&(r=r.concat(this.walkTokens(c.tokens,t)))}}return r}use(...e){const t=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(r=>{const i={...r};if(i.async=this.defaults.async||i.async||!1,r.extensions&&(r.extensions.forEach(a=>{if(!a.name)throw new Error("extension name required");if("renderer"in a){const l=t.renderers[a.name];l?t.renderers[a.name]=function(...c){let h=a.renderer.apply(this,c);return h===!1&&(h=l.apply(this,c)),h}:t.renderers[a.name]=a.renderer}if("tokenizer"in a){if(!a.level||a.level!=="block"&&a.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const l=t[a.level];l?l.unshift(a.tokenizer):t[a.level]=[a.tokenizer],a.start&&(a.level==="block"?t.startBlock?t.startBlock.push(a.start):t.startBlock=[a.start]:a.level==="inline"&&(t.startInline?t.startInline.push(a.start):t.startInline=[a.start]))}"childTokens"in a&&a.childTokens&&(t.childTokens[a.name]=a.childTokens)}),i.extensions=t),r.renderer){const a=this.defaults.renderer||new pd(this.defaults);for(const l in r.renderer){if(!(l in a))throw new Error(`renderer '${l}' does not exist`);if(["options","parser"].includes(l))continue;const c=l,h=r.renderer[c],f=a[c];a[c]=(...p)=>{let _=h.apply(a,p);return _===!1&&(_=f.apply(a,p)),_||""}}i.renderer=a}if(r.tokenizer){const a=this.defaults.tokenizer||new dd(this.defaults);for(const l in r.tokenizer){if(!(l in a))throw new Error(`tokenizer '${l}' does not exist`);if(["options","rules","lexer"].includes(l))continue;const c=l,h=r.tokenizer[c],f=a[c];a[c]=(...p)=>{let _=h.apply(a,p);return _===!1&&(_=f.apply(a,p)),_}}i.tokenizer=a}if(r.hooks){const a=this.defaults.hooks||new Mu;for(const l in r.hooks){if(!(l in a))throw new Error(`hook '${l}' does not exist`);if(["options","block"].includes(l))continue;const c=l,h=r.hooks[c],f=a[c];Mu.passThroughHooks.has(l)?a[c]=p=>{if(this.defaults.async)return Promise.resolve(h.call(a,p)).then(y=>f.call(a,y));const _=h.call(a,p);return f.call(a,_)}:a[c]=(...p)=>{let _=h.apply(a,p);return _===!1&&(_=f.apply(a,p)),_}}i.hooks=a}if(r.walkTokens){const a=this.defaults.walkTokens,l=r.walkTokens;i.walkTokens=function(c){let h=[];return h.push(l.call(this,c)),a&&(h=h.concat(a.call(this,c))),h}}this.defaults={...this.defaults,...i}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,t){return Qr.lex(e,t??this.defaults)}parser(e,t){return Xr.parse(e,t??this.defaults)}parseMarkdown(e){return(r,i)=>{const a={...i},l={...this.defaults,...a},c=this.onError(!!l.silent,!!l.async);if(this.defaults.async===!0&&a.async===!1)return c(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof r>"u"||r===null)return c(new Error("marked(): input parameter is undefined or null"));if(typeof r!="string")return c(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(r)+", string expected"));l.hooks&&(l.hooks.options=l,l.hooks.block=e);const h=l.hooks?l.hooks.provideLexer():e?Qr.lex:Qr.lexInline,f=l.hooks?l.hooks.provideParser():e?Xr.parse:Xr.parseInline;if(l.async)return Promise.resolve(l.hooks?l.hooks.preprocess(r):r).then(p=>h(p,l)).then(p=>l.hooks?l.hooks.processAllTokens(p):p).then(p=>l.walkTokens?Promise.all(this.walkTokens(p,l.walkTokens)).then(()=>p):p).then(p=>f(p,l)).then(p=>l.hooks?l.hooks.postprocess(p):p).catch(c);try{l.hooks&&(r=l.hooks.preprocess(r));let p=h(r,l);l.hooks&&(p=l.hooks.processAllTokens(p)),l.walkTokens&&this.walkTokens(p,l.walkTokens);let _=f(p,l);return l.hooks&&(_=l.hooks.postprocess(_)),_}catch(p){return c(p)}}}onError(e,t){return r=>{if(r.message+=`
Please report this to https://github.com/markedjs/marked.`,e){const i="<p>An error occurred:</p><pre>"+Ri(r.message+"",!0)+"</pre>";return t?Promise.resolve(i):i}if(t)return Promise.reject(r);throw r}}}const ra=new tO;function ut(n,e){return ra.parse(n,e)}ut.options=ut.setOptions=function(n){return ra.setOptions(n),ut.defaults=ra.defaults,WC(ut.defaults),ut};ut.getDefaults=ty;ut.defaults=ha;ut.use=function(...n){return ra.use(...n),ut.defaults=ra.defaults,WC(ut.defaults),ut};ut.walkTokens=function(n,e){return ra.walkTokens(n,e)};ut.parseInline=ra.parseInline;ut.Parser=Xr;ut.parser=Xr.parse;ut.Renderer=pd;ut.TextRenderer=ly;ut.Lexer=Qr;ut.lexer=Qr.lex;ut.Tokenizer=dd;ut.Hooks=Mu;ut.parse=ut;ut.options;ut.setOptions;ut.use;ut.walkTokens;ut.parseInline;Xr.parse;Qr.lex;/*! @license DOMPurify 3.2.4 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.4/LICENSE */const{entries:r3,setPrototypeOf:rw,isFrozen:nO,getPrototypeOf:rO,getOwnPropertyDescriptor:iO}=Object;let{freeze:tr,seal:Zr,create:i3}=Object,{apply:lg,construct:ug}=typeof Reflect<"u"&&Reflect;tr||(tr=function(e){return e});Zr||(Zr=function(e){return e});lg||(lg=function(e,t,r){return e.apply(t,r)});ug||(ug=function(e,t){return new e(...t)});const Uh=nr(Array.prototype.forEach),sO=nr(Array.prototype.lastIndexOf),iw=nr(Array.prototype.pop),du=nr(Array.prototype.push),oO=nr(Array.prototype.splice),Uf=nr(String.prototype.toLowerCase),sm=nr(String.prototype.toString),sw=nr(String.prototype.match),pu=nr(String.prototype.replace),aO=nr(String.prototype.indexOf),lO=nr(String.prototype.trim),mi=nr(Object.prototype.hasOwnProperty),Yn=nr(RegExp.prototype.test),mu=uO(TypeError);function nr(n){return function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return lg(n,e,r)}}function uO(n){return function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return ug(n,t)}}function ze(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Uf;rw&&rw(n,null);let r=e.length;for(;r--;){let i=e[r];if(typeof i=="string"){const a=t(i);a!==i&&(nO(e)||(e[r]=a),i=a)}n[i]=!0}return n}function cO(n){for(let e=0;e<n.length;e++)mi(n,e)||(n[e]=null);return n}function Ho(n){const e=i3(null);for(const[t,r]of r3(n))mi(n,t)&&(Array.isArray(r)?e[t]=cO(r):r&&typeof r=="object"&&r.constructor===Object?e[t]=Ho(r):e[t]=r);return e}function gu(n,e){for(;n!==null;){const r=iO(n,e);if(r){if(r.get)return nr(r.get);if(typeof r.value=="function")return nr(r.value)}n=rO(n)}function t(){return null}return t}const ow=tr(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),om=tr(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),am=tr(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),hO=tr(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),lm=tr(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),fO=tr(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),aw=tr(["#text"]),lw=tr(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),um=tr(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),uw=tr(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),$h=tr(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),dO=Zr(/\{\{[\w\W]*|[\w\W]*\}\}/gm),pO=Zr(/<%[\w\W]*|[\w\W]*%>/gm),mO=Zr(/\$\{[\w\W]*/gm),gO=Zr(/^data-[\-\w.\u00B7-\uFFFF]+$/),yO=Zr(/^aria-[\-\w]+$/),s3=Zr(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),_O=Zr(/^(?:\w+script|data):/i),vO=Zr(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),o3=Zr(/^html$/i),xO=Zr(/^[a-z][.\w]*(-[.\w]+)+$/i);var cw=Object.freeze({__proto__:null,ARIA_ATTR:yO,ATTR_WHITESPACE:vO,CUSTOM_ELEMENT:xO,DATA_ATTR:gO,DOCTYPE_NAME:o3,ERB_EXPR:pO,IS_ALLOWED_URI:s3,IS_SCRIPT_OR_DATA:_O,MUSTACHE_EXPR:dO,TMPLIT_EXPR:mO});const yu={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},EO=function(){return typeof window>"u"?null:window},wO=function(e,t){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let r=null;const i="data-tt-policy-suffix";t&&t.hasAttribute(i)&&(r=t.getAttribute(i));const a="dompurify"+(r?"#"+r:"");try{return e.createPolicy(a,{createHTML(l){return l},createScriptURL(l){return l}})}catch{return console.warn("TrustedTypes policy "+a+" could not be created."),null}},hw=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function a3(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:EO();const e=be=>a3(be);if(e.version="3.2.4",e.removed=[],!n||!n.document||n.document.nodeType!==yu.document||!n.Element)return e.isSupported=!1,e;let{document:t}=n;const r=t,i=r.currentScript,{DocumentFragment:a,HTMLTemplateElement:l,Node:c,Element:h,NodeFilter:f,NamedNodeMap:p=n.NamedNodeMap||n.MozNamedAttrMap,HTMLFormElement:_,DOMParser:y,trustedTypes:E}=n,w=h.prototype,k=gu(w,"cloneNode"),A=gu(w,"remove"),L=gu(w,"nextSibling"),b=gu(w,"childNodes"),S=gu(w,"parentNode");if(typeof l=="function"){const be=t.createElement("template");be.content&&be.content.ownerDocument&&(t=be.content.ownerDocument)}let B,U="";const{implementation:z,createNodeIterator:I,createDocumentFragment:C,getElementsByTagName:N}=t,{importNode:P}=r;let D=hw();e.isSupported=typeof r3=="function"&&typeof S=="function"&&z&&z.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:V,ERB_EXPR:F,TMPLIT_EXPR:ce,DATA_ATTR:ge,ARIA_ATTR:Ce,IS_SCRIPT_OR_DATA:pe,ATTR_WHITESPACE:ee,CUSTOM_ELEMENT:he}=cw;let{IS_ALLOWED_URI:ie}=cw,M=null;const j=ze({},[...ow,...om,...am,...lm,...aw]);let G=null;const Z=ze({},[...lw,...um,...uw,...$h]);let fe=Object.seal(i3(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),ve=null,Be=null,me=!0,He=!0,ot=!1,An=!0,qt=!1,Tt=!0,nt=!1,Mn=!1,Vn=!1,hn=!1,Un=!1,$n=!1,en=!0,At=!1;const Vt="user-content-";let Wt=!0,fn=!1,zn={},Ze=null;const at=ze({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let rr=null;const Jr=ze({},["audio","video","img","source","image","track"]);let jn=null;const dn=ze({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),tn="http://www.w3.org/1998/Math/MathML",Br="http://www.w3.org/2000/svg",nn="http://www.w3.org/1999/xhtml";let Hn=nn,ei=!1,ti=null;const Fr=ze({},[tn,Br,nn],sm);let wr=ze({},["mi","mo","mn","ms","mtext"]),ir=ze({},["annotation-xml"]);const Cn=ze({},["title","style","font","a","script"]);let Gt=null;const vi=["application/xhtml+xml","text/html"],sr="text/html";let mt=null,pn=null;const ji=t.createElement("form"),or=function(q){return q instanceof RegExp||q instanceof Function},Lr=function(){let q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(pn&&pn===q)){if((!q||typeof q!="object")&&(q={}),q=Ho(q),Gt=vi.indexOf(q.PARSER_MEDIA_TYPE)===-1?sr:q.PARSER_MEDIA_TYPE,mt=Gt==="application/xhtml+xml"?sm:Uf,M=mi(q,"ALLOWED_TAGS")?ze({},q.ALLOWED_TAGS,mt):j,G=mi(q,"ALLOWED_ATTR")?ze({},q.ALLOWED_ATTR,mt):Z,ti=mi(q,"ALLOWED_NAMESPACES")?ze({},q.ALLOWED_NAMESPACES,sm):Fr,jn=mi(q,"ADD_URI_SAFE_ATTR")?ze(Ho(dn),q.ADD_URI_SAFE_ATTR,mt):dn,rr=mi(q,"ADD_DATA_URI_TAGS")?ze(Ho(Jr),q.ADD_DATA_URI_TAGS,mt):Jr,Ze=mi(q,"FORBID_CONTENTS")?ze({},q.FORBID_CONTENTS,mt):at,ve=mi(q,"FORBID_TAGS")?ze({},q.FORBID_TAGS,mt):{},Be=mi(q,"FORBID_ATTR")?ze({},q.FORBID_ATTR,mt):{},zn=mi(q,"USE_PROFILES")?q.USE_PROFILES:!1,me=q.ALLOW_ARIA_ATTR!==!1,He=q.ALLOW_DATA_ATTR!==!1,ot=q.ALLOW_UNKNOWN_PROTOCOLS||!1,An=q.ALLOW_SELF_CLOSE_IN_ATTR!==!1,qt=q.SAFE_FOR_TEMPLATES||!1,Tt=q.SAFE_FOR_XML!==!1,nt=q.WHOLE_DOCUMENT||!1,hn=q.RETURN_DOM||!1,Un=q.RETURN_DOM_FRAGMENT||!1,$n=q.RETURN_TRUSTED_TYPE||!1,Vn=q.FORCE_BODY||!1,en=q.SANITIZE_DOM!==!1,At=q.SANITIZE_NAMED_PROPS||!1,Wt=q.KEEP_CONTENT!==!1,fn=q.IN_PLACE||!1,ie=q.ALLOWED_URI_REGEXP||s3,Hn=q.NAMESPACE||nn,wr=q.MATHML_TEXT_INTEGRATION_POINTS||wr,ir=q.HTML_INTEGRATION_POINTS||ir,fe=q.CUSTOM_ELEMENT_HANDLING||{},q.CUSTOM_ELEMENT_HANDLING&&or(q.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(fe.tagNameCheck=q.CUSTOM_ELEMENT_HANDLING.tagNameCheck),q.CUSTOM_ELEMENT_HANDLING&&or(q.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(fe.attributeNameCheck=q.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),q.CUSTOM_ELEMENT_HANDLING&&typeof q.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(fe.allowCustomizedBuiltInElements=q.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),qt&&(He=!1),Un&&(hn=!0),zn&&(M=ze({},aw),G=[],zn.html===!0&&(ze(M,ow),ze(G,lw)),zn.svg===!0&&(ze(M,om),ze(G,um),ze(G,$h)),zn.svgFilters===!0&&(ze(M,am),ze(G,um),ze(G,$h)),zn.mathMl===!0&&(ze(M,lm),ze(G,uw),ze(G,$h))),q.ADD_TAGS&&(M===j&&(M=Ho(M)),ze(M,q.ADD_TAGS,mt)),q.ADD_ATTR&&(G===Z&&(G=Ho(G)),ze(G,q.ADD_ATTR,mt)),q.ADD_URI_SAFE_ATTR&&ze(jn,q.ADD_URI_SAFE_ATTR,mt),q.FORBID_CONTENTS&&(Ze===at&&(Ze=Ho(Ze)),ze(Ze,q.FORBID_CONTENTS,mt)),Wt&&(M["#text"]=!0),nt&&ze(M,["html","head","body"]),M.table&&(ze(M,["tbody"]),delete ve.tbody),q.TRUSTED_TYPES_POLICY){if(typeof q.TRUSTED_TYPES_POLICY.createHTML!="function")throw mu('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof q.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw mu('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');B=q.TRUSTED_TYPES_POLICY,U=B.createHTML("")}else B===void 0&&(B=wO(E,i)),B!==null&&typeof U=="string"&&(U=B.createHTML(""));tr&&tr(q),pn=q}},gt=ze({},[...om,...am,...hO]),Nr=ze({},[...lm,...fO]),ct=function(q){let ae=S(q);(!ae||!ae.tagName)&&(ae={namespaceURI:Hn,tagName:"template"});const Ee=Uf(q.tagName),rt=Uf(ae.tagName);return ti[q.namespaceURI]?q.namespaceURI===Br?ae.namespaceURI===nn?Ee==="svg":ae.namespaceURI===tn?Ee==="svg"&&(rt==="annotation-xml"||wr[rt]):!!gt[Ee]:q.namespaceURI===tn?ae.namespaceURI===nn?Ee==="math":ae.namespaceURI===Br?Ee==="math"&&ir[rt]:!!Nr[Ee]:q.namespaceURI===nn?ae.namespaceURI===Br&&!ir[rt]||ae.namespaceURI===tn&&!wr[rt]?!1:!Nr[Ee]&&(Cn[Ee]||!gt[Ee]):!!(Gt==="application/xhtml+xml"&&ti[q.namespaceURI]):!1},ht=function(q){du(e.removed,{element:q});try{S(q).removeChild(q)}catch{A(q)}},qn=function(q,ae){try{du(e.removed,{attribute:ae.getAttributeNode(q),from:ae})}catch{du(e.removed,{attribute:null,from:ae})}if(ae.removeAttribute(q),q==="is")if(hn||Un)try{ht(ae)}catch{}else try{ae.setAttribute(q,"")}catch{}},ni=function(q){let ae=null,Ee=null;if(Vn)q="<remove></remove>"+q;else{const Ve=sw(q,/^[\r\n\t ]+/);Ee=Ve&&Ve[0]}Gt==="application/xhtml+xml"&&Hn===nn&&(q='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+q+"</body></html>");const rt=B?B.createHTML(q):q;if(Hn===nn)try{ae=new y().parseFromString(rt,Gt)}catch{}if(!ae||!ae.documentElement){ae=z.createDocument(Hn,"template",null);try{ae.documentElement.innerHTML=ei?U:rt}catch{}}const Ut=ae.body||ae.documentElement;return q&&Ee&&Ut.insertBefore(t.createTextNode(Ee),Ut.childNodes[0]||null),Hn===nn?N.call(ae,nt?"html":"body")[0]:nt?ae.documentElement:Ut},ar=function(q){return I.call(q.ownerDocument||q,q,f.SHOW_ELEMENT|f.SHOW_COMMENT|f.SHOW_TEXT|f.SHOW_PROCESSING_INSTRUCTION|f.SHOW_CDATA_SECTION,null)},Hi=function(q){return q instanceof _&&(typeof q.nodeName!="string"||typeof q.textContent!="string"||typeof q.removeChild!="function"||!(q.attributes instanceof p)||typeof q.removeAttribute!="function"||typeof q.setAttribute!="function"||typeof q.namespaceURI!="string"||typeof q.insertBefore!="function"||typeof q.hasChildNodes!="function")},fa=function(q){return typeof c=="function"&&q instanceof c};function kn(be,q,ae){Uh(be,Ee=>{Ee.call(e,q,ae,pn)})}const vo=function(q){let ae=null;if(kn(D.beforeSanitizeElements,q,null),Hi(q))return ht(q),!0;const Ee=mt(q.nodeName);if(kn(D.uponSanitizeElement,q,{tagName:Ee,allowedTags:M}),q.hasChildNodes()&&!fa(q.firstElementChild)&&Yn(/<[/\w]/g,q.innerHTML)&&Yn(/<[/\w]/g,q.textContent)||q.nodeType===yu.progressingInstruction||Tt&&q.nodeType===yu.comment&&Yn(/<[/\w]/g,q.data))return ht(q),!0;if(!M[Ee]||ve[Ee]){if(!ve[Ee]&&xi(Ee)&&(fe.tagNameCheck instanceof RegExp&&Yn(fe.tagNameCheck,Ee)||fe.tagNameCheck instanceof Function&&fe.tagNameCheck(Ee)))return!1;if(Wt&&!Ze[Ee]){const rt=S(q)||q.parentNode,Ut=b(q)||q.childNodes;if(Ut&&rt){const Ve=Ut.length;for(let Kt=Ve-1;Kt>=0;--Kt){const rn=k(Ut[Kt],!0);rn.__removalCount=(q.__removalCount||0)+1,rt.insertBefore(rn,L(q))}}}return ht(q),!0}return q instanceof h&&!ct(q)||(Ee==="noscript"||Ee==="noembed"||Ee==="noframes")&&Yn(/<\/no(script|embed|frames)/i,q.innerHTML)?(ht(q),!0):(qt&&q.nodeType===yu.text&&(ae=q.textContent,Uh([V,F,ce],rt=>{ae=pu(ae,rt," ")}),q.textContent!==ae&&(du(e.removed,{element:q.cloneNode()}),q.textContent=ae)),kn(D.afterSanitizeElements,q,null),!1)},lr=function(q,ae,Ee){if(en&&(ae==="id"||ae==="name")&&(Ee in t||Ee in ji))return!1;if(!(He&&!Be[ae]&&Yn(ge,ae))){if(!(me&&Yn(Ce,ae))){if(!G[ae]||Be[ae]){if(!(xi(q)&&(fe.tagNameCheck instanceof RegExp&&Yn(fe.tagNameCheck,q)||fe.tagNameCheck instanceof Function&&fe.tagNameCheck(q))&&(fe.attributeNameCheck instanceof RegExp&&Yn(fe.attributeNameCheck,ae)||fe.attributeNameCheck instanceof Function&&fe.attributeNameCheck(ae))||ae==="is"&&fe.allowCustomizedBuiltInElements&&(fe.tagNameCheck instanceof RegExp&&Yn(fe.tagNameCheck,Ee)||fe.tagNameCheck instanceof Function&&fe.tagNameCheck(Ee))))return!1}else if(!jn[ae]){if(!Yn(ie,pu(Ee,ee,""))){if(!((ae==="src"||ae==="xlink:href"||ae==="href")&&q!=="script"&&aO(Ee,"data:")===0&&rr[q])){if(!(ot&&!Yn(pe,pu(Ee,ee,"")))){if(Ee)return!1}}}}}}return!0},xi=function(q){return q!=="annotation-xml"&&sw(q,he)},ur=function(q){kn(D.beforeSanitizeAttributes,q,null);const{attributes:ae}=q;if(!ae||Hi(q))return;const Ee={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:G,forceKeepAttr:void 0};let rt=ae.length;for(;rt--;){const Ut=ae[rt],{name:Ve,namespaceURI:Kt,value:rn}=Ut,cr=mt(Ve);let lt=Ve==="value"?rn:lO(rn);if(Ee.attrName=cr,Ee.attrValue=lt,Ee.keepAttr=!0,Ee.forceKeepAttr=void 0,kn(D.uponSanitizeAttribute,q,Ee),lt=Ee.attrValue,At&&(cr==="id"||cr==="name")&&(qn(Ve,q),lt=Vt+lt),Tt&&Yn(/((--!?|])>)|<\/(style|title)/i,lt)){qn(Ve,q);continue}if(Ee.forceKeepAttr||(qn(Ve,q),!Ee.keepAttr))continue;if(!An&&Yn(/\/>/i,lt)){qn(Ve,q);continue}qt&&Uh([V,F,ce],xo=>{lt=pu(lt,xo," ")});const vs=mt(q.nodeName);if(lr(vs,cr,lt)){if(B&&typeof E=="object"&&typeof E.getAttributeType=="function"&&!Kt)switch(E.getAttributeType(vs,cr)){case"TrustedHTML":{lt=B.createHTML(lt);break}case"TrustedScriptURL":{lt=B.createScriptURL(lt);break}}try{Kt?q.setAttributeNS(Kt,Ve,lt):q.setAttribute(Ve,lt),Hi(q)?ht(q):iw(e.removed)}catch{}}}kn(D.afterSanitizeAttributes,q,null)},da=function be(q){let ae=null;const Ee=ar(q);for(kn(D.beforeSanitizeShadowDOM,q,null);ae=Ee.nextNode();)kn(D.uponSanitizeShadowNode,ae,null),vo(ae),ur(ae),ae.content instanceof a&&be(ae.content);kn(D.afterSanitizeShadowDOM,q,null)};return e.sanitize=function(be){let q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ae=null,Ee=null,rt=null,Ut=null;if(ei=!be,ei&&(be="<!-->"),typeof be!="string"&&!fa(be))if(typeof be.toString=="function"){if(be=be.toString(),typeof be!="string")throw mu("dirty is not a string, aborting")}else throw mu("toString is not a function");if(!e.isSupported)return be;if(Mn||Lr(q),e.removed=[],typeof be=="string"&&(fn=!1),fn){if(be.nodeName){const rn=mt(be.nodeName);if(!M[rn]||ve[rn])throw mu("root node is forbidden and cannot be sanitized in-place")}}else if(be instanceof c)ae=ni("<!---->"),Ee=ae.ownerDocument.importNode(be,!0),Ee.nodeType===yu.element&&Ee.nodeName==="BODY"||Ee.nodeName==="HTML"?ae=Ee:ae.appendChild(Ee);else{if(!hn&&!qt&&!nt&&be.indexOf("<")===-1)return B&&$n?B.createHTML(be):be;if(ae=ni(be),!ae)return hn?null:$n?U:""}ae&&Vn&&ht(ae.firstChild);const Ve=ar(fn?be:ae);for(;rt=Ve.nextNode();)vo(rt),ur(rt),rt.content instanceof a&&da(rt.content);if(fn)return be;if(hn){if(Un)for(Ut=C.call(ae.ownerDocument);ae.firstChild;)Ut.appendChild(ae.firstChild);else Ut=ae;return(G.shadowroot||G.shadowrootmode)&&(Ut=P.call(r,Ut,!0)),Ut}let Kt=nt?ae.outerHTML:ae.innerHTML;return nt&&M["!doctype"]&&ae.ownerDocument&&ae.ownerDocument.doctype&&ae.ownerDocument.doctype.name&&Yn(o3,ae.ownerDocument.doctype.name)&&(Kt="<!DOCTYPE "+ae.ownerDocument.doctype.name+`>
`+Kt),qt&&Uh([V,F,ce],rn=>{Kt=pu(Kt,rn," ")}),B&&$n?B.createHTML(Kt):Kt},e.setConfig=function(){let be=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Lr(be),Mn=!0},e.clearConfig=function(){pn=null,Mn=!1},e.isValidAttribute=function(be,q,ae){pn||Lr({});const Ee=mt(be),rt=mt(q);return lr(Ee,rt,ae)},e.addHook=function(be,q){typeof q=="function"&&du(D[be],q)},e.removeHook=function(be,q){if(q!==void 0){const ae=sO(D[be],q);return ae===-1?void 0:oO(D[be],ae,1)[0]}return iw(D[be])},e.removeHooks=function(be){D[be]=[]},e.removeAllHooks=function(){D=hw()},e}var zM=a3();function l3(n){return n&&n.__esModule?n.default:n}function Gr(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var Jd,De,u3,Vu,c3,fw,md={},h3=[],TO=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function Xs(n,e){for(var t in e)n[t]=e[t];return n}function f3(n){var e=n.parentNode;e&&e.removeChild(n)}function cg(n,e,t){var r,i,a,l={};for(a in e)a=="key"?r=e[a]:a=="ref"?i=e[a]:l[a]=e[a];if(arguments.length>2&&(l.children=arguments.length>3?Jd.call(arguments,2):t),typeof n=="function"&&n.defaultProps!=null)for(a in n.defaultProps)l[a]===void 0&&(l[a]=n.defaultProps[a]);return $f(n,l,r,i,null)}function $f(n,e,t,r,i){var a={type:n,props:e,key:t,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:i??++u3};return i==null&&De.vnode!=null&&De.vnode(a),a}function is(){return{current:null}}function El(n){return n.children}function Ui(n,e){this.props=n,this.context=e}function wl(n,e){if(e==null)return n.__?wl(n.__,n.__.__k.indexOf(n)+1):null;for(var t;e<n.__k.length;e++)if((t=n.__k[e])!=null&&t.__e!=null)return t.__e;return typeof n.type=="function"?wl(n):null}function d3(n){var e,t;if((n=n.__)!=null&&n.__c!=null){for(n.__e=n.__c.base=null,e=0;e<n.__k.length;e++)if((t=n.__k[e])!=null&&t.__e!=null){n.__e=n.__c.base=t.__e;break}return d3(n)}}function dw(n){(!n.__d&&(n.__d=!0)&&Vu.push(n)&&!gd.__r++||fw!==De.debounceRendering)&&((fw=De.debounceRendering)||c3)(gd)}function gd(){for(var n;gd.__r=Vu.length;)n=Vu.sort(function(e,t){return e.__v.__b-t.__v.__b}),Vu=[],n.some(function(e){var t,r,i,a,l,c;e.__d&&(l=(a=(t=e).__v).__e,(c=t.__P)&&(r=[],(i=Xs({},a)).__v=a.__v+1,uy(c,a,i,t.__n,c.ownerSVGElement!==void 0,a.__h!=null?[l]:null,r,l??wl(a),a.__h),y3(r,a),a.__e!=l&&d3(a)))})}function p3(n,e,t,r,i,a,l,c,h,f){var p,_,y,E,w,k,A,L=r&&r.__k||h3,b=L.length;for(t.__k=[],p=0;p<e.length;p++)if((E=t.__k[p]=(E=e[p])==null||typeof E=="boolean"?null:typeof E=="string"||typeof E=="number"||typeof E=="bigint"?$f(null,E,null,null,E):Array.isArray(E)?$f(El,{children:E},null,null,null):E.__b>0?$f(E.type,E.props,E.key,null,E.__v):E)!=null){if(E.__=t,E.__b=t.__b+1,(y=L[p])===null||y&&E.key==y.key&&E.type===y.type)L[p]=void 0;else for(_=0;_<b;_++){if((y=L[_])&&E.key==y.key&&E.type===y.type){L[_]=void 0;break}y=null}uy(n,E,y=y||md,i,a,l,c,h,f),w=E.__e,(_=E.ref)&&y.ref!=_&&(A||(A=[]),y.ref&&A.push(y.ref,null,E),A.push(_,E.__c||w,E)),w!=null?(k==null&&(k=w),typeof E.type=="function"&&E.__k===y.__k?E.__d=h=m3(E,h,n):h=g3(n,E,y,L,w,h),typeof t.type=="function"&&(t.__d=h)):h&&y.__e==h&&h.parentNode!=n&&(h=wl(y))}for(t.__e=k,p=b;p--;)L[p]!=null&&(typeof t.type=="function"&&L[p].__e!=null&&L[p].__e==t.__d&&(t.__d=wl(r,p+1)),v3(L[p],L[p]));if(A)for(p=0;p<A.length;p++)_3(A[p],A[++p],A[++p])}function m3(n,e,t){for(var r,i=n.__k,a=0;i&&a<i.length;a++)(r=i[a])&&(r.__=n,e=typeof r.type=="function"?m3(r,e,t):g3(t,r,r,i,r.__e,e));return e}function yd(n,e){return e=e||[],n==null||typeof n=="boolean"||(Array.isArray(n)?n.some(function(t){yd(t,e)}):e.push(n)),e}function g3(n,e,t,r,i,a){var l,c,h;if(e.__d!==void 0)l=e.__d,e.__d=void 0;else if(t==null||i!=a||i.parentNode==null)e:if(a==null||a.parentNode!==n)n.appendChild(i),l=null;else{for(c=a,h=0;(c=c.nextSibling)&&h<r.length;h+=2)if(c==i)break e;n.insertBefore(i,a),l=a}return l!==void 0?l:i.nextSibling}function AO(n,e,t,r,i){var a;for(a in t)a==="children"||a==="key"||a in e||_d(n,a,null,t[a],r);for(a in e)i&&typeof e[a]!="function"||a==="children"||a==="key"||a==="value"||a==="checked"||t[a]===e[a]||_d(n,a,e[a],t[a],r)}function pw(n,e,t){e[0]==="-"?n.setProperty(e,t):n[e]=t==null?"":typeof t!="number"||TO.test(e)?t:t+"px"}function _d(n,e,t,r,i){var a;e:if(e==="style")if(typeof t=="string")n.style.cssText=t;else{if(typeof r=="string"&&(n.style.cssText=r=""),r)for(e in r)t&&e in t||pw(n.style,e,"");if(t)for(e in t)r&&t[e]===r[e]||pw(n.style,e,t[e])}else if(e[0]==="o"&&e[1]==="n")a=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in n?e.toLowerCase().slice(2):e.slice(2),n.l||(n.l={}),n.l[e+a]=t,t?r||n.addEventListener(e,a?gw:mw,a):n.removeEventListener(e,a?gw:mw,a);else if(e!=="dangerouslySetInnerHTML"){if(i)e=e.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if(e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in n)try{n[e]=t??"";break e}catch{}typeof t=="function"||(t!=null&&(t!==!1||e[0]==="a"&&e[1]==="r")?n.setAttribute(e,t):n.removeAttribute(e))}}function mw(n){this.l[n.type+!1](De.event?De.event(n):n)}function gw(n){this.l[n.type+!0](De.event?De.event(n):n)}function uy(n,e,t,r,i,a,l,c,h){var f,p,_,y,E,w,k,A,L,b,S,B=e.type;if(e.constructor!==void 0)return null;t.__h!=null&&(h=t.__h,c=e.__e=t.__e,e.__h=null,a=[c]),(f=De.__b)&&f(e);try{e:if(typeof B=="function"){if(A=e.props,L=(f=B.contextType)&&r[f.__c],b=f?L?L.props.value:f.__:r,t.__c?k=(p=e.__c=t.__c).__=p.__E:("prototype"in B&&B.prototype.render?e.__c=p=new B(A,b):(e.__c=p=new Ui(A,b),p.constructor=B,p.render=kO),L&&L.sub(p),p.props=A,p.state||(p.state={}),p.context=b,p.__n=r,_=p.__d=!0,p.__h=[]),p.__s==null&&(p.__s=p.state),B.getDerivedStateFromProps!=null&&(p.__s==p.state&&(p.__s=Xs({},p.__s)),Xs(p.__s,B.getDerivedStateFromProps(A,p.__s))),y=p.props,E=p.state,_)B.getDerivedStateFromProps==null&&p.componentWillMount!=null&&p.componentWillMount(),p.componentDidMount!=null&&p.__h.push(p.componentDidMount);else{if(B.getDerivedStateFromProps==null&&A!==y&&p.componentWillReceiveProps!=null&&p.componentWillReceiveProps(A,b),!p.__e&&p.shouldComponentUpdate!=null&&p.shouldComponentUpdate(A,p.__s,b)===!1||e.__v===t.__v){p.props=A,p.state=p.__s,e.__v!==t.__v&&(p.__d=!1),p.__v=e,e.__e=t.__e,e.__k=t.__k,e.__k.forEach(function(U){U&&(U.__=e)}),p.__h.length&&l.push(p);break e}p.componentWillUpdate!=null&&p.componentWillUpdate(A,p.__s,b),p.componentDidUpdate!=null&&p.__h.push(function(){p.componentDidUpdate(y,E,w)})}p.context=b,p.props=A,p.state=p.__s,(f=De.__r)&&f(e),p.__d=!1,p.__v=e,p.__P=n,f=p.render(p.props,p.state,p.context),p.state=p.__s,p.getChildContext!=null&&(r=Xs(Xs({},r),p.getChildContext())),_||p.getSnapshotBeforeUpdate==null||(w=p.getSnapshotBeforeUpdate(y,E)),S=f!=null&&f.type===El&&f.key==null?f.props.children:f,p3(n,Array.isArray(S)?S:[S],e,t,r,i,a,l,c,h),p.base=e.__e,e.__h=null,p.__h.length&&l.push(p),k&&(p.__E=p.__=null),p.__e=!1}else a==null&&e.__v===t.__v?(e.__k=t.__k,e.__e=t.__e):e.__e=CO(t.__e,e,t,r,i,a,l,h);(f=De.diffed)&&f(e)}catch(U){e.__v=null,(h||a!=null)&&(e.__e=c,e.__h=!!h,a[a.indexOf(c)]=null),De.__e(U,e,t)}}function y3(n,e){De.__c&&De.__c(e,n),n.some(function(t){try{n=t.__h,t.__h=[],n.some(function(r){r.call(t)})}catch(r){De.__e(r,t.__v)}})}function CO(n,e,t,r,i,a,l,c){var h,f,p,_=t.props,y=e.props,E=e.type,w=0;if(E==="svg"&&(i=!0),a!=null){for(;w<a.length;w++)if((h=a[w])&&"setAttribute"in h==!!E&&(E?h.localName===E:h.nodeType===3)){n=h,a[w]=null;break}}if(n==null){if(E===null)return document.createTextNode(y);n=i?document.createElementNS("http://www.w3.org/2000/svg",E):document.createElement(E,y.is&&y),a=null,c=!1}if(E===null)_===y||c&&n.data===y||(n.data=y);else{if(a=a&&Jd.call(n.childNodes),f=(_=t.props||md).dangerouslySetInnerHTML,p=y.dangerouslySetInnerHTML,!c){if(a!=null)for(_={},w=0;w<n.attributes.length;w++)_[n.attributes[w].name]=n.attributes[w].value;(p||f)&&(p&&(f&&p.__html==f.__html||p.__html===n.innerHTML)||(n.innerHTML=p&&p.__html||""))}if(AO(n,y,_,i,c),p)e.__k=[];else if(w=e.props.children,p3(n,Array.isArray(w)?w:[w],e,t,r,i&&E!=="foreignObject",a,l,a?a[0]:t.__k&&wl(t,0),c),a!=null)for(w=a.length;w--;)a[w]!=null&&f3(a[w]);c||("value"in y&&(w=y.value)!==void 0&&(w!==_.value||w!==n.value||E==="progress"&&!w)&&_d(n,"value",w,_.value,!1),"checked"in y&&(w=y.checked)!==void 0&&w!==n.checked&&_d(n,"checked",w,_.checked,!1))}return n}function _3(n,e,t){try{typeof n=="function"?n(e):n.current=e}catch(r){De.__e(r,t)}}function v3(n,e,t){var r,i;if(De.unmount&&De.unmount(n),(r=n.ref)&&(r.current&&r.current!==n.__e||_3(r,null,e)),(r=n.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(a){De.__e(a,e)}r.base=r.__P=null}if(r=n.__k)for(i=0;i<r.length;i++)r[i]&&v3(r[i],e,typeof n.type!="function");t||n.__e==null||f3(n.__e),n.__e=n.__d=void 0}function kO(n,e,t){return this.constructor(n,t)}function x3(n,e,t){var r,i,a;De.__&&De.__(n,e),i=(r=typeof t=="function")?null:t&&t.__k||e.__k,a=[],uy(e,n=(!r&&t||e).__k=cg(El,null,[n]),i||md,md,e.ownerSVGElement!==void 0,!r&&t?[t]:i?null:e.firstChild?Jd.call(e.childNodes):null,a,!r&&t?t:i?i.__e:e.firstChild,r),y3(a,n)}Jd=h3.slice,De={__e:function(n,e){for(var t,r,i;e=e.__;)if((t=e.__c)&&!t.__)try{if((r=t.constructor)&&r.getDerivedStateFromError!=null&&(t.setState(r.getDerivedStateFromError(n)),i=t.__d),t.componentDidCatch!=null&&(t.componentDidCatch(n),i=t.__d),i)return t.__E=t}catch(a){n=a}throw n}},u3=0,Ui.prototype.setState=function(n,e){var t;t=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Xs({},this.state),typeof n=="function"&&(n=n(Xs({},t),this.props)),n&&Xs(t,n),n!=null&&this.__v&&(e&&this.__h.push(e),dw(this))},Ui.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),dw(this))},Ui.prototype.render=El,Vu=[],c3=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,gd.__r=0;var bO=0;function re(n,e,t,r,i){var a,l,c={};for(l in e)l=="ref"?a=e[l]:c[l]=e[l];var h={type:n,props:c,key:t,ref:a,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:--bO,__source:r,__self:i};if(typeof n=="function"&&(a=n.defaultProps))for(l in a)c[l]===void 0&&(c[l]=a[l]);return De.vnode&&De.vnode(h),h}function SO(n,e){try{window.localStorage[`emoji-mart.${n}`]=JSON.stringify(e)}catch{}}function IO(n){try{const e=window.localStorage[`emoji-mart.${n}`];if(e)return JSON.parse(e)}catch{}}var no={set:SO,get:IO};const cm=new Map,RO=[{v:15,emoji:""},{v:14,emoji:""},{v:13.1,emoji:""},{v:13,emoji:""},{v:12.1,emoji:""},{v:12,emoji:""},{v:11,emoji:""},{v:5,emoji:""},{v:4,emoji:""},{v:3,emoji:""},{v:2,emoji:""},{v:1,emoji:""}];function PO(){for(const{v:n,emoji:e}of RO)if(E3(e))return n}function DO(){return!E3("")}function E3(n){if(cm.has(n))return cm.get(n);const e=BO(n);return cm.set(n,e),e}const BO=(()=>{let n=null;try{navigator.userAgent.includes("jsdom")||(n=document.createElement("canvas").getContext("2d",{willReadFrequently:!0}))}catch{}if(!n)return()=>!1;const e=25,t=20,r=Math.floor(e/2);return n.font=r+"px Arial, Sans-Serif",n.textBaseline="top",n.canvas.width=t*2,n.canvas.height=e,i=>{n.clearRect(0,0,t*2,e),n.fillStyle="#FF0000",n.fillText(i,0,22),n.fillStyle="#0000FF",n.fillText(i,t,22);const a=n.getImageData(0,0,t,e).data,l=a.length;let c=0;for(;c<l&&!a[c+3];c+=4);if(c>=l)return!1;const h=t+c/4%t,f=Math.floor(c/4/t),p=n.getImageData(h,f,1,1).data;return!(a[c]!==p[0]||a[c+2]!==p[2]||n.measureText(i).width>=t)}})();var yw={latestVersion:PO,noCountryFlags:DO};const hg=["+1","grinning","kissing_heart","heart_eyes","laughing","stuck_out_tongue_winking_eye","sweat_smile","joy","scream","disappointed","unamused","weary","sob","sunglasses","heart"];let xn=null;function FO(n){xn||(xn=no.get("frequently")||{});const e=n.id||n;e&&(xn[e]||(xn[e]=0),xn[e]+=1,no.set("last",e),no.set("frequently",xn))}function LO({maxFrequentRows:n,perLine:e}){if(!n)return[];xn||(xn=no.get("frequently"));let t=[];if(!xn){xn={};for(let a in hg.slice(0,e)){const l=hg[a];xn[l]=e-a,t.push(l)}return t}const r=n*e,i=no.get("last");for(let a in xn)t.push(a);if(t.sort((a,l)=>{const c=xn[l],h=xn[a];return c==h?a.localeCompare(l):c-h}),t.length>r){const a=t.slice(r);t=t.slice(0,r);for(let l of a)l!=i&&delete xn[l];i&&t.indexOf(i)==-1&&(delete xn[t[t.length-1]],t.splice(-1,1,i)),no.set("frequently",xn)}return t}var w3={add:FO,get:LO,DEFAULTS:hg},T3={};T3=JSON.parse('{"search":"Search","search_no_results_1":"Oh no!","search_no_results_2":"That emoji couldnt be found","pick":"Pick an emoji","add_custom":"Add custom emoji","categories":{"activity":"Activity","custom":"Custom","flags":"Flags","foods":"Food & Drink","frequent":"Frequently used","nature":"Animals & Nature","objects":"Objects","people":"Smileys & People","places":"Travel & Places","search":"Search Results","symbols":"Symbols"},"skins":{"1":"Default","2":"Light","3":"Medium-Light","4":"Medium","5":"Medium-Dark","6":"Dark","choose":"Choose default skin tone"}}');var ss={autoFocus:{value:!1},dynamicWidth:{value:!1},emojiButtonColors:{value:null},emojiButtonRadius:{value:"100%"},emojiButtonSize:{value:36},emojiSize:{value:24},emojiVersion:{value:15,choices:[1,2,3,4,5,11,12,12.1,13,13.1,14,15]},exceptEmojis:{value:[]},icons:{value:"auto",choices:["auto","outline","solid"]},locale:{value:"en",choices:["en","ar","be","cs","de","es","fa","fi","fr","hi","it","ja","ko","nl","pl","pt","ru","sa","tr","uk","vi","zh"]},maxFrequentRows:{value:4},navPosition:{value:"top",choices:["top","bottom","none"]},noCountryFlags:{value:!1},noResultsEmoji:{value:null},perLine:{value:9},previewEmoji:{value:null},previewPosition:{value:"bottom",choices:["top","bottom","none"]},searchPosition:{value:"sticky",choices:["sticky","static","none"]},set:{value:"native",choices:["native","apple","facebook","google","twitter"]},skin:{value:1,choices:[1,2,3,4,5,6]},skinTonePosition:{value:"preview",choices:["preview","search","none"]},theme:{value:"auto",choices:["auto","light","dark"]},categories:null,categoryIcons:null,custom:null,data:null,i18n:null,getImageURL:null,getSpritesheetURL:null,onAddCustomEmoji:null,onClickOutside:null,onEmojiSelect:null,stickySearch:{deprecated:!0,value:!0}};let Dn=null,je=null;const hm={};async function _w(n){if(hm[n])return hm[n];const t=await(await fetch(n)).json();return hm[n]=t,t}let fm=null,A3=null,C3=!1;function e0(n,{caller:e}={}){return fm||(fm=new Promise(t=>{A3=t})),n?NO(n):e&&!C3&&console.warn(`\`${e}\` requires data to be initialized first. Promise will be pending until \`init\` is called.`),fm}async function NO(n){C3=!0;let{emojiVersion:e,set:t,locale:r}=n;if(e||(e=ss.emojiVersion.value),t||(t=ss.set.value),r||(r=ss.locale.value),je)je.categories=je.categories.filter(h=>!h.name);else{je=(typeof n.data=="function"?await n.data():n.data)||await _w(`https://cdn.jsdelivr.net/npm/@emoji-mart/data@latest/sets/${e}/${t}.json`),je.emoticons={},je.natives={},je.categories.unshift({id:"frequent",emojis:[]});for(const h in je.aliases){const f=je.aliases[h],p=je.emojis[f];p&&(p.aliases||(p.aliases=[]),p.aliases.push(h))}je.originalCategories=je.categories}if(Dn=(typeof n.i18n=="function"?await n.i18n():n.i18n)||(r=="en"?l3(T3):await _w(`https://cdn.jsdelivr.net/npm/@emoji-mart/data@latest/i18n/${r}.json`)),n.custom)for(let h in n.custom){h=parseInt(h);const f=n.custom[h],p=n.custom[h-1];if(!(!f.emojis||!f.emojis.length)){f.id||(f.id=`custom_${h+1}`),f.name||(f.name=Dn.categories.custom),p&&!f.icon&&(f.target=p.target||p),je.categories.push(f);for(const _ of f.emojis)je.emojis[_.id]=_}}n.categories&&(je.categories=je.originalCategories.filter(h=>n.categories.indexOf(h.id)!=-1).sort((h,f)=>{const p=n.categories.indexOf(h.id),_=n.categories.indexOf(f.id);return p-_}));let i=null,a=null;t=="native"&&(i=yw.latestVersion(),a=n.noCountryFlags||yw.noCountryFlags());let l=je.categories.length,c=!1;for(;l--;){const h=je.categories[l];if(h.id=="frequent"){let{maxFrequentRows:_,perLine:y}=n;_=_>=0?_:ss.maxFrequentRows.value,y||(y=ss.perLine.value),h.emojis=w3.get({maxFrequentRows:_,perLine:y})}if(!h.emojis||!h.emojis.length){je.categories.splice(l,1);continue}const{categoryIcons:f}=n;if(f){const _=f[h.id];_&&!h.icon&&(h.icon=_)}let p=h.emojis.length;for(;p--;){const _=h.emojis[p],y=_.id?_:je.emojis[_],E=()=>{h.emojis.splice(p,1)};if(!y||n.exceptEmojis&&n.exceptEmojis.includes(y.id)){E();continue}if(i&&y.version>i){E();continue}if(a&&h.id=="flags"&&!$O.includes(y.id)){E();continue}if(!y.search){if(c=!0,y.search=","+[[y.id,!1],[y.name,!0],[y.keywords,!1],[y.emoticons,!1]].map(([k,A])=>{if(k)return(Array.isArray(k)?k:[k]).map(L=>(A?L.split(/[-|_|\s]+/):[L]).map(b=>b.toLowerCase())).flat()}).flat().filter(k=>k&&k.trim()).join(","),y.emoticons)for(const k of y.emoticons)je.emoticons[k]||(je.emoticons[k]=y.id);let w=0;for(const k of y.skins){if(!k)continue;w++;const{native:A}=k;A&&(je.natives[A]=y.id,y.search+=`,${A}`);const L=w==1?"":`:skin-tone-${w}:`;k.shortcodes=`:${y.id}:${L}`}}}}c&&ol.reset(),A3()}function k3(n,e,t){n||(n={});const r={};for(let i in e)r[i]=b3(i,n,e,t);return r}function b3(n,e,t,r){const i=t[n];let a=r&&r.getAttribute(n)||(e[n]!=null&&e[n]!=null?e[n]:null);return i&&(a!=null&&i.value&&typeof i.value!=typeof a&&(typeof i.value=="boolean"?a=a!="false":a=i.value.constructor(a)),i.transform&&a&&(a=i.transform(a)),(a==null||i.choices&&i.choices.indexOf(a)==-1)&&(a=i.value)),a}const OO=/^(?:\:([^\:]+)\:)(?:\:skin-tone-(\d)\:)?$/;let fg=null;function MO(n){return n.id?n:je.emojis[n]||je.emojis[je.aliases[n]]||je.emojis[je.natives[n]]}function VO(){fg=null}async function UO(n,{maxResults:e,caller:t}={}){if(!n||!n.trim().length)return null;e||(e=90),await e0(null,{caller:t||"SearchIndex.search"});const r=n.toLowerCase().replace(/(\w)-/,"$1 ").split(/[\s|,]+/).filter((c,h,f)=>c.trim()&&f.indexOf(c)==h);if(!r.length)return;let i=fg||(fg=Object.values(je.emojis)),a,l;for(const c of r){if(!i.length)break;a=[],l={};for(const h of i){if(!h.search)continue;const f=h.search.indexOf(`,${c}`);f!=-1&&(a.push(h),l[h.id]||(l[h.id]=0),l[h.id]+=h.id==c?0:f+1)}i=a}return a.length<2||(a.sort((c,h)=>{const f=l[c.id],p=l[h.id];return f==p?c.id.localeCompare(h.id):f-p}),a.length>e&&(a=a.slice(0,e))),a}var ol={search:UO,get:MO,reset:VO,SHORTCODES_REGEX:OO};const $O=["checkered_flag","crossed_flags","pirate_flag","rainbow-flag","transgender_flag","triangular_flag_on_post","waving_black_flag","waving_white_flag"];function zO(n,e){return Array.isArray(n)&&Array.isArray(e)&&n.length===e.length&&n.every((t,r)=>t==e[r])}async function jO(n=1){for(let e in[...Array(n).keys()])await new Promise(requestAnimationFrame)}function HO(n,{skinIndex:e=0}={}){const t=n.skins[e]||(e=0,n.skins[e]),r={id:n.id,name:n.name,native:t.native,unified:t.unified,keywords:n.keywords,shortcodes:t.shortcodes||n.shortcodes};return n.skins.length>1&&(r.skin=e+1),t.src&&(r.src=t.src),n.aliases&&n.aliases.length&&(r.aliases=n.aliases),n.emoticons&&n.emoticons.length&&(r.emoticons=n.emoticons),r}const qO={activity:{outline:re("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:re("path",{d:"M12 0C5.373 0 0 5.372 0 12c0 6.627 5.373 12 12 12 6.628 0 12-5.373 12-12 0-6.628-5.372-12-12-12m9.949 11H17.05c.224-2.527 1.232-4.773 1.968-6.113A9.966 9.966 0 0 1 21.949 11M13 11V2.051a9.945 9.945 0 0 1 4.432 1.564c-.858 1.491-2.156 4.22-2.392 7.385H13zm-2 0H8.961c-.238-3.165-1.536-5.894-2.393-7.385A9.95 9.95 0 0 1 11 2.051V11zm0 2v8.949a9.937 9.937 0 0 1-4.432-1.564c.857-1.492 2.155-4.221 2.393-7.385H11zm4.04 0c.236 3.164 1.534 5.893 2.392 7.385A9.92 9.92 0 0 1 13 21.949V13h2.04zM4.982 4.887C5.718 6.227 6.726 8.473 6.951 11h-4.9a9.977 9.977 0 0 1 2.931-6.113M2.051 13h4.9c-.226 2.527-1.233 4.771-1.969 6.113A9.972 9.972 0 0 1 2.051 13m16.967 6.113c-.735-1.342-1.744-3.586-1.968-6.113h4.899a9.961 9.961 0 0 1-2.931 6.113"})}),solid:re("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:re("path",{d:"M16.17 337.5c0 44.98 7.565 83.54 13.98 107.9C35.22 464.3 50.46 496 174.9 496c9.566 0 19.59-.4707 29.84-1.271L17.33 307.3C16.53 317.6 16.17 327.7 16.17 337.5zM495.8 174.5c0-44.98-7.565-83.53-13.98-107.9c-4.688-17.54-18.34-31.23-36.04-35.95C435.5 27.91 392.9 16 337 16c-9.564 0-19.59 .4707-29.84 1.271l187.5 187.5C495.5 194.4 495.8 184.3 495.8 174.5zM26.77 248.8l236.3 236.3c142-36.1 203.9-150.4 222.2-221.1L248.9 26.87C106.9 62.96 45.07 177.2 26.77 248.8zM256 335.1c0 9.141-7.474 16-16 16c-4.094 0-8.188-1.564-11.31-4.689L164.7 283.3C161.6 280.2 160 276.1 160 271.1c0-8.529 6.865-16 16-16c4.095 0 8.189 1.562 11.31 4.688l64.01 64C254.4 327.8 256 331.9 256 335.1zM304 287.1c0 9.141-7.474 16-16 16c-4.094 0-8.188-1.564-11.31-4.689L212.7 235.3C209.6 232.2 208 228.1 208 223.1c0-9.141 7.473-16 16-16c4.094 0 8.188 1.562 11.31 4.688l64.01 64.01C302.5 279.8 304 283.9 304 287.1zM256 175.1c0-9.141 7.473-16 16-16c4.094 0 8.188 1.562 11.31 4.688l64.01 64.01c3.125 3.125 4.688 7.219 4.688 11.31c0 9.133-7.468 16-16 16c-4.094 0-8.189-1.562-11.31-4.688l-64.01-64.01C257.6 184.2 256 180.1 256 175.1z"})})},custom:re("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",children:re("path",{d:"M417.1 368c-5.937 10.27-16.69 16-27.75 16c-5.422 0-10.92-1.375-15.97-4.281L256 311.4V448c0 17.67-14.33 32-31.1 32S192 465.7 192 448V311.4l-118.3 68.29C68.67 382.6 63.17 384 57.75 384c-11.06 0-21.81-5.734-27.75-16c-8.828-15.31-3.594-34.88 11.72-43.72L159.1 256L41.72 187.7C26.41 178.9 21.17 159.3 29.1 144C36.63 132.5 49.26 126.7 61.65 128.2C65.78 128.7 69.88 130.1 73.72 132.3L192 200.6V64c0-17.67 14.33-32 32-32S256 46.33 256 64v136.6l118.3-68.29c3.838-2.213 7.939-3.539 12.07-4.051C398.7 126.7 411.4 132.5 417.1 144c8.828 15.31 3.594 34.88-11.72 43.72L288 256l118.3 68.28C421.6 333.1 426.8 352.7 417.1 368z"})}),flags:{outline:re("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:re("path",{d:"M0 0l6.084 24H8L1.916 0zM21 5h-4l-1-4H4l3 12h3l1 4h13L21 5zM6.563 3h7.875l2 8H8.563l-2-8zm8.832 10l-2.856 1.904L12.063 13h3.332zM19 13l-1.5-6h1.938l2 8H16l3-2z"})}),solid:re("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:re("path",{d:"M64 496C64 504.8 56.75 512 48 512h-32C7.25 512 0 504.8 0 496V32c0-17.75 14.25-32 32-32s32 14.25 32 32V496zM476.3 0c-6.365 0-13.01 1.35-19.34 4.233c-45.69 20.86-79.56 27.94-107.8 27.94c-59.96 0-94.81-31.86-163.9-31.87C160.9 .3055 131.6 4.867 96 15.75v350.5c32-9.984 59.87-14.1 84.85-14.1c73.63 0 124.9 31.78 198.6 31.78c31.91 0 68.02-5.971 111.1-23.09C504.1 355.9 512 344.4 512 332.1V30.73C512 11.1 495.3 0 476.3 0z"})})},foods:{outline:re("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:re("path",{d:"M17 4.978c-1.838 0-2.876.396-3.68.934.513-1.172 1.768-2.934 4.68-2.934a1 1 0 0 0 0-2c-2.921 0-4.629 1.365-5.547 2.512-.064.078-.119.162-.18.244C11.73 1.838 10.798.023 9.207.023 8.579.022 7.85.306 7 .978 5.027 2.54 5.329 3.902 6.492 4.999 3.609 5.222 0 7.352 0 12.969c0 4.582 4.961 11.009 9 11.009 1.975 0 2.371-.486 3-1 .629.514 1.025 1 3 1 4.039 0 9-6.418 9-11 0-5.953-4.055-8-7-8M8.242 2.546c.641-.508.943-.523.965-.523.426.169.975 1.405 1.357 3.055-1.527-.629-2.741-1.352-2.98-1.846.059-.112.241-.356.658-.686M15 21.978c-1.08 0-1.21-.109-1.559-.402l-.176-.146c-.367-.302-.816-.452-1.266-.452s-.898.15-1.266.452l-.176.146c-.347.292-.477.402-1.557.402-2.813 0-7-5.389-7-9.009 0-5.823 4.488-5.991 5-5.991 1.939 0 2.484.471 3.387 1.251l.323.276a1.995 1.995 0 0 0 2.58 0l.323-.276c.902-.78 1.447-1.251 3.387-1.251.512 0 5 .168 5 6 0 3.617-4.187 9-7 9"})}),solid:re("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:re("path",{d:"M481.9 270.1C490.9 279.1 496 291.3 496 304C496 316.7 490.9 328.9 481.9 337.9C472.9 346.9 460.7 352 448 352H64C51.27 352 39.06 346.9 30.06 337.9C21.06 328.9 16 316.7 16 304C16 291.3 21.06 279.1 30.06 270.1C39.06 261.1 51.27 256 64 256H448C460.7 256 472.9 261.1 481.9 270.1zM475.3 388.7C478.3 391.7 480 395.8 480 400V416C480 432.1 473.3 449.3 461.3 461.3C449.3 473.3 432.1 480 416 480H96C79.03 480 62.75 473.3 50.75 461.3C38.74 449.3 32 432.1 32 416V400C32 395.8 33.69 391.7 36.69 388.7C39.69 385.7 43.76 384 48 384H464C468.2 384 472.3 385.7 475.3 388.7zM50.39 220.8C45.93 218.6 42.03 215.5 38.97 211.6C35.91 207.7 33.79 203.2 32.75 198.4C31.71 193.5 31.8 188.5 32.99 183.7C54.98 97.02 146.5 32 256 32C365.5 32 457 97.02 479 183.7C480.2 188.5 480.3 193.5 479.2 198.4C478.2 203.2 476.1 207.7 473 211.6C469.1 215.5 466.1 218.6 461.6 220.8C457.2 222.9 452.3 224 447.3 224H64.67C59.73 224 54.84 222.9 50.39 220.8zM372.7 116.7C369.7 119.7 368 123.8 368 128C368 131.2 368.9 134.3 370.7 136.9C372.5 139.5 374.1 141.6 377.9 142.8C380.8 143.1 384 144.3 387.1 143.7C390.2 143.1 393.1 141.6 395.3 139.3C397.6 137.1 399.1 134.2 399.7 131.1C400.3 128 399.1 124.8 398.8 121.9C397.6 118.1 395.5 116.5 392.9 114.7C390.3 112.9 387.2 111.1 384 111.1C379.8 111.1 375.7 113.7 372.7 116.7V116.7zM244.7 84.69C241.7 87.69 240 91.76 240 96C240 99.16 240.9 102.3 242.7 104.9C244.5 107.5 246.1 109.6 249.9 110.8C252.8 111.1 256 112.3 259.1 111.7C262.2 111.1 265.1 109.6 267.3 107.3C269.6 105.1 271.1 102.2 271.7 99.12C272.3 96.02 271.1 92.8 270.8 89.88C269.6 86.95 267.5 84.45 264.9 82.7C262.3 80.94 259.2 79.1 256 79.1C251.8 79.1 247.7 81.69 244.7 84.69V84.69zM116.7 116.7C113.7 119.7 112 123.8 112 128C112 131.2 112.9 134.3 114.7 136.9C116.5 139.5 118.1 141.6 121.9 142.8C124.8 143.1 128 144.3 131.1 143.7C134.2 143.1 137.1 141.6 139.3 139.3C141.6 137.1 143.1 134.2 143.7 131.1C144.3 128 143.1 124.8 142.8 121.9C141.6 118.1 139.5 116.5 136.9 114.7C134.3 112.9 131.2 111.1 128 111.1C123.8 111.1 119.7 113.7 116.7 116.7L116.7 116.7z"})})},frequent:{outline:re("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[re("path",{d:"M13 4h-2l-.001 7H9v2h2v2h2v-2h4v-2h-4z"}),re("path",{d:"M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0m0 22C6.486 22 2 17.514 2 12S6.486 2 12 2s10 4.486 10 10-4.486 10-10 10"})]}),solid:re("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:re("path",{d:"M256 512C114.6 512 0 397.4 0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256C512 397.4 397.4 512 256 512zM232 256C232 264 236 271.5 242.7 275.1L338.7 339.1C349.7 347.3 364.6 344.3 371.1 333.3C379.3 322.3 376.3 307.4 365.3 300L280 243.2V120C280 106.7 269.3 96 255.1 96C242.7 96 231.1 106.7 231.1 120L232 256z"})})},nature:{outline:re("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[re("path",{d:"M15.5 8a1.5 1.5 0 1 0 .001 3.001A1.5 1.5 0 0 0 15.5 8M8.5 8a1.5 1.5 0 1 0 .001 3.001A1.5 1.5 0 0 0 8.5 8"}),re("path",{d:"M18.933 0h-.027c-.97 0-2.138.787-3.018 1.497-1.274-.374-2.612-.51-3.887-.51-1.285 0-2.616.133-3.874.517C7.245.79 6.069 0 5.093 0h-.027C3.352 0 .07 2.67.002 7.026c-.039 2.479.276 4.238 1.04 5.013.254.258.882.677 1.295.882.191 3.177.922 5.238 2.536 6.38.897.637 2.187.949 3.2 1.102C8.04 20.6 8 20.795 8 21c0 1.773 2.35 3 4 3 1.648 0 4-1.227 4-3 0-.201-.038-.393-.072-.586 2.573-.385 5.435-1.877 5.925-7.587.396-.22.887-.568 1.104-.788.763-.774 1.079-2.534 1.04-5.013C23.929 2.67 20.646 0 18.933 0M3.223 9.135c-.237.281-.837 1.155-.884 1.238-.15-.41-.368-1.349-.337-3.291.051-3.281 2.478-4.972 3.091-5.031.256.015.731.27 1.265.646-1.11 1.171-2.275 2.915-2.352 5.125-.133.546-.398.858-.783 1.313M12 22c-.901 0-1.954-.693-2-1 0-.654.475-1.236 1-1.602V20a1 1 0 1 0 2 0v-.602c.524.365 1 .947 1 1.602-.046.307-1.099 1-2 1m3-3.48v.02a4.752 4.752 0 0 0-1.262-1.02c1.092-.516 2.239-1.334 2.239-2.217 0-1.842-1.781-2.195-3.977-2.195-2.196 0-3.978.354-3.978 2.195 0 .883 1.148 1.701 2.238 2.217A4.8 4.8 0 0 0 9 18.539v-.025c-1-.076-2.182-.281-2.973-.842-1.301-.92-1.838-3.045-1.853-6.478l.023-.041c.496-.826 1.49-1.45 1.804-3.102 0-2.047 1.357-3.631 2.362-4.522C9.37 3.178 10.555 3 11.948 3c1.447 0 2.685.192 3.733.57 1 .9 2.316 2.465 2.316 4.48.313 1.651 1.307 2.275 1.803 3.102.035.058.068.117.102.178-.059 5.967-1.949 7.01-4.902 7.19m6.628-8.202c-.037-.065-.074-.13-.113-.195a7.587 7.587 0 0 0-.739-.987c-.385-.455-.648-.768-.782-1.313-.076-2.209-1.241-3.954-2.353-5.124.531-.376 1.004-.63 1.261-.647.636.071 3.044 1.764 3.096 5.031.027 1.81-.347 3.218-.37 3.235"})]}),solid:re("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512",children:re("path",{d:"M332.7 19.85C334.6 8.395 344.5 0 356.1 0C363.6 0 370.6 3.52 375.1 9.502L392 32H444.1C456.8 32 469.1 37.06 478.1 46.06L496 64H552C565.3 64 576 74.75 576 88V112C576 156.2 540.2 192 496 192H426.7L421.6 222.5L309.6 158.5L332.7 19.85zM448 64C439.2 64 432 71.16 432 80C432 88.84 439.2 96 448 96C456.8 96 464 88.84 464 80C464 71.16 456.8 64 448 64zM416 256.1V480C416 497.7 401.7 512 384 512H352C334.3 512 320 497.7 320 480V364.8C295.1 377.1 268.8 384 240 384C211.2 384 184 377.1 160 364.8V480C160 497.7 145.7 512 128 512H96C78.33 512 64 497.7 64 480V249.8C35.23 238.9 12.64 214.5 4.836 183.3L.9558 167.8C-3.331 150.6 7.094 133.2 24.24 128.1C41.38 124.7 58.76 135.1 63.05 152.2L66.93 167.8C70.49 182 83.29 191.1 97.97 191.1H303.8L416 256.1z"})})},objects:{outline:re("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[re("path",{d:"M12 0a9 9 0 0 0-5 16.482V21s2.035 3 5 3 5-3 5-3v-4.518A9 9 0 0 0 12 0zm0 2c3.86 0 7 3.141 7 7s-3.14 7-7 7-7-3.141-7-7 3.14-7 7-7zM9 17.477c.94.332 1.946.523 3 .523s2.06-.19 3-.523v.834c-.91.436-1.925.689-3 .689a6.924 6.924 0 0 1-3-.69v-.833zm.236 3.07A8.854 8.854 0 0 0 12 21c.965 0 1.888-.167 2.758-.451C14.155 21.173 13.153 22 12 22c-1.102 0-2.117-.789-2.764-1.453z"}),re("path",{d:"M14.745 12.449h-.004c-.852-.024-1.188-.858-1.577-1.824-.421-1.061-.703-1.561-1.182-1.566h-.009c-.481 0-.783.497-1.235 1.537-.436.982-.801 1.811-1.636 1.791l-.276-.043c-.565-.171-.853-.691-1.284-1.794-.125-.313-.202-.632-.27-.913-.051-.213-.127-.53-.195-.634C7.067 9.004 7.039 9 6.99 9A1 1 0 0 1 7 7h.01c1.662.017 2.015 1.373 2.198 2.134.486-.981 1.304-2.058 2.797-2.075 1.531.018 2.28 1.153 2.731 2.141l.002-.008C14.944 8.424 15.327 7 16.979 7h.032A1 1 0 1 1 17 9h-.011c-.149.076-.256.474-.319.709a6.484 6.484 0 0 1-.311.951c-.429.973-.79 1.789-1.614 1.789"})]}),solid:re("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512",children:re("path",{d:"M112.1 454.3c0 6.297 1.816 12.44 5.284 17.69l17.14 25.69c5.25 7.875 17.17 14.28 26.64 14.28h61.67c9.438 0 21.36-6.401 26.61-14.28l17.08-25.68c2.938-4.438 5.348-12.37 5.348-17.7L272 415.1h-160L112.1 454.3zM191.4 .0132C89.44 .3257 16 82.97 16 175.1c0 44.38 16.44 84.84 43.56 115.8c16.53 18.84 42.34 58.23 52.22 91.45c.0313 .25 .0938 .5166 .125 .7823h160.2c.0313-.2656 .0938-.5166 .125-.7823c9.875-33.22 35.69-72.61 52.22-91.45C351.6 260.8 368 220.4 368 175.1C368 78.61 288.9-.2837 191.4 .0132zM192 96.01c-44.13 0-80 35.89-80 79.1C112 184.8 104.8 192 96 192S80 184.8 80 176c0-61.76 50.25-111.1 112-111.1c8.844 0 16 7.159 16 16S200.8 96.01 192 96.01z"})})},people:{outline:re("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[re("path",{d:"M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0m0 22C6.486 22 2 17.514 2 12S6.486 2 12 2s10 4.486 10 10-4.486 10-10 10"}),re("path",{d:"M8 7a2 2 0 1 0-.001 3.999A2 2 0 0 0 8 7M16 7a2 2 0 1 0-.001 3.999A2 2 0 0 0 16 7M15.232 15c-.693 1.195-1.87 2-3.349 2-1.477 0-2.655-.805-3.347-2H15m3-2H6a6 6 0 1 0 12 0"})]}),solid:re("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:re("path",{d:"M0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256C512 397.4 397.4 512 256 512C114.6 512 0 397.4 0 256zM256 432C332.1 432 396.2 382 415.2 314.1C419.1 300.4 407.8 288 393.6 288H118.4C104.2 288 92.92 300.4 96.76 314.1C115.8 382 179.9 432 256 432V432zM176.4 160C158.7 160 144.4 174.3 144.4 192C144.4 209.7 158.7 224 176.4 224C194 224 208.4 209.7 208.4 192C208.4 174.3 194 160 176.4 160zM336.4 224C354 224 368.4 209.7 368.4 192C368.4 174.3 354 160 336.4 160C318.7 160 304.4 174.3 304.4 192C304.4 209.7 318.7 224 336.4 224z"})})},places:{outline:re("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[re("path",{d:"M6.5 12C5.122 12 4 13.121 4 14.5S5.122 17 6.5 17 9 15.879 9 14.5 7.878 12 6.5 12m0 3c-.275 0-.5-.225-.5-.5s.225-.5.5-.5.5.225.5.5-.225.5-.5.5M17.5 12c-1.378 0-2.5 1.121-2.5 2.5s1.122 2.5 2.5 2.5 2.5-1.121 2.5-2.5-1.122-2.5-2.5-2.5m0 3c-.275 0-.5-.225-.5-.5s.225-.5.5-.5.5.225.5.5-.225.5-.5.5"}),re("path",{d:"M22.482 9.494l-1.039-.346L21.4 9h.6c.552 0 1-.439 1-.992 0-.006-.003-.008-.003-.008H23c0-1-.889-2-1.984-2h-.642l-.731-1.717C19.262 3.012 18.091 2 16.764 2H7.236C5.909 2 4.738 3.012 4.357 4.283L3.626 6h-.642C1.889 6 1 7 1 8h.003S1 8.002 1 8.008C1 8.561 1.448 9 2 9h.6l-.043.148-1.039.346a2.001 2.001 0 0 0-1.359 2.097l.751 7.508a1 1 0 0 0 .994.901H3v1c0 1.103.896 2 2 2h2c1.104 0 2-.897 2-2v-1h6v1c0 1.103.896 2 2 2h2c1.104 0 2-.897 2-2v-1h1.096a.999.999 0 0 0 .994-.901l.751-7.508a2.001 2.001 0 0 0-1.359-2.097M6.273 4.857C6.402 4.43 6.788 4 7.236 4h9.527c.448 0 .834.43.963.857L19.313 9H4.688l1.585-4.143zM7 21H5v-1h2v1zm12 0h-2v-1h2v1zm2.189-3H2.811l-.662-6.607L3 11h18l.852.393L21.189 18z"})]}),solid:re("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:re("path",{d:"M39.61 196.8L74.8 96.29C88.27 57.78 124.6 32 165.4 32H346.6C387.4 32 423.7 57.78 437.2 96.29L472.4 196.8C495.6 206.4 512 229.3 512 256V448C512 465.7 497.7 480 480 480H448C430.3 480 416 465.7 416 448V400H96V448C96 465.7 81.67 480 64 480H32C14.33 480 0 465.7 0 448V256C0 229.3 16.36 206.4 39.61 196.8V196.8zM109.1 192H402.9L376.8 117.4C372.3 104.6 360.2 96 346.6 96H165.4C151.8 96 139.7 104.6 135.2 117.4L109.1 192zM96 256C78.33 256 64 270.3 64 288C64 305.7 78.33 320 96 320C113.7 320 128 305.7 128 288C128 270.3 113.7 256 96 256zM416 320C433.7 320 448 305.7 448 288C448 270.3 433.7 256 416 256C398.3 256 384 270.3 384 288C384 305.7 398.3 320 416 320z"})})},symbols:{outline:re("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:re("path",{d:"M0 0h11v2H0zM4 11h3V6h4V4H0v2h4zM15.5 17c1.381 0 2.5-1.116 2.5-2.493s-1.119-2.493-2.5-2.493S13 13.13 13 14.507 14.119 17 15.5 17m0-2.986c.276 0 .5.222.5.493 0 .272-.224.493-.5.493s-.5-.221-.5-.493.224-.493.5-.493M21.5 19.014c-1.381 0-2.5 1.116-2.5 2.493S20.119 24 21.5 24s2.5-1.116 2.5-2.493-1.119-2.493-2.5-2.493m0 2.986a.497.497 0 0 1-.5-.493c0-.271.224-.493.5-.493s.5.222.5.493a.497.497 0 0 1-.5.493M22 13l-9 9 1.513 1.5 8.99-9.009zM17 11c2.209 0 4-1.119 4-2.5V2s.985-.161 1.498.949C23.01 4.055 23 6 23 6s1-1.119 1-3.135C24-.02 21 0 21 0h-2v6.347A5.853 5.853 0 0 0 17 6c-2.209 0-4 1.119-4 2.5s1.791 2.5 4 2.5M10.297 20.482l-1.475-1.585a47.54 47.54 0 0 1-1.442 1.129c-.307-.288-.989-1.016-2.045-2.183.902-.836 1.479-1.466 1.729-1.892s.376-.871.376-1.336c0-.592-.273-1.178-.818-1.759-.546-.581-1.329-.871-2.349-.871-1.008 0-1.79.293-2.344.879-.556.587-.832 1.181-.832 1.784 0 .813.419 1.748 1.256 2.805-.847.614-1.444 1.208-1.794 1.784a3.465 3.465 0 0 0-.523 1.833c0 .857.308 1.56.924 2.107.616.549 1.423.823 2.42.823 1.173 0 2.444-.379 3.813-1.137L8.235 24h2.819l-2.09-2.383 1.333-1.135zm-6.736-6.389a1.02 1.02 0 0 1 .73-.286c.31 0 .559.085.747.254a.849.849 0 0 1 .283.659c0 .518-.419 1.112-1.257 1.784-.536-.651-.805-1.231-.805-1.742a.901.901 0 0 1 .302-.669M3.74 22c-.427 0-.778-.116-1.057-.349-.279-.232-.418-.487-.418-.766 0-.594.509-1.288 1.527-2.083.968 1.134 1.717 1.946 2.248 2.438-.921.507-1.686.76-2.3.76"})}),solid:re("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:re("path",{d:"M500.3 7.251C507.7 13.33 512 22.41 512 31.1V175.1C512 202.5 483.3 223.1 447.1 223.1C412.7 223.1 383.1 202.5 383.1 175.1C383.1 149.5 412.7 127.1 447.1 127.1V71.03L351.1 90.23V207.1C351.1 234.5 323.3 255.1 287.1 255.1C252.7 255.1 223.1 234.5 223.1 207.1C223.1 181.5 252.7 159.1 287.1 159.1V63.1C287.1 48.74 298.8 35.61 313.7 32.62L473.7 .6198C483.1-1.261 492.9 1.173 500.3 7.251H500.3zM74.66 303.1L86.5 286.2C92.43 277.3 102.4 271.1 113.1 271.1H174.9C185.6 271.1 195.6 277.3 201.5 286.2L213.3 303.1H239.1C266.5 303.1 287.1 325.5 287.1 351.1V463.1C287.1 490.5 266.5 511.1 239.1 511.1H47.1C21.49 511.1-.0019 490.5-.0019 463.1V351.1C-.0019 325.5 21.49 303.1 47.1 303.1H74.66zM143.1 359.1C117.5 359.1 95.1 381.5 95.1 407.1C95.1 434.5 117.5 455.1 143.1 455.1C170.5 455.1 191.1 434.5 191.1 407.1C191.1 381.5 170.5 359.1 143.1 359.1zM440.3 367.1H496C502.7 367.1 508.6 372.1 510.1 378.4C513.3 384.6 511.6 391.7 506.5 396L378.5 508C372.9 512.1 364.6 513.3 358.6 508.9C352.6 504.6 350.3 496.6 353.3 489.7L391.7 399.1H336C329.3 399.1 323.4 395.9 321 389.6C318.7 383.4 320.4 376.3 325.5 371.1L453.5 259.1C459.1 255 467.4 254.7 473.4 259.1C479.4 263.4 481.6 271.4 478.7 278.3L440.3 367.1zM116.7 219.1L19.85 119.2C-8.112 90.26-6.614 42.31 24.85 15.34C51.82-8.137 93.26-3.642 118.2 21.83L128.2 32.32L137.7 21.83C162.7-3.642 203.6-8.137 231.6 15.34C262.6 42.31 264.1 90.26 236.1 119.2L139.7 219.1C133.2 225.6 122.7 225.6 116.7 219.1H116.7z"})})}},WO={loupe:re("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:re("path",{d:"M12.9 14.32a8 8 0 1 1 1.41-1.41l5.35 5.33-1.42 1.42-5.33-5.34zM8 14A6 6 0 1 0 8 2a6 6 0 0 0 0 12z"})}),delete:re("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:re("path",{d:"M10 8.586L2.929 1.515 1.515 2.929 8.586 10l-7.071 7.071 1.414 1.414L10 11.414l7.071 7.071 1.414-1.414L11.414 10l7.071-7.071-1.414-1.414L10 8.586z"})})};var vd={categories:qO,search:WO};function dg(n){let{id:e,skin:t,emoji:r}=n;if(n.shortcodes){const c=n.shortcodes.match(ol.SHORTCODES_REGEX);c&&(e=c[1],c[2]&&(t=c[2]))}if(r||(r=ol.get(e||n.native)),!r)return n.fallback;const i=r.skins[t-1]||r.skins[0],a=i.src||(n.set!="native"&&!n.spritesheet?typeof n.getImageURL=="function"?n.getImageURL(n.set,i.unified):`https://cdn.jsdelivr.net/npm/emoji-datasource-${n.set}@15.0.1/img/${n.set}/64/${i.unified}.png`:void 0),l=typeof n.getSpritesheetURL=="function"?n.getSpritesheetURL(n.set):`https://cdn.jsdelivr.net/npm/emoji-datasource-${n.set}@15.0.1/img/${n.set}/sheets-256/64.png`;return re("span",{class:"emoji-mart-emoji","data-emoji-set":n.set,children:a?re("img",{style:{maxWidth:n.size||"1em",maxHeight:n.size||"1em",display:"inline-block"},alt:i.native||i.shortcodes,src:a}):n.set=="native"?re("span",{style:{fontSize:n.size,fontFamily:'"EmojiMart", "Segoe UI Emoji", "Segoe UI Symbol", "Segoe UI", "Apple Color Emoji", "Twemoji Mozilla", "Noto Color Emoji", "Android Emoji"'},children:i.native}):re("span",{style:{display:"block",width:n.size,height:n.size,backgroundImage:`url(${l})`,backgroundSize:`${100*je.sheet.cols}% ${100*je.sheet.rows}%`,backgroundPosition:`${100/(je.sheet.cols-1)*i.x}% ${100/(je.sheet.rows-1)*i.y}%`}})})}const GO=typeof window<"u"&&window.HTMLElement?window.HTMLElement:Object;class S3 extends GO{static get observedAttributes(){return Object.keys(this.Props)}update(e={}){for(let t in e)this.attributeChangedCallback(t,null,e[t])}attributeChangedCallback(e,t,r){if(!this.component)return;const i=b3(e,{[e]:r},this.constructor.Props,this);this.component.componentWillReceiveProps?this.component.componentWillReceiveProps({[e]:i}):(this.component.props[e]=i,this.component.forceUpdate())}disconnectedCallback(){this.disconnected=!0,this.component&&this.component.unregister&&this.component.unregister()}constructor(e={}){if(super(),this.props=e,e.parent||e.ref){let t=null;const r=e.parent||(t=e.ref&&e.ref.current);t&&(t.innerHTML=""),r&&r.appendChild(this)}}}class KO extends S3{setShadow(){this.attachShadow({mode:"open"})}injectStyles(e){if(!e)return;const t=document.createElement("style");t.textContent=e,this.shadowRoot.insertBefore(t,this.shadowRoot.firstChild)}constructor(e,{styles:t}={}){super(e),this.setShadow(),this.injectStyles(t)}}var I3={fallback:"",id:"",native:"",shortcodes:"",size:{value:"",transform:n=>/\D/.test(n)?n:`${n}px`},set:ss.set,skin:ss.skin};class R3 extends S3{async connectedCallback(){const e=k3(this.props,I3,this);e.element=this,e.ref=t=>{this.component=t},await e0(),!this.disconnected&&x3(re(dg,{...e}),this)}constructor(e){super(e)}}Gr(R3,"Props",I3);typeof customElements<"u"&&!customElements.get("em-emoji")&&customElements.define("em-emoji",R3);var vw,pg=[],xw=De.__b,Ew=De.__r,ww=De.diffed,Tw=De.__c,Aw=De.unmount;function QO(){var n;for(pg.sort(function(e,t){return e.__v.__b-t.__v.__b});n=pg.pop();)if(n.__P)try{n.__H.__h.forEach(zf),n.__H.__h.forEach(mg),n.__H.__h=[]}catch(e){n.__H.__h=[],De.__e(e,n.__v)}}De.__b=function(n){xw&&xw(n)},De.__r=function(n){Ew&&Ew(n);var e=n.__c.__H;e&&(e.__h.forEach(zf),e.__h.forEach(mg),e.__h=[])},De.diffed=function(n){ww&&ww(n);var e=n.__c;e&&e.__H&&e.__H.__h.length&&(pg.push(e)!==1&&vw===De.requestAnimationFrame||((vw=De.requestAnimationFrame)||function(t){var r,i=function(){clearTimeout(a),Cw&&cancelAnimationFrame(r),setTimeout(t)},a=setTimeout(i,100);Cw&&(r=requestAnimationFrame(i))})(QO))},De.__c=function(n,e){e.some(function(t){try{t.__h.forEach(zf),t.__h=t.__h.filter(function(r){return!r.__||mg(r)})}catch(r){e.some(function(i){i.__h&&(i.__h=[])}),e=[],De.__e(r,t.__v)}}),Tw&&Tw(n,e)},De.unmount=function(n){Aw&&Aw(n);var e,t=n.__c;t&&t.__H&&(t.__H.__.forEach(function(r){try{zf(r)}catch(i){e=i}}),e&&De.__e(e,t.__v))};var Cw=typeof requestAnimationFrame=="function";function zf(n){var e=n.__c;typeof e=="function"&&(n.__c=void 0,e())}function mg(n){n.__c=n.__()}function XO(n,e){for(var t in e)n[t]=e[t];return n}function kw(n,e){for(var t in n)if(t!=="__source"&&!(t in e))return!0;for(var r in e)if(r!=="__source"&&n[r]!==e[r])return!0;return!1}function xd(n){this.props=n}(xd.prototype=new Ui).isPureReactComponent=!0,xd.prototype.shouldComponentUpdate=function(n,e){return kw(this.props,n)||kw(this.state,e)};var bw=De.__b;De.__b=function(n){n.type&&n.type.__f&&n.ref&&(n.props.ref=n.ref,n.ref=null),bw&&bw(n)};var YO=De.__e;De.__e=function(n,e,t){if(n.then){for(var r,i=e;i=i.__;)if((r=i.__c)&&r.__c)return e.__e==null&&(e.__e=t.__e,e.__k=t.__k),r.__c(n,e)}YO(n,e,t)};var Sw=De.unmount;function dm(){this.__u=0,this.t=null,this.__b=null}function P3(n){var e=n.__.__c;return e&&e.__e&&e.__e(n)}function zh(){this.u=null,this.o=null}De.unmount=function(n){var e=n.__c;e&&e.__R&&e.__R(),e&&n.__h===!0&&(n.type=null),Sw&&Sw(n)},(dm.prototype=new Ui).__c=function(n,e){var t=e.__c,r=this;r.t==null&&(r.t=[]),r.t.push(t);var i=P3(r.__v),a=!1,l=function(){a||(a=!0,t.__R=null,i?i(c):c())};t.__R=l;var c=function(){if(!--r.__u){if(r.state.__e){var f=r.state.__e;r.__v.__k[0]=function _(y,E,w){return y&&(y.__v=null,y.__k=y.__k&&y.__k.map(function(k){return _(k,E,w)}),y.__c&&y.__c.__P===E&&(y.__e&&w.insertBefore(y.__e,y.__d),y.__c.__e=!0,y.__c.__P=w)),y}(f,f.__c.__P,f.__c.__O)}var p;for(r.setState({__e:r.__b=null});p=r.t.pop();)p.forceUpdate()}},h=e.__h===!0;r.__u++||h||r.setState({__e:r.__b=r.__v.__k[0]}),n.then(l,l)},dm.prototype.componentWillUnmount=function(){this.t=[]},dm.prototype.render=function(n,e){if(this.__b){if(this.__v.__k){var t=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=function a(l,c,h){return l&&(l.__c&&l.__c.__H&&(l.__c.__H.__.forEach(function(f){typeof f.__c=="function"&&f.__c()}),l.__c.__H=null),(l=XO({},l)).__c!=null&&(l.__c.__P===h&&(l.__c.__P=c),l.__c=null),l.__k=l.__k&&l.__k.map(function(f){return a(f,c,h)})),l}(this.__b,t,r.__O=r.__P)}this.__b=null}var i=e.__e&&cg(El,null,n.fallback);return i&&(i.__h=null),[cg(El,null,e.__e?null:n.children),i]};var Iw=function(n,e,t){if(++t[1]===t[0]&&n.o.delete(e),n.props.revealOrder&&(n.props.revealOrder[0]!=="t"||!n.o.size))for(t=n.u;t;){for(;t.length>3;)t.pop()();if(t[1]<t[0])break;n.u=t=t[2]}};(zh.prototype=new Ui).__e=function(n){var e=this,t=P3(e.__v),r=e.o.get(n);return r[0]++,function(i){var a=function(){e.props.revealOrder?(r.push(i),Iw(e,n,r)):i()};t?t(a):a()}},zh.prototype.render=function(n){this.u=null,this.o=new Map;var e=yd(n.children);n.revealOrder&&n.revealOrder[0]==="b"&&e.reverse();for(var t=e.length;t--;)this.o.set(e[t],this.u=[1,0,this.u]);return n.children},zh.prototype.componentDidUpdate=zh.prototype.componentDidMount=function(){var n=this;this.o.forEach(function(e,t){Iw(n,t,e)})};var ZO=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,JO=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,eM=typeof document<"u",tM=function(n){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(n)};Ui.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(n){Object.defineProperty(Ui.prototype,n,{configurable:!0,get:function(){return this["UNSAFE_"+n]},set:function(e){Object.defineProperty(this,n,{configurable:!0,writable:!0,value:e})}})});var Rw=De.event;function nM(){}function rM(){return this.cancelBubble}function iM(){return this.defaultPrevented}De.event=function(n){return Rw&&(n=Rw(n)),n.persist=nM,n.isPropagationStopped=rM,n.isDefaultPrevented=iM,n.nativeEvent=n};var Pw={configurable:!0,get:function(){return this.class}},Dw=De.vnode;De.vnode=function(n){var e=n.type,t=n.props,r=t;if(typeof e=="string"){var i=e.indexOf("-")===-1;for(var a in r={},t){var l=t[a];eM&&a==="children"&&e==="noscript"||a==="value"&&"defaultValue"in t&&l==null||(a==="defaultValue"&&"value"in t&&t.value==null?a="value":a==="download"&&l===!0?l="":/ondoubleclick/i.test(a)?a="ondblclick":/^onchange(textarea|input)/i.test(a+e)&&!tM(t.type)?a="oninput":/^onfocus$/i.test(a)?a="onfocusin":/^onblur$/i.test(a)?a="onfocusout":/^on(Ani|Tra|Tou|BeforeInp)/.test(a)?a=a.toLowerCase():i&&JO.test(a)?a=a.replace(/[A-Z0-9]/,"-$&").toLowerCase():l===null&&(l=void 0),r[a]=l)}e=="select"&&r.multiple&&Array.isArray(r.value)&&(r.value=yd(t.children).forEach(function(c){c.props.selected=r.value.indexOf(c.props.value)!=-1})),e=="select"&&r.defaultValue!=null&&(r.value=yd(t.children).forEach(function(c){c.props.selected=r.multiple?r.defaultValue.indexOf(c.props.value)!=-1:r.defaultValue==c.props.value})),n.props=r,t.class!=t.className&&(Pw.enumerable="className"in t,t.className!=null&&(r.class=t.className),Object.defineProperty(r,"className",Pw))}n.$$typeof=ZO,Dw&&Dw(n)};var Bw=De.__r;De.__r=function(n){Bw&&Bw(n),n.__c};const sM={light:"outline",dark:"solid"};class oM extends xd{renderIcon(e){const{icon:t}=e;if(t){if(t.svg)return re("span",{class:"flex",dangerouslySetInnerHTML:{__html:t.svg}});if(t.src)return re("img",{src:t.src})}const r=vd.categories[e.id]||vd.categories.custom,i=this.props.icons=="auto"?sM[this.props.theme]:this.props.icons;return r[i]||r}render(){let e=null;return re("nav",{id:"nav",class:"padding","data-position":this.props.position,dir:this.props.dir,children:re("div",{class:"flex relative",children:[this.categories.map((t,r)=>{const i=t.name||Dn.categories[t.id],a=!this.props.unfocused&&t.id==this.state.categoryId;return a&&(e=r),re("button",{"aria-label":i,"aria-selected":a||void 0,title:i,type:"button",class:"flex flex-grow flex-center",onMouseDown:l=>l.preventDefault(),onClick:()=>{this.props.onClick({category:t,i:r})},children:this.renderIcon(t)})}),re("div",{class:"bar",style:{width:`${100/this.categories.length}%`,opacity:e==null?0:1,transform:this.props.dir==="rtl"?`scaleX(-1) translateX(${e*100}%)`:`translateX(${e*100}%)`}})]})})}constructor(){super(),this.categories=je.categories.filter(e=>!e.target),this.state={categoryId:this.categories[0].id}}}class aM extends xd{shouldComponentUpdate(e){for(let t in e)if(t!="children"&&e[t]!=this.props[t])return!0;return!1}render(){return this.props.children}}const jh={rowsPerRender:10};class lM extends Ui{getInitialState(e=this.props){return{skin:no.get("skin")||e.skin,theme:this.initTheme(e.theme)}}componentWillMount(){this.dir=Dn.rtl?"rtl":"ltr",this.refs={menu:is(),navigation:is(),scroll:is(),search:is(),searchInput:is(),skinToneButton:is(),skinToneRadio:is()},this.initGrid(),this.props.stickySearch==!1&&this.props.searchPosition=="sticky"&&(console.warn("[EmojiMart] Deprecation warning: `stickySearch` has been renamed `searchPosition`."),this.props.searchPosition="static")}componentDidMount(){if(this.register(),this.shadowRoot=this.base.parentNode,this.props.autoFocus){const{searchInput:e}=this.refs;e.current&&e.current.focus()}}componentWillReceiveProps(e){this.nextState||(this.nextState={});for(const t in e)this.nextState[t]=e[t];clearTimeout(this.nextStateTimer),this.nextStateTimer=setTimeout(()=>{let t=!1;for(const i in this.nextState)this.props[i]=this.nextState[i],(i==="custom"||i==="categories")&&(t=!0);delete this.nextState;const r=this.getInitialState();if(t)return this.reset(r);this.setState(r)})}componentWillUnmount(){this.unregister()}async reset(e={}){await e0(this.props),this.initGrid(),this.unobserve(),this.setState(e,()=>{this.observeCategories(),this.observeRows()})}register(){document.addEventListener("click",this.handleClickOutside),this.observe()}unregister(){var e;document.removeEventListener("click",this.handleClickOutside),(e=this.darkMedia)==null||e.removeEventListener("change",this.darkMediaCallback),this.unobserve()}observe(){this.observeCategories(),this.observeRows()}unobserve({except:e=[]}={}){Array.isArray(e)||(e=[e]);for(const t of this.observers)e.includes(t)||t.disconnect();this.observers=[].concat(e)}initGrid(){const{categories:e}=je;this.refs.categories=new Map;const t=je.categories.map(i=>i.id).join(",");this.navKey&&this.navKey!=t&&this.refs.scroll.current&&(this.refs.scroll.current.scrollTop=0),this.navKey=t,this.grid=[],this.grid.setsize=0;const r=(i,a)=>{const l=[];l.__categoryId=a.id,l.__index=i.length,this.grid.push(l);const c=this.grid.length-1,h=c%jh.rowsPerRender?{}:is();return h.index=c,h.posinset=this.grid.setsize+1,i.push(h),l};for(let i of e){const a=[];let l=r(a,i);for(let c of i.emojis)l.length==this.getPerLine()&&(l=r(a,i)),this.grid.setsize+=1,l.push(c);this.refs.categories.set(i.id,{root:is(),rows:a})}}initTheme(e){if(e!="auto")return e;if(!this.darkMedia){if(this.darkMedia=matchMedia("(prefers-color-scheme: dark)"),this.darkMedia.media.match(/^not/))return"light";this.darkMedia.addEventListener("change",this.darkMediaCallback)}return this.darkMedia.matches?"dark":"light"}initDynamicPerLine(e=this.props){if(!e.dynamicWidth)return;const{element:t,emojiButtonSize:r}=e,i=()=>{const{width:l}=t.getBoundingClientRect();return Math.floor(l/r)},a=new ResizeObserver(()=>{this.unobserve({except:a}),this.setState({perLine:i()},()=>{this.initGrid(),this.forceUpdate(()=>{this.observeCategories(),this.observeRows()})})});return a.observe(t),this.observers.push(a),i()}getPerLine(){return this.state.perLine||this.props.perLine}getEmojiByPos([e,t]){const r=this.state.searchResults||this.grid,i=r[e]&&r[e][t];if(i)return ol.get(i)}observeCategories(){const e=this.refs.navigation.current;if(!e)return;const t=new Map,r=l=>{l!=e.state.categoryId&&e.setState({categoryId:l})},i={root:this.refs.scroll.current,threshold:[0,1]},a=new IntersectionObserver(l=>{for(const h of l){const f=h.target.dataset.id;t.set(f,h.intersectionRatio)}const c=[...t];for(const[h,f]of c)if(f){r(h);break}},i);for(const{root:l}of this.refs.categories.values())a.observe(l.current);this.observers.push(a)}observeRows(){const e={...this.state.visibleRows},t=new IntersectionObserver(r=>{for(const i of r){const a=parseInt(i.target.dataset.index);i.isIntersecting?e[a]=!0:delete e[a]}this.setState({visibleRows:e})},{root:this.refs.scroll.current,rootMargin:`${this.props.emojiButtonSize*(jh.rowsPerRender+5)}px 0px ${this.props.emojiButtonSize*jh.rowsPerRender}px`});for(const{rows:r}of this.refs.categories.values())for(const i of r)i.current&&t.observe(i.current);this.observers.push(t)}preventDefault(e){e.preventDefault()}unfocusSearch(){const e=this.refs.searchInput.current;e&&e.blur()}navigate({e,input:t,left:r,right:i,up:a,down:l}){const c=this.state.searchResults||this.grid;if(!c.length)return;let[h,f]=this.state.pos;const p=(()=>{if(h==0&&f==0&&!e.repeat&&(r||a))return null;if(h==-1)return!e.repeat&&(i||l)&&t.selectionStart==t.value.length?[0,0]:null;if(r||i){let _=c[h];const y=r?-1:1;if(f+=y,!_[f]){if(h+=y,_=c[h],!_)return h=r?0:c.length-1,f=r?0:c[h].length-1,[h,f];f=r?_.length-1:0}return[h,f]}if(a||l){h+=a?-1:1;const _=c[h];return _?(_[f]||(f=_.length-1),[h,f]):(h=a?0:c.length-1,f=a?0:c[h].length-1,[h,f])}})();if(p)e.preventDefault();else{this.state.pos[0]>-1&&this.setState({pos:[-1,-1]});return}this.setState({pos:p,keyboard:!0},()=>{this.scrollTo({row:p[0]})})}scrollTo({categoryId:e,row:t}){const r=this.state.searchResults||this.grid;if(!r.length)return;const i=this.refs.scroll.current,a=i.getBoundingClientRect();let l=0;if(t>=0&&(e=r[t].__categoryId),e&&(l=(this.refs[e]||this.refs.categories.get(e).root).current.getBoundingClientRect().top-(a.top-i.scrollTop)+1),t>=0)if(!t)l=0;else{const c=r[t].__index,h=l+c*this.props.emojiButtonSize,f=h+this.props.emojiButtonSize+this.props.emojiButtonSize*.88;if(h<i.scrollTop)l=h;else if(f>i.scrollTop+a.height)l=f-a.height;else return}this.ignoreMouse(),i.scrollTop=l}ignoreMouse(){this.mouseIsIgnored=!0,clearTimeout(this.ignoreMouseTimer),this.ignoreMouseTimer=setTimeout(()=>{delete this.mouseIsIgnored},100)}handleEmojiOver(e){this.mouseIsIgnored||this.state.showSkins||this.setState({pos:e||[-1,-1],keyboard:!1})}handleEmojiClick({e,emoji:t,pos:r}){if(this.props.onEmojiSelect&&(!t&&r&&(t=this.getEmojiByPos(r)),t)){const i=HO(t,{skinIndex:this.state.skin-1});this.props.maxFrequentRows&&w3.add(i,this.props),this.props.onEmojiSelect(i,e)}}closeSkins(){this.state.showSkins&&(this.setState({showSkins:null,tempSkin:null}),this.base.removeEventListener("click",this.handleBaseClick),this.base.removeEventListener("keydown",this.handleBaseKeydown))}handleSkinMouseOver(e){this.setState({tempSkin:e})}handleSkinClick(e){this.ignoreMouse(),this.closeSkins(),this.setState({skin:e,tempSkin:null}),no.set("skin",e)}renderNav(){return re(oM,{ref:this.refs.navigation,icons:this.props.icons,theme:this.state.theme,dir:this.dir,unfocused:!!this.state.searchResults,position:this.props.navPosition,onClick:this.handleCategoryClick},this.navKey)}renderPreview(){const e=this.getEmojiByPos(this.state.pos),t=this.state.searchResults&&!this.state.searchResults.length;return re("div",{id:"preview",class:"flex flex-middle",dir:this.dir,"data-position":this.props.previewPosition,children:[re("div",{class:"flex flex-middle flex-grow",children:[re("div",{class:"flex flex-auto flex-middle flex-center",style:{height:this.props.emojiButtonSize,fontSize:this.props.emojiButtonSize},children:re(dg,{emoji:e,id:t?this.props.noResultsEmoji||"cry":this.props.previewEmoji||(this.props.previewPosition=="top"?"point_down":"point_up"),set:this.props.set,size:this.props.emojiButtonSize,skin:this.state.tempSkin||this.state.skin,spritesheet:!0,getSpritesheetURL:this.props.getSpritesheetURL})}),re("div",{class:`margin-${this.dir[0]}`,children:e||t?re("div",{class:`padding-${this.dir[2]} align-${this.dir[0]}`,children:[re("div",{class:"preview-title ellipsis",children:e?e.name:Dn.search_no_results_1}),re("div",{class:"preview-subtitle ellipsis color-c",children:e?e.skins[0].shortcodes:Dn.search_no_results_2})]}):re("div",{class:"preview-placeholder color-c",children:Dn.pick})})]}),!e&&this.props.skinTonePosition=="preview"&&this.renderSkinToneButton()]})}renderEmojiButton(e,{pos:t,posinset:r,grid:i}){const a=this.props.emojiButtonSize,l=this.state.tempSkin||this.state.skin,h=(e.skins[l-1]||e.skins[0]).native,f=zO(this.state.pos,t),p=t.concat(e.id).join("");return re(aM,{selected:f,skin:l,size:a,children:re("button",{"aria-label":h,"aria-selected":f||void 0,"aria-posinset":r,"aria-setsize":i.setsize,"data-keyboard":this.state.keyboard,title:this.props.previewPosition=="none"?e.name:void 0,type:"button",class:"flex flex-center flex-middle",tabindex:"-1",onClick:_=>this.handleEmojiClick({e:_,emoji:e}),onMouseEnter:()=>this.handleEmojiOver(t),onMouseLeave:()=>this.handleEmojiOver(),style:{width:this.props.emojiButtonSize,height:this.props.emojiButtonSize,fontSize:this.props.emojiSize,lineHeight:0},children:[re("div",{"aria-hidden":"true",class:"background",style:{borderRadius:this.props.emojiButtonRadius,backgroundColor:this.props.emojiButtonColors?this.props.emojiButtonColors[(r-1)%this.props.emojiButtonColors.length]:void 0}}),re(dg,{emoji:e,set:this.props.set,size:this.props.emojiSize,skin:l,spritesheet:!0,getSpritesheetURL:this.props.getSpritesheetURL})]})},p)}renderSearch(){const e=this.props.previewPosition=="none"||this.props.skinTonePosition=="search";return re("div",{children:[re("div",{class:"spacer"}),re("div",{class:"flex flex-middle",children:[re("div",{class:"search relative flex-grow",children:[re("input",{type:"search",ref:this.refs.searchInput,placeholder:Dn.search,onClick:this.handleSearchClick,onInput:this.handleSearchInput,onKeyDown:this.handleSearchKeyDown,autoComplete:"off"}),re("span",{class:"icon loupe flex",children:vd.search.loupe}),this.state.searchResults&&re("button",{title:"Clear","aria-label":"Clear",type:"button",class:"icon delete flex",onClick:this.clearSearch,onMouseDown:this.preventDefault,children:vd.search.delete})]}),e&&this.renderSkinToneButton()]})]})}renderSearchResults(){const{searchResults:e}=this.state;return e?re("div",{class:"category",ref:this.refs.search,children:[re("div",{class:`sticky padding-small align-${this.dir[0]}`,children:Dn.categories.search}),re("div",{children:e.length?e.map((t,r)=>re("div",{class:"flex",children:t.map((i,a)=>this.renderEmojiButton(i,{pos:[r,a],posinset:r*this.props.perLine+a+1,grid:e}))})):re("div",{class:`padding-small align-${this.dir[0]}`,children:this.props.onAddCustomEmoji&&re("a",{onClick:this.props.onAddCustomEmoji,children:Dn.add_custom})})})]}):null}renderCategories(){const{categories:e}=je,t=!!this.state.searchResults,r=this.getPerLine();return re("div",{style:{visibility:t?"hidden":void 0,display:t?"none":void 0,height:"100%"},children:e.map(i=>{const{root:a,rows:l}=this.refs.categories.get(i.id);return re("div",{"data-id":i.target?i.target.id:i.id,class:"category",ref:a,children:[re("div",{class:`sticky padding-small align-${this.dir[0]}`,children:i.name||Dn.categories[i.id]}),re("div",{class:"relative",style:{height:l.length*this.props.emojiButtonSize},children:l.map((c,h)=>{const f=c.index-c.index%jh.rowsPerRender,p=this.state.visibleRows[f],_="current"in c?c:void 0;if(!p&&!_)return null;const y=h*r,E=y+r,w=i.emojis.slice(y,E);return w.length<r&&w.push(...new Array(r-w.length)),re("div",{"data-index":c.index,ref:_,class:"flex row",style:{top:h*this.props.emojiButtonSize},children:p&&w.map((k,A)=>{if(!k)return re("div",{style:{width:this.props.emojiButtonSize,height:this.props.emojiButtonSize}});const L=ol.get(k);return this.renderEmojiButton(L,{pos:[c.index,A],posinset:c.posinset+A,grid:this.grid})})},c.index)})})]})})})}renderSkinToneButton(){return this.props.skinTonePosition=="none"?null:re("div",{class:"flex flex-auto flex-center flex-middle",style:{position:"relative",width:this.props.emojiButtonSize,height:this.props.emojiButtonSize},children:re("button",{type:"button",ref:this.refs.skinToneButton,class:"skin-tone-button flex flex-auto flex-center flex-middle","aria-selected":this.state.showSkins?"":void 0,"aria-label":Dn.skins.choose,title:Dn.skins.choose,onClick:this.openSkins,style:{width:this.props.emojiSize,height:this.props.emojiSize},children:re("span",{class:`skin-tone skin-tone-${this.state.skin}`})})})}renderLiveRegion(){const e=this.getEmojiByPos(this.state.pos),t=e?e.name:"";return re("div",{"aria-live":"polite",class:"sr-only",children:t})}renderSkins(){const t=this.refs.skinToneButton.current.getBoundingClientRect(),r=this.base.getBoundingClientRect(),i={};return this.dir=="ltr"?i.right=r.right-t.right-3:i.left=t.left-r.left-3,this.props.previewPosition=="bottom"&&this.props.skinTonePosition=="preview"?i.bottom=r.bottom-t.top+6:(i.top=t.bottom-r.top+3,i.bottom="auto"),re("div",{ref:this.refs.menu,role:"radiogroup",dir:this.dir,"aria-label":Dn.skins.choose,class:"menu hidden","data-position":i.top?"top":"bottom",style:i,children:[...Array(6).keys()].map(a=>{const l=a+1,c=this.state.skin==l;return re("div",{children:[re("input",{type:"radio",name:"skin-tone",value:l,"aria-label":Dn.skins[l],ref:c?this.refs.skinToneRadio:null,defaultChecked:c,onChange:()=>this.handleSkinMouseOver(l),onKeyDown:h=>{(h.code=="Enter"||h.code=="Space"||h.code=="Tab")&&(h.preventDefault(),this.handleSkinClick(l))}}),re("button",{"aria-hidden":"true",tabindex:"-1",onClick:()=>this.handleSkinClick(l),onMouseEnter:()=>this.handleSkinMouseOver(l),onMouseLeave:()=>this.handleSkinMouseOver(),class:"option flex flex-grow flex-middle",children:[re("span",{class:`skin-tone skin-tone-${l}`}),re("span",{class:"margin-small-lr",children:Dn.skins[l]})]})]})})})}render(){const e=this.props.perLine*this.props.emojiButtonSize;return re("section",{id:"root",class:"flex flex-column",dir:this.dir,style:{width:this.props.dynamicWidth?"100%":`calc(${e}px + (var(--padding) + var(--sidebar-width)))`},"data-emoji-set":this.props.set,"data-theme":this.state.theme,"data-menu":this.state.showSkins?"":void 0,children:[this.props.previewPosition=="top"&&this.renderPreview(),this.props.navPosition=="top"&&this.renderNav(),this.props.searchPosition=="sticky"&&re("div",{class:"padding-lr",children:this.renderSearch()}),re("div",{ref:this.refs.scroll,class:"scroll flex-grow padding-lr",children:re("div",{style:{width:this.props.dynamicWidth?"100%":e,height:"100%"},children:[this.props.searchPosition=="static"&&this.renderSearch(),this.renderSearchResults(),this.renderCategories()]})}),this.props.navPosition=="bottom"&&this.renderNav(),this.props.previewPosition=="bottom"&&this.renderPreview(),this.state.showSkins&&this.renderSkins(),this.renderLiveRegion()]})}constructor(e){super(),Gr(this,"darkMediaCallback",()=>{this.props.theme=="auto"&&this.setState({theme:this.darkMedia.matches?"dark":"light"})}),Gr(this,"handleClickOutside",t=>{const{element:r}=this.props;t.target!=r&&(this.state.showSkins&&this.closeSkins(),this.props.onClickOutside&&this.props.onClickOutside(t))}),Gr(this,"handleBaseClick",t=>{this.state.showSkins&&(t.target.closest(".menu")||(t.preventDefault(),t.stopImmediatePropagation(),this.closeSkins()))}),Gr(this,"handleBaseKeydown",t=>{this.state.showSkins&&t.key=="Escape"&&(t.preventDefault(),t.stopImmediatePropagation(),this.closeSkins())}),Gr(this,"handleSearchClick",()=>{this.getEmojiByPos(this.state.pos)&&this.setState({pos:[-1,-1]})}),Gr(this,"handleSearchInput",async()=>{const t=this.refs.searchInput.current;if(!t)return;const{value:r}=t,i=await ol.search(r),a=()=>{this.refs.scroll.current&&(this.refs.scroll.current.scrollTop=0)};if(!i)return this.setState({searchResults:i,pos:[-1,-1]},a);const l=t.selectionStart==t.value.length?[0,0]:[-1,-1],c=[];c.setsize=i.length;let h=null;for(let f of i)(!c.length||h.length==this.getPerLine())&&(h=[],h.__categoryId="search",h.__index=c.length,c.push(h)),h.push(f);this.ignoreMouse(),this.setState({searchResults:c,pos:l},a)}),Gr(this,"handleSearchKeyDown",t=>{const r=t.currentTarget;switch(t.stopImmediatePropagation(),t.key){case"ArrowLeft":this.navigate({e:t,input:r,left:!0});break;case"ArrowRight":this.navigate({e:t,input:r,right:!0});break;case"ArrowUp":this.navigate({e:t,input:r,up:!0});break;case"ArrowDown":this.navigate({e:t,input:r,down:!0});break;case"Enter":t.preventDefault(),this.handleEmojiClick({e:t,pos:this.state.pos});break;case"Escape":t.preventDefault(),this.state.searchResults?this.clearSearch():this.unfocusSearch();break}}),Gr(this,"clearSearch",()=>{const t=this.refs.searchInput.current;t&&(t.value="",t.focus(),this.handleSearchInput())}),Gr(this,"handleCategoryClick",({category:t,i:r})=>{this.scrollTo(r==0?{row:-1}:{categoryId:t.id})}),Gr(this,"openSkins",t=>{const{currentTarget:r}=t,i=r.getBoundingClientRect();this.setState({showSkins:i},async()=>{await jO(2);const a=this.refs.menu.current;a&&(a.classList.remove("hidden"),this.refs.skinToneRadio.current.focus(),this.base.addEventListener("click",this.handleBaseClick,!0),this.base.addEventListener("keydown",this.handleBaseKeydown,!0))})}),this.observers=[],this.state={pos:[-1,-1],perLine:this.initDynamicPerLine(e),visibleRows:{0:!0},...this.getInitialState(e)}}}class cy extends KO{async connectedCallback(){const e=k3(this.props,ss,this);e.element=this,e.ref=t=>{this.component=t},await e0(e),!this.disconnected&&x3(re(lM,{...e}),this.shadowRoot)}constructor(e){super(e,{styles:l3(D3)})}}Gr(cy,"Props",ss);typeof customElements<"u"&&!customElements.get("em-emoji-picker")&&customElements.define("em-emoji-picker",cy);var D3={};D3=`:host {
  width: min-content;
  height: 435px;
  min-height: 230px;
  border-radius: var(--border-radius);
  box-shadow: var(--shadow);
  --border-radius: 10px;
  --category-icon-size: 18px;
  --font-family: -apple-system, BlinkMacSystemFont, "Helvetica Neue", sans-serif;
  --font-size: 15px;
  --preview-placeholder-size: 21px;
  --preview-title-size: 1.1em;
  --preview-subtitle-size: .9em;
  --shadow-color: 0deg 0% 0%;
  --shadow: .3px .5px 2.7px hsl(var(--shadow-color) / .14), .4px .8px 1px -3.2px hsl(var(--shadow-color) / .14), 1px 2px 2.5px -4.5px hsl(var(--shadow-color) / .14);
  display: flex;
}

[data-theme="light"] {
  --em-rgb-color: var(--rgb-color, 34, 36, 39);
  --em-rgb-accent: var(--rgb-accent, 34, 102, 237);
  --em-rgb-background: var(--rgb-background, 255, 255, 255);
  --em-rgb-input: var(--rgb-input, 255, 255, 255);
  --em-color-border: var(--color-border, rgba(0, 0, 0, .05));
  --em-color-border-over: var(--color-border-over, rgba(0, 0, 0, .1));
}

[data-theme="dark"] {
  --em-rgb-color: var(--rgb-color, 222, 222, 221);
  --em-rgb-accent: var(--rgb-accent, 58, 130, 247);
  --em-rgb-background: var(--rgb-background, 21, 22, 23);
  --em-rgb-input: var(--rgb-input, 0, 0, 0);
  --em-color-border: var(--color-border, rgba(255, 255, 255, .1));
  --em-color-border-over: var(--color-border-over, rgba(255, 255, 255, .2));
}

#root {
  --color-a: rgb(var(--em-rgb-color));
  --color-b: rgba(var(--em-rgb-color), .65);
  --color-c: rgba(var(--em-rgb-color), .45);
  --padding: 12px;
  --padding-small: calc(var(--padding) / 2);
  --sidebar-width: 16px;
  --duration: 225ms;
  --duration-fast: 125ms;
  --duration-instant: 50ms;
  --easing: cubic-bezier(.4, 0, .2, 1);
  width: 100%;
  text-align: left;
  border-radius: var(--border-radius);
  background-color: rgb(var(--em-rgb-background));
  position: relative;
}

@media (prefers-reduced-motion) {
  #root {
    --duration: 0;
    --duration-fast: 0;
    --duration-instant: 0;
  }
}

#root[data-menu] button {
  cursor: auto;
}

#root[data-menu] .menu button {
  cursor: pointer;
}

:host, #root, input, button {
  color: rgb(var(--em-rgb-color));
  font-family: var(--font-family);
  font-size: var(--font-size);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  line-height: normal;
}

*, :before, :after {
  box-sizing: border-box;
  min-width: 0;
  margin: 0;
  padding: 0;
}

.relative {
  position: relative;
}

.flex {
  display: flex;
}

.flex-auto {
  flex: none;
}

.flex-center {
  justify-content: center;
}

.flex-column {
  flex-direction: column;
}

.flex-grow {
  flex: auto;
}

.flex-middle {
  align-items: center;
}

.flex-wrap {
  flex-wrap: wrap;
}

.padding {
  padding: var(--padding);
}

.padding-t {
  padding-top: var(--padding);
}

.padding-lr {
  padding-left: var(--padding);
  padding-right: var(--padding);
}

.padding-r {
  padding-right: var(--padding);
}

.padding-small {
  padding: var(--padding-small);
}

.padding-small-b {
  padding-bottom: var(--padding-small);
}

.padding-small-lr {
  padding-left: var(--padding-small);
  padding-right: var(--padding-small);
}

.margin {
  margin: var(--padding);
}

.margin-r {
  margin-right: var(--padding);
}

.margin-l {
  margin-left: var(--padding);
}

.margin-small-l {
  margin-left: var(--padding-small);
}

.margin-small-lr {
  margin-left: var(--padding-small);
  margin-right: var(--padding-small);
}

.align-l {
  text-align: left;
}

.align-r {
  text-align: right;
}

.color-a {
  color: var(--color-a);
}

.color-b {
  color: var(--color-b);
}

.color-c {
  color: var(--color-c);
}

.ellipsis {
  white-space: nowrap;
  max-width: 100%;
  width: auto;
  text-overflow: ellipsis;
  overflow: hidden;
}

.sr-only {
  width: 1px;
  height: 1px;
  position: absolute;
  top: auto;
  left: -10000px;
  overflow: hidden;
}

a {
  cursor: pointer;
  color: rgb(var(--em-rgb-accent));
}

a:hover {
  text-decoration: underline;
}

.spacer {
  height: 10px;
}

[dir="rtl"] .scroll {
  padding-left: 0;
  padding-right: var(--padding);
}

.scroll {
  padding-right: 0;
  overflow-x: hidden;
  overflow-y: auto;
}

.scroll::-webkit-scrollbar {
  width: var(--sidebar-width);
  height: var(--sidebar-width);
}

.scroll::-webkit-scrollbar-track {
  border: 0;
}

.scroll::-webkit-scrollbar-button {
  width: 0;
  height: 0;
  display: none;
}

.scroll::-webkit-scrollbar-corner {
  background-color: rgba(0, 0, 0, 0);
}

.scroll::-webkit-scrollbar-thumb {
  min-height: 20%;
  min-height: 65px;
  border: 4px solid rgb(var(--em-rgb-background));
  border-radius: 8px;
}

.scroll::-webkit-scrollbar-thumb:hover {
  background-color: var(--em-color-border-over) !important;
}

.scroll:hover::-webkit-scrollbar-thumb {
  background-color: var(--em-color-border);
}

.sticky {
  z-index: 1;
  background-color: rgba(var(--em-rgb-background), .9);
  -webkit-backdrop-filter: blur(4px);
  backdrop-filter: blur(4px);
  font-weight: 500;
  position: sticky;
  top: -1px;
}

[dir="rtl"] .search input[type="search"] {
  padding: 10px 2.2em 10px 2em;
}

[dir="rtl"] .search .loupe {
  left: auto;
  right: .7em;
}

[dir="rtl"] .search .delete {
  left: .7em;
  right: auto;
}

.search {
  z-index: 2;
  position: relative;
}

.search input, .search button {
  font-size: calc(var(--font-size)  - 1px);
}

.search input[type="search"] {
  width: 100%;
  background-color: var(--em-color-border);
  transition-duration: var(--duration);
  transition-property: background-color, box-shadow;
  transition-timing-function: var(--easing);
  border: 0;
  border-radius: 10px;
  outline: 0;
  padding: 10px 2em 10px 2.2em;
  display: block;
}

.search input[type="search"]::-ms-input-placeholder {
  color: inherit;
  opacity: .6;
}

.search input[type="search"]::placeholder {
  color: inherit;
  opacity: .6;
}

.search input[type="search"], .search input[type="search"]::-webkit-search-decoration, .search input[type="search"]::-webkit-search-cancel-button, .search input[type="search"]::-webkit-search-results-button, .search input[type="search"]::-webkit-search-results-decoration {
  -webkit-appearance: none;
  -ms-appearance: none;
  appearance: none;
}

.search input[type="search"]:focus {
  background-color: rgb(var(--em-rgb-input));
  box-shadow: inset 0 0 0 1px rgb(var(--em-rgb-accent)), 0 1px 3px rgba(65, 69, 73, .2);
}

.search .icon {
  z-index: 1;
  color: rgba(var(--em-rgb-color), .7);
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
}

.search .loupe {
  pointer-events: none;
  left: .7em;
}

.search .delete {
  right: .7em;
}

svg {
  fill: currentColor;
  width: 1em;
  height: 1em;
}

button {
  -webkit-appearance: none;
  -ms-appearance: none;
  appearance: none;
  cursor: pointer;
  color: currentColor;
  background-color: rgba(0, 0, 0, 0);
  border: 0;
}

#nav {
  z-index: 2;
  padding-top: 12px;
  padding-bottom: 12px;
  padding-right: var(--sidebar-width);
  position: relative;
}

#nav button {
  color: var(--color-b);
  transition: color var(--duration) var(--easing);
}

#nav button:hover {
  color: var(--color-a);
}

#nav svg, #nav img {
  width: var(--category-icon-size);
  height: var(--category-icon-size);
}

#nav[dir="rtl"] .bar {
  left: auto;
  right: 0;
}

#nav .bar {
  width: 100%;
  height: 3px;
  background-color: rgb(var(--em-rgb-accent));
  transition: transform var(--duration) var(--easing);
  border-radius: 3px 3px 0 0;
  position: absolute;
  bottom: -12px;
  left: 0;
}

#nav button[aria-selected] {
  color: rgb(var(--em-rgb-accent));
}

#preview {
  z-index: 2;
  padding: calc(var(--padding)  + 4px) var(--padding);
  padding-right: var(--sidebar-width);
  position: relative;
}

#preview .preview-placeholder {
  font-size: var(--preview-placeholder-size);
}

#preview .preview-title {
  font-size: var(--preview-title-size);
}

#preview .preview-subtitle {
  font-size: var(--preview-subtitle-size);
}

#nav:before, #preview:before {
  content: "";
  height: 2px;
  position: absolute;
  left: 0;
  right: 0;
}

#nav[data-position="top"]:before, #preview[data-position="top"]:before {
  background: linear-gradient(to bottom, var(--em-color-border), transparent);
  top: 100%;
}

#nav[data-position="bottom"]:before, #preview[data-position="bottom"]:before {
  background: linear-gradient(to top, var(--em-color-border), transparent);
  bottom: 100%;
}

.category:last-child {
  min-height: calc(100% + 1px);
}

.category button {
  font-family: -apple-system, BlinkMacSystemFont, Helvetica Neue, sans-serif;
  position: relative;
}

.category button > * {
  position: relative;
}

.category button .background {
  opacity: 0;
  background-color: var(--em-color-border);
  transition: opacity var(--duration-fast) var(--easing) var(--duration-instant);
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
}

.category button:hover .background {
  transition-duration: var(--duration-instant);
  transition-delay: 0s;
}

.category button[aria-selected] .background {
  opacity: 1;
}

.category button[data-keyboard] .background {
  transition: none;
}

.row {
  width: 100%;
  position: absolute;
  top: 0;
  left: 0;
}

.skin-tone-button {
  border: 1px solid rgba(0, 0, 0, 0);
  border-radius: 100%;
}

.skin-tone-button:hover {
  border-color: var(--em-color-border);
}

.skin-tone-button:active .skin-tone {
  transform: scale(.85) !important;
}

.skin-tone-button .skin-tone {
  transition: transform var(--duration) var(--easing);
}

.skin-tone-button[aria-selected] {
  background-color: var(--em-color-border);
  border-top-color: rgba(0, 0, 0, .05);
  border-bottom-color: rgba(0, 0, 0, 0);
  border-left-width: 0;
  border-right-width: 0;
}

.skin-tone-button[aria-selected] .skin-tone {
  transform: scale(.9);
}

.menu {
  z-index: 2;
  white-space: nowrap;
  border: 1px solid var(--em-color-border);
  background-color: rgba(var(--em-rgb-background), .9);
  -webkit-backdrop-filter: blur(4px);
  backdrop-filter: blur(4px);
  transition-property: opacity, transform;
  transition-duration: var(--duration);
  transition-timing-function: var(--easing);
  border-radius: 10px;
  padding: 4px;
  position: absolute;
  box-shadow: 1px 1px 5px rgba(0, 0, 0, .05);
}

.menu.hidden {
  opacity: 0;
}

.menu[data-position="bottom"] {
  transform-origin: 100% 100%;
}

.menu[data-position="bottom"].hidden {
  transform: scale(.9)rotate(-3deg)translateY(5%);
}

.menu[data-position="top"] {
  transform-origin: 100% 0;
}

.menu[data-position="top"].hidden {
  transform: scale(.9)rotate(3deg)translateY(-5%);
}

.menu input[type="radio"] {
  clip: rect(0 0 0 0);
  width: 1px;
  height: 1px;
  border: 0;
  margin: 0;
  padding: 0;
  position: absolute;
  overflow: hidden;
}

.menu input[type="radio"]:checked + .option {
  box-shadow: 0 0 0 2px rgb(var(--em-rgb-accent));
}

.option {
  width: 100%;
  border-radius: 6px;
  padding: 4px 6px;
}

.option:hover {
  color: #fff;
  background-color: rgb(var(--em-rgb-accent));
}

.skin-tone {
  width: 16px;
  height: 16px;
  border-radius: 100%;
  display: inline-block;
  position: relative;
  overflow: hidden;
}

.skin-tone:after {
  content: "";
  mix-blend-mode: overlay;
  background: linear-gradient(rgba(255, 255, 255, .2), rgba(0, 0, 0, 0));
  border: 1px solid rgba(0, 0, 0, .8);
  border-radius: 100%;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
  box-shadow: inset 0 -2px 3px #000, inset 0 1px 2px #fff;
}

.skin-tone-1 {
  background-color: #ffc93a;
}

.skin-tone-2 {
  background-color: #ffdab7;
}

.skin-tone-3 {
  background-color: #e7b98f;
}

.skin-tone-4 {
  background-color: #c88c61;
}

.skin-tone-5 {
  background-color: #a46134;
}

.skin-tone-6 {
  background-color: #5d4437;
}

[data-index] {
  justify-content: space-between;
}

[data-emoji-set="twitter"] .skin-tone:after {
  box-shadow: none;
  border-color: rgba(0, 0, 0, .5);
}

[data-emoji-set="twitter"] .skin-tone-1 {
  background-color: #fade72;
}

[data-emoji-set="twitter"] .skin-tone-2 {
  background-color: #f3dfd0;
}

[data-emoji-set="twitter"] .skin-tone-3 {
  background-color: #eed3a8;
}

[data-emoji-set="twitter"] .skin-tone-4 {
  background-color: #cfad8d;
}

[data-emoji-set="twitter"] .skin-tone-5 {
  background-color: #a8805d;
}

[data-emoji-set="twitter"] .skin-tone-6 {
  background-color: #765542;
}

[data-emoji-set="google"] .skin-tone:after {
  box-shadow: inset 0 0 2px 2px rgba(0, 0, 0, .4);
}

[data-emoji-set="google"] .skin-tone-1 {
  background-color: #f5c748;
}

[data-emoji-set="google"] .skin-tone-2 {
  background-color: #f1d5aa;
}

[data-emoji-set="google"] .skin-tone-3 {
  background-color: #d4b48d;
}

[data-emoji-set="google"] .skin-tone-4 {
  background-color: #aa876b;
}

[data-emoji-set="google"] .skin-tone-5 {
  background-color: #916544;
}

[data-emoji-set="google"] .skin-tone-6 {
  background-color: #61493f;
}

[data-emoji-set="facebook"] .skin-tone:after {
  border-color: rgba(0, 0, 0, .4);
  box-shadow: inset 0 -2px 3px #000, inset 0 1px 4px #fff;
}

[data-emoji-set="facebook"] .skin-tone-1 {
  background-color: #f5c748;
}

[data-emoji-set="facebook"] .skin-tone-2 {
  background-color: #f1d5aa;
}

[data-emoji-set="facebook"] .skin-tone-3 {
  background-color: #d4b48d;
}

[data-emoji-set="facebook"] .skin-tone-4 {
  background-color: #aa876b;
}

[data-emoji-set="facebook"] .skin-tone-5 {
  background-color: #916544;
}

[data-emoji-set="facebook"] .skin-tone-6 {
  background-color: #61493f;
}

`;function jM(n){const e=xe.useRef(null),t=xe.useRef(null);return t.current&&t.current.update(n),xe.useEffect(()=>(t.current=new cy({...n,ref:e}),()=>{t.current=null}),[]),_t.createElement("div",{ref:e})}export{jM as $,AM as A,kM as B,$M as C,CM as D,RM as E,cM as F,qs as G,hM as L,OM as P,TM as a,NM as b,wM as c,dM as d,pM as e,fM as f,_M as g,gM as h,KS as i,pm as j,aP as k,DM as l,PM as m,SM as n,mM as o,UM as p,zM as q,xe as r,yM as s,ut as t,bM as u,IM as v,LM as w,BM as x,pt as y,FM as z};
